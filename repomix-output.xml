This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
app/(auth)/login/page.tsx
app/(auth)/logout/page.tsx
app/(business)/clients/page.tsx
app/(business)/dashboard/page.tsx
app/(business)/layout.tsx
app/(business)/reports/page.tsx
app/(business)/stock-menu/menu-management/page.tsx
app/(business)/stock-menu/page.tsx
app/(business)/subscriptions/page.tsx
app/businesses/[businessName]/page.tsx
app/businesses/page.tsx
app/globals.css
app/landing/page.tsx
app/layout.tsx
app/onboarding/page.tsx
app/page.tsx
app/users/[userName]/page.tsx
app/users/page.tsx
components.json
components/ActivityTrendChart.tsx
components/admin/AdminDashboardContent.tsx
components/auth-guard.tsx
components/business/category-sidebar.tsx
components/business/item-performance-card.tsx
components/business/menu-item-table.tsx
components/business/performance-metric-card.tsx
components/business/recent-activity-table.tsx
components/business/review-card.tsx
components/business/stock-metric-card.tsx
components/businesses/business-history-table.tsx
components/businesses/business-progress-table.tsx
components/businesses/BusinessDetailsModal.tsx
components/landing/AppStoreButton.tsx
components/landing/CheckListItem.tsx
components/landing/FAQSection.tsx
components/landing/FeatureCard.tsx
components/landing/FeaturesSection.tsx
components/landing/FooterSection.tsx
components/landing/HeroSection.tsx
components/landing/Navbar.tsx
components/landing/ScrollToTop.tsx
components/landing/SectionBadge.tsx
components/landing/TeamSection.tsx
components/layout/app-shell.tsx
components/layout/navbar.tsx
components/layout/page-header.tsx
components/layout/sidebar.tsx
components/login-form.tsx
components/NotificationCard.tsx
components/TeamCard.tsx
components/theme-provider.tsx
components/ui/accordion.tsx
components/ui/alert-dialog.tsx
components/ui/alert.tsx
components/ui/aspect-ratio.tsx
components/ui/avatar.tsx
components/ui/badge.tsx
components/ui/breadcrumb.tsx
components/ui/button.tsx
components/ui/calendar.tsx
components/ui/card.tsx
components/ui/carousel.tsx
components/ui/chart.tsx
components/ui/checkbox.tsx
components/ui/collapsible.tsx
components/ui/command.tsx
components/ui/context-menu.tsx
components/ui/dialog.tsx
components/ui/drawer.tsx
components/ui/dropdown-menu.tsx
components/ui/form.tsx
components/ui/hover-card.tsx
components/ui/input-otp.tsx
components/ui/input.tsx
components/ui/label.tsx
components/ui/menubar.tsx
components/ui/navigation-menu.tsx
components/ui/pagination.tsx
components/ui/popover.tsx
components/ui/progress.tsx
components/ui/radio-group.tsx
components/ui/resizable.tsx
components/ui/scroll-area.tsx
components/ui/select.tsx
components/ui/separator.tsx
components/ui/sheet.tsx
components/ui/sidebar.tsx
components/ui/skeleton.tsx
components/ui/slider.tsx
components/ui/sonner.tsx
components/ui/switch.tsx
components/ui/table-controls.tsx
components/ui/table.tsx
components/ui/tabs.tsx
components/ui/textarea.tsx
components/ui/toast.tsx
components/ui/toaster.tsx
components/ui/toggle-group.tsx
components/ui/toggle.tsx
components/ui/tooltip.tsx
components/ui/use-mobile.tsx
components/ui/use-toast.ts
components/UserActivityModal.tsx
components/users/history-table.tsx
components/users/progress-table.tsx
components/users/UserDetailsModal.tsx
components/value-card.tsx
contexts/auth-context.tsx
hooks/use-mobile.ts
hooks/use-toast.ts
lib/api-client.ts
lib/auth.ts
lib/upload.ts
lib/utils.ts
next.config.mjs
package.json
postcss.config.mjs
public/landing/kigali_scene.png
public/landing/landing_features_bg.png
public/landing/landing_features_electronics.png
public/landing/landing_hero_bg.png
public/landing/landing_iphone_1.png
public/landing/landing_iphone_2.png
public/landing/landing_iphone.png
public/logo.png
public/Modal.png
public/ModalDetails.png
public/team/amelie.jpg
public/team/lily.jpg
public/team/nikolas.jpg
public/team/sienna.jpg
public/team/zahra.jpg
README.md
styles/globals.css
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules

# next.js
/.next/
/out/

# production
/build

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
</file>

<file path="app/onboarding/page.tsx">
"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { apiClient } from "@/lib/api-client";
import { uploadFile } from "@/lib/upload";
import { useAuth } from "@/contexts/auth-context";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Card } from "@/components/ui/card";
import { toast } from "sonner";
import { ChevronRight, ChevronLeft, Upload, CheckCircle2, Building2 } from "lucide-react";

export default function OnboardingPage() {
    const [step, setStep] = useState(1);
    const [places, setPlaces] = useState<any[]>([]);
    const [selectedPlaceId, setSelectedPlaceId] = useState("");
    const [phone, setPhone] = useState("");
    const [file, setFile] = useState<File | null>(null);
    const [isSubmitting, setIsSubmitting] = useState(false);
    const router = useRouter();
    const { refreshProfile } = useAuth();

    useEffect(() => {
        const fetchPlaces = async () => {
            try {
                const response = await apiClient.get("/places");
                setPlaces(response.data.data || []);
            } catch (error) {
                console.error("Failed to fetch places:", error);
            }
        };
        fetchPlaces();
    }, []);

    const handleNext = () => setStep((s) => s + 1);
    const handleBack = () => setStep((s) => s - 1);

    const handleSubmit = async () => {
        if (!selectedPlaceId || !file || !phone) {
            toast.error("Please fill in all details and upload evidence.");
            return;
        }

        try {
            setIsSubmitting(true);

            // 1. Upload evidence to R2
            const publicUrl = await uploadFile(file, {
                fileName: file.name,
                contentType: file.type,
                uploadType: "document",
            });

            // 2. Submit claim
            await apiClient.post("/claims", {
                placeId: selectedPlaceId,
                method: "docs",
                evidence: {
                    fileUrl: publicUrl,
                    phone: phone,
                },
            });

            toast.success("Claim submitted successfully! A moderator will review it soon.");
            await refreshProfile();
            setStep(7); // Success step
        } catch (error) {
            console.error("Failed to submit claim:", error);
            toast.error("Failed to submit claim. Please try again.");
        } finally {
            setIsSubmitting(false);
        }
    };

    return (
        <div className="min-h-screen bg-[#0C0C0C] flex items-center justify-center p-4">
            <Card className="max-w-md w-full bg-brand-dark-900 border-brand-dark-800 p-8 space-y-8">
                <div className="flex justify-between items-center">
                    <h1 className="text-2xl font-bold text-white">Claim Your Business</h1>
                    <span className="text-brand-dark-400 text-sm">Step {step} of 6</span>
                </div>

                {step === 1 && (
                    <div className="space-y-4">
                        <h2 className="text-xl text-white">Welcome! Let's get started.</h2>
                        <p className="text-brand-dark-300">Register or claim your business to start managing your profile and reviews.</p>
                        <Button className="w-full" onClick={handleNext}>Start Onboarding</Button>
                    </div>
                )}

                {step === 2 && (
                    <div className="space-y-4">
                        <Label className="text-white">Search and select your business</Label>
                        <select
                            className="w-full bg-brand-dark-800 border-brand-dark-700 text-white p-3 rounded-lg outline-none"
                            value={selectedPlaceId}
                            onChange={(e) => setSelectedPlaceId(e.target.value)}
                        >
                            <option value="">Select a place...</option>
                            {places.map((p) => (
                                <option key={p.id} value={p.id}>{p.name} - {p.category}</option>
                            ))}
                        </select>
                        <div className="flex gap-4">
                            <Button variant="ghost" className="flex-1 text-white" onClick={handleBack}>Back</Button>
                            <Button className="flex-1" onClick={handleNext} disabled={!selectedPlaceId}>Next</Button>
                        </div>
                    </div>
                )}

                {step === 3 && (
                    <div className="space-y-4">
                        <Label className="text-white">Business Category Confirmation</Label>
                        <div className="p-4 bg-brand-dark-800 rounded-lg text-brand-dark-200 flex items-center gap-3">
                            <Building2 className="text-blue-400" />
                            <span>{places.find(p => p.id === selectedPlaceId)?.category || "Selected Business"}</span>
                        </div>
                        <p className="text-sm text-brand-dark-400">Please confirm if this is the correct business you wish to claim.</p>
                        <div className="flex gap-4">
                            <Button variant="ghost" className="flex-1 text-white" onClick={handleBack}>Back</Button>
                            <Button className="flex-1" onClick={handleNext}>Yes, it's correct</Button>
                        </div>
                    </div>
                )}

                {step === 4 && (
                    <div className="space-y-4">
                        <Label className="text-white">Contact Information</Label>
                        <Input
                            placeholder="Business Phone Number"
                            className="bg-brand-dark-800 border-brand-dark-700 text-white"
                            value={phone}
                            onChange={(e) => setPhone(e.target.value)}
                        />
                        <p className="text-xs text-brand-dark-400">We'll use this to verify your ownership if needed.</p>
                        <div className="flex gap-4">
                            <Button variant="ghost" className="flex-1 text-white" onClick={handleBack}>Back</Button>
                            <Button className="flex-1" onClick={handleNext} disabled={!phone}>Next</Button>
                        </div>
                    </div>
                )}

                {step === 5 && (
                    <div className="space-y-4">
                        <Label className="text-white">Evidence of Ownership</Label>
                        <div
                            className="border-2 border-dashed border-brand-dark-700 rounded-xl p-8 flex flex-col items-center justify-center space-y-4 cursor-pointer hover:border-blue-500 transition-colors"
                            onClick={() => document.getElementById("file-upload")?.click()}
                        >
                            <Upload className="w-12 h-12 text-brand-dark-400" />
                            <span className="text-brand-dark-300">{file ? file.name : "Click to upload business doc (PDF/Image)"}</span>
                            <input
                                id="file-upload"
                                type="file"
                                className="hidden"
                                onChange={(e) => setFile(e.target.files?.[0] || null)}
                            />
                        </div>
                        <div className="flex gap-4">
                            <Button variant="ghost" className="flex-1 text-white" onClick={handleBack}>Back</Button>
                            <Button className="flex-1" onClick={handleNext} disabled={!file}>Next</Button>
                        </div>
                    </div>
                )}

                {step === 6 && (
                    <div className="space-y-4">
                        <h2 className="text-xl text-white">Review & Submit</h2>
                        <div className="space-y-2 text-sm text-brand-dark-300">
                            <p><strong>Business:</strong> {places.find(p => p.id === selectedPlaceId)?.name}</p>
                            <p><strong>Phone:</strong> {phone}</p>
                            <p><strong>Evidence:</strong> {file?.name}</p>
                        </div>
                        <div className="flex gap-4">
                            <Button variant="ghost" className="flex-1 text-white" onClick={handleBack}>Back</Button>
                            <Button className="flex-1 bg-blue-600 hover:bg-blue-700" onClick={handleSubmit} disabled={isSubmitting}>
                                {isSubmitting ? "Submitting..." : "Submit Claim"}
                            </Button>
                        </div>
                    </div>
                )}

                {step === 7 && (
                    <div className="space-y-6 text-center">
                        <div className="flex justify-center">
                            <CheckCircle2 className="w-16 h-16 text-emerald-500" />
                        </div>
                        <h2 className="text-2xl text-white">Done!</h2>
                        <p className="text-brand-dark-300">Your claim has been submitted. You will be notified once it's reviewed.</p>
                        <Button className="w-full" onClick={() => router.push("/dashboard")}>Go to Dashboard</Button>
                    </div>
                )}
            </Card>
        </div>
    );
}
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}
</file>

<file path="components/admin/AdminDashboardContent.tsx">
"use client";

import { useState, useEffect } from "react";
import dynamic from "next/dynamic";
import { apiClient } from "@/lib/api-client";
import { useAuth } from "@/contexts/auth-context";
import ValueCard from "@/components/value-card";
import ProgressTable, { type RegistrationRequest } from "@/components/users/progress-table";
import { LayoutDashboard, Users, Building2, CreditCard, DollarSign, BarChart3, LogOut, Coins, QrCode, BadgeCheck } from "lucide-react";
import { PieChart, Pie, Cell } from "recharts";
import { ChartContainer, type ChartConfig, ChartLegend, ChartTooltip, ChartTooltipContent } from "@/components/ui/chart";
import { Card } from "@/components/ui/card";
import { type SidebarMenuSection } from "@/components/layout/sidebar";
import { toast } from "sonner";
import AppShell from "@/components/layout/app-shell";
import PageHeader from "@/components/layout/page-header";

const ActivityTrendChart = dynamic(() => import("@/components/ActivityTrendChart"), {
    ssr: false,
});

export default function AdminDashboardContent() {
    const [currentPicksPage, setCurrentPicksPage] = useState(1);
    const [places, setPlaces] = useState<RegistrationRequest[]>([]);
    const [claims, setClaims] = useState<RegistrationRequest[]>([]);
    const [userCount, setUserCount] = useState(0);
    const [isLoading, setIsLoading] = useState(true);
    const { user, logout } = useAuth();

    const displayUser = user || {
        id: "",
        name: "",
        email: "",
    };

    const menu: SidebarMenuSection[] = [
        {
            section: "App Management",
            items: [
                { icon: LayoutDashboard, label: "Dashboard", href: "/", active: true },
                { icon: Building2, label: "Businesses", badge: places.length, href: "/businesses" },
                { icon: Users, label: "Users", href: "/users" },
                { icon: CreditCard, label: "Subscriptions", href: "/subscriptions" },
                { icon: DollarSign, label: "Revenues", href: "/revenues" },
                { icon: BarChart3, label: "Reports", href: "/reports" },
            ],
        },
        {
            section: "Account",
            items: [{ icon: LogOut, label: "Sign Out", onClick: logout }],
        },
    ];

    useEffect(() => {
        const fetchData = async () => {
            try {
                setIsLoading(true);
                const [placesRes, claimsRes, usersRes] = await Promise.all([
                    apiClient.get("/places"),
                    apiClient.get("/claims?status=pending"),
                    apiClient.get("/users"),
                ]);

                const mappedPlaces: RegistrationRequest[] = (placesRes.data.data || []).map((p: any) => ({
                    id: p.id,
                    name: p.name,
                    email: p.email || "N/A",
                    avatar: p.logoUrl || "",
                    totalCoins: 0,
                    places: 1,
                    lastVisit: { location: p.category || "General", time: new Date(p.createdAt).toLocaleDateString() },
                    status: "approved",
                }));

                const mappedClaims: RegistrationRequest[] = (claimsRes.data.data || []).map((c: any) => ({
                    id: c.id,
                    name: c.place?.name || "Unknown",
                    email: c.user?.email || "N/A",
                    avatar: c.place?.logoUrl || "",
                    totalCoins: 0,
                    places: 1,
                    lastVisit: { location: "Pending Claim", time: new Date(c.createdAt).toLocaleDateString() },
                    status: "pending",
                }));

                setPlaces(mappedPlaces);
                setClaims(mappedClaims);
                setUserCount(usersRes.data.data?.length || 0);
            } catch (error) {
                console.error("Failed to fetch dashboard data:", error);
                toast.error("Failed to load dashboard data");
            } finally {
                setIsLoading(false);
            }
        };

        fetchData();
    }, []);

    const chartData = [
        { day: "Sun", registeredUsers: 45, visitors: 65 },
        { day: "Mon", registeredUsers: 75, visitors: 85 },
        { day: "Tue", registeredUsers: 55, visitors: 70 },
        { day: "Wed", registeredUsers: 85, visitors: 35 },
        { day: "Thu", registeredUsers: 70, visitors: 80 },
        { day: "Fri", registeredUsers: 60, visitors: 75 },
        { day: "Sat", registeredUsers: 80, visitors: 90 },
    ];

    const categories = [
        { name: "Hotels", value: 35, color: "#3b82f6" },
        { name: "Motels", value: 15, color: "#10b981" },
        { name: "Bars", value: 12, color: "#f59e0b" },
        { name: "Cafes", value: 10, color: "#06b6d4" },
        { name: "Restaurants", value: 18, color: "#a855f7" },
        { name: "Lounges", value: 10, color: "#ef4444" },
    ];

    const categoryChartConfig: ChartConfig = {
        Hotels: { label: "Hotels", color: "#3b82f6" },
        Motels: { label: "Motels", color: "#10b981" },
        Bars: { label: "Bars", color: "#f59e0b" },
        Cafes: { label: "Cafes", color: "#06b6d4" },
        Restaurants: { label: "Restaurants", color: "#a855f7" },
        Lounges: { label: "Lounges", color: "#ef4444" },
    };

    const latestPicks = [
        {
            title: "Sky Dandelions Apartment",
            image: "https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg?auto=compress&cs=tinysrgb&w=640",
            price: "250",
            tag: "New Deal",
            logo: "/logo.png",
        },
    ];

    const PICKS_PER_PAGE = 3;
    const paginatedPicks = latestPicks.slice(
        (currentPicksPage - 1) * PICKS_PER_PAGE,
        currentPicksPage * PICKS_PER_PAGE
    );

    return (
        <AppShell user={displayUser} menu={menu}>
            <PageHeader breadcrumbs={[{ label: "Home", href: "/" }, { label: "Dashboard" }]} />

            <div className="space-y-8">
                <div className="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-8">
                    <ValueCard title="Total Users" value={userCount} unit="Users" description="+2.4%" label="All time" />
                    <ValueCard title="Active Businesses" value={places.length} unit="Groups" description="+2.4%" label="All time" />
                    <ValueCard title="Pending Claims" value={claims.length} unit="Requests" description="Action required" label="Now" />
                    <ValueCard title="Revenues" value={0} unit="RWF" description="0%" label="All time" />
                </div>

                <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div className="lg:col-span-2">
                        <ActivityTrendChart data={chartData} />
                    </div>
                    <div className="space-y-6">
                        <div className="bg-brand-dark-900 border border-gray-800 rounded-xl p-6 h-full">
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="text-brand-dark-50 font-semibold">Businesses by Category</h3>
                            </div>
                            <ChartContainer config={categoryChartConfig} className="h-64">
                                <PieChart>
                                    <Pie data={categories} dataKey="value" nameKey="name" innerRadius={60} outerRadius={90} stroke="none">
                                        {categories.map((entry, index) => (
                                            <Cell key={`cell-${index}`} fill={entry.color} />
                                        ))}
                                    </Pie>
                                    <ChartTooltip cursor={false} content={<ChartTooltipContent nameKey="name" />} />
                                    <ChartLegend verticalAlign="bottom" align="center" />
                                </PieChart>
                            </ChartContainer>
                        </div>
                    </div>
                </div>

                <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div className="lg:col-span-2 ">
                        <ProgressTable data={claims} title="Pending Business Registration Requests" />
                    </div>
                    <div className="space-y-4 flex flex-col">
                        <div className="flex items-center justify-between px-1">
                            <h3 className="text-brand-dark-50 font-semibold">Latest Picks</h3>
                            <button className="text-sm text-brand-dark-300 hover:text-brand-dark-100">View All â†’</button>
                        </div>
                        <div className="space-y-4 flex-1 overflow-y-auto no-scrollbar pr-2">
                            {paginatedPicks.map((p, idx) => (
                                <Card key={`${p.title}-${idx}`} className="relative border border-gray-800 overflow-hidden p-0 rounded-2xl">
                                    <div className="relative aspect-[4/3] w-full">
                                        <img src={p.image} alt={p.title} className="absolute inset-0 w-full h-full object-cover" />
                                        <div className="absolute top-4 right-4">
                                            <span className="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-black/60 ring-1 ring-white/10 text-white text-sm font-medium">
                                                <span className="inline-flex items-center justify-center w-5 h-5 rounded-full bg-emerald-600">
                                                    <BadgeCheck className="w-3.5 h-3.5" />
                                                </span>
                                                {p.tag}
                                            </span>
                                        </div>
                                        <div className="absolute inset-x-0 bottom-0 h-4/5 bg-gradient-to-t from-black/85 via-black/55 to-transparent" />
                                    </div>
                                    <div className="absolute inset-x-0 bottom-0 p-4">
                                        <div className="mx-2 mb-2 rounded-xl  p-3">
                                            <div className="flex items-center gap-3">
                                                <div className="w-9 h-9 rounded-lg bg-black/60 ring-1 ring-white/15 flex items-center justify-center overflow-hidden">
                                                    <img src={p.logo} alt="logo" className="w-6 h-6 object-contain" />
                                                </div>
                                                <h4 className="text-white text-lg font-semibold drop-shadow-sm truncate">{p.title}</h4>
                                            </div>
                                            <div className="mt-2 text-white/90 text-sm">Get 10% off with Christmas Sales</div>
                                            <div className="mt-3 flex items-center justify-between">
                                                <div className="flex items-center gap-2 text-white text-base">
                                                    <Coins className="w-4 h-4 text-white" />
                                                    <span className="font-semibold">+{p.price}</span>
                                                </div>
                                                <button className="inline-flex items-center justify-center w-14 h-14 rounded-lg bg-black/40 ring-1 ring-white/15 text-white">
                                                    <QrCode className="w-7 h-7" />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </Card>
                            ))}
                        </div>
                    </div>
                </div>
            </div>
        </AppShell>
    );
}
</file>

<file path="components/theme-provider.tsx">
'use client'

import * as React from 'react'
import {
  ThemeProvider as NextThemesProvider,
  type ThemeProviderProps,
} from 'next-themes'

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}
</file>

<file path="components/ui/accordion.tsx">
"use client"

import * as React from "react"
import * as AccordionPrimitive from "@radix-ui/react-accordion"
import { ChevronDownIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Accordion({
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Root>) {
  return <AccordionPrimitive.Root data-slot="accordion" {...props} />
}

function AccordionItem({
  className,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Item>) {
  return (
    <AccordionPrimitive.Item
      data-slot="accordion-item"
      className={cn("border-b last:border-b-0", className)}
      {...props}
    />
  )
}

function AccordionTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {
  return (
    <AccordionPrimitive.Header className="flex">
      <AccordionPrimitive.Trigger
        data-slot="accordion-trigger"
        className={cn(
          "focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",
          className
        )}
        {...props}
      >
        {children}
        <ChevronDownIcon className="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200" />
      </AccordionPrimitive.Trigger>
    </AccordionPrimitive.Header>
  )
}

function AccordionContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Content>) {
  return (
    <AccordionPrimitive.Content
      data-slot="accordion-content"
      className="data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"
      {...props}
    >
      <div className={cn("pt-0 pb-4", className)}>{children}</div>
    </AccordionPrimitive.Content>
  )
}

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }
</file>

<file path="components/ui/alert-dialog.tsx">
"use client"

import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

function AlertDialog({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {
  return <AlertDialogPrimitive.Root data-slot="alert-dialog" {...props} />
}

function AlertDialogTrigger({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {
  return (
    <AlertDialogPrimitive.Trigger data-slot="alert-dialog-trigger" {...props} />
  )
}

function AlertDialogPortal({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {
  return (
    <AlertDialogPrimitive.Portal data-slot="alert-dialog-portal" {...props} />
  )
}

function AlertDialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {
  return (
    <AlertDialogPrimitive.Overlay
      data-slot="alert-dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogContent({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {
  return (
    <AlertDialogPortal>
      <AlertDialogOverlay />
      <AlertDialogPrimitive.Content
        data-slot="alert-dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className
        )}
        {...props}
      />
    </AlertDialogPortal>
  )
}

function AlertDialogHeader({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function AlertDialogFooter({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {
  return (
    <AlertDialogPrimitive.Title
      data-slot="alert-dialog-title"
      className={cn("text-lg font-semibold", className)}
      {...props}
    />
  )
}

function AlertDialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {
  return (
    <AlertDialogPrimitive.Description
      data-slot="alert-dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function AlertDialogAction({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {
  return (
    <AlertDialogPrimitive.Action
      className={cn(buttonVariants(), className)}
      {...props}
    />
  )
}

function AlertDialogCancel({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {
  return (
    <AlertDialogPrimitive.Cancel
      className={cn(buttonVariants({ variant: "outline" }), className)}
      {...props}
    />
  )
}

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}
</file>

<file path="components/ui/alert.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",
  {
    variants: {
      variant: {
        default: "bg-card text-card-foreground",
        destructive:
          "text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Alert({
  className,
  variant,
  ...props
}: React.ComponentProps<"div"> & VariantProps<typeof alertVariants>) {
  return (
    <div
      data-slot="alert"
      role="alert"
      className={cn(alertVariants({ variant }), className)}
      {...props}
    />
  )
}

function AlertTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-title"
      className={cn(
        "col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",
        className
      )}
      {...props}
    />
  )
}

function AlertDescription({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-description"
      className={cn(
        "text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",
        className
      )}
      {...props}
    />
  )
}

export { Alert, AlertTitle, AlertDescription }
</file>

<file path="components/ui/aspect-ratio.tsx">
"use client"

import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio"

function AspectRatio({
  ...props
}: React.ComponentProps<typeof AspectRatioPrimitive.Root>) {
  return <AspectRatioPrimitive.Root data-slot="aspect-ratio" {...props} />
}

export { AspectRatio }
</file>

<file path="components/ui/avatar.tsx">
"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

function Avatar({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Root>) {
  return (
    <AvatarPrimitive.Root
      data-slot="avatar"
      className={cn(
        "relative flex size-8 shrink-0 overflow-hidden rounded-full",
        className
      )}
      {...props}
    />
  )
}

function AvatarImage({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Image>) {
  return (
    <AvatarPrimitive.Image
      data-slot="avatar-image"
      className={cn("aspect-square size-full", className)}
      {...props}
    />
  )
}

function AvatarFallback({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {
  return (
    <AvatarPrimitive.Fallback
      data-slot="avatar-fallback"
      className={cn(
        "bg-muted flex size-full items-center justify-center rounded-full",
        className
      )}
      {...props}
    />
  )
}

export { Avatar, AvatarImage, AvatarFallback }
</file>

<file path="components/ui/badge.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",
        destructive:
          "border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Badge({
  className,
  variant,
  asChild = false,
  ...props
}: React.ComponentProps<"span"> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "span"

  return (
    <Comp
      data-slot="badge"
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  )
}

export { Badge, badgeVariants }
</file>

<file path="components/ui/button.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",
        destructive:
          "bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant,
  size,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }
</file>

<file path="components/ui/calendar.tsx">
"use client"

import * as React from "react"
import {
  ChevronDownIcon,
  ChevronLeftIcon,
  ChevronRightIcon,
} from "lucide-react"
import { DayButton, DayPicker, getDefaultClassNames } from "react-day-picker"

import { cn } from "@/lib/utils"
import { Button, buttonVariants } from "@/components/ui/button"

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  captionLayout = "label",
  buttonVariant = "ghost",
  formatters,
  components,
  ...props
}: React.ComponentProps<typeof DayPicker> & {
  buttonVariant?: React.ComponentProps<typeof Button>["variant"]
}) {
  const defaultClassNames = getDefaultClassNames()

  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn(
        "bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",
        String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,
        String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,
        className
      )}
      captionLayout={captionLayout}
      formatters={{
        formatMonthDropdown: (date) =>
          date.toLocaleString("default", { month: "short" }),
        ...formatters,
      }}
      classNames={{
        root: cn("w-fit", defaultClassNames.root),
        months: cn(
          "flex gap-4 flex-col md:flex-row relative",
          defaultClassNames.months
        ),
        month: cn("flex flex-col w-full gap-4", defaultClassNames.month),
        nav: cn(
          "flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",
          defaultClassNames.nav
        ),
        button_previous: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_previous
        ),
        button_next: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_next
        ),
        month_caption: cn(
          "flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",
          defaultClassNames.month_caption
        ),
        dropdowns: cn(
          "w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",
          defaultClassNames.dropdowns
        ),
        dropdown_root: cn(
          "relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",
          defaultClassNames.dropdown_root
        ),
        dropdown: cn(
          "absolute bg-popover inset-0 opacity-0",
          defaultClassNames.dropdown
        ),
        caption_label: cn(
          "select-none font-medium",
          captionLayout === "label"
            ? "text-sm"
            : "rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",
          defaultClassNames.caption_label
        ),
        table: "w-full border-collapse",
        weekdays: cn("flex", defaultClassNames.weekdays),
        weekday: cn(
          "text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",
          defaultClassNames.weekday
        ),
        week: cn("flex w-full mt-2", defaultClassNames.week),
        week_number_header: cn(
          "select-none w-(--cell-size)",
          defaultClassNames.week_number_header
        ),
        week_number: cn(
          "text-[0.8rem] select-none text-muted-foreground",
          defaultClassNames.week_number
        ),
        day: cn(
          "relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",
          defaultClassNames.day
        ),
        range_start: cn(
          "rounded-l-md bg-accent",
          defaultClassNames.range_start
        ),
        range_middle: cn("rounded-none", defaultClassNames.range_middle),
        range_end: cn("rounded-r-md bg-accent", defaultClassNames.range_end),
        today: cn(
          "bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",
          defaultClassNames.today
        ),
        outside: cn(
          "text-muted-foreground aria-selected:text-muted-foreground",
          defaultClassNames.outside
        ),
        disabled: cn(
          "text-muted-foreground opacity-50",
          defaultClassNames.disabled
        ),
        hidden: cn("invisible", defaultClassNames.hidden),
        ...classNames,
      }}
      components={{
        Root: ({ className, rootRef, ...props }) => {
          return (
            <div
              data-slot="calendar"
              ref={rootRef}
              className={cn(className)}
              {...props}
            />
          )
        },
        Chevron: ({ className, orientation, ...props }) => {
          if (orientation === "left") {
            return (
              <ChevronLeftIcon className={cn("size-4", className)} {...props} />
            )
          }

          if (orientation === "right") {
            return (
              <ChevronRightIcon
                className={cn("size-4", className)}
                {...props}
              />
            )
          }

          return (
            <ChevronDownIcon className={cn("size-4", className)} {...props} />
          )
        },
        DayButton: CalendarDayButton,
        WeekNumber: ({ children, ...props }) => {
          return (
            <td {...props}>
              <div className="flex size-(--cell-size) items-center justify-center text-center">
                {children}
              </div>
            </td>
          )
        },
        ...components,
      }}
      {...props}
    />
  )
}

function CalendarDayButton({
  className,
  day,
  modifiers,
  ...props
}: React.ComponentProps<typeof DayButton>) {
  const defaultClassNames = getDefaultClassNames()

  const ref = React.useRef<HTMLButtonElement>(null)
  React.useEffect(() => {
    if (modifiers.focused) ref.current?.focus()
  }, [modifiers.focused])

  return (
    <Button
      ref={ref}
      variant="ghost"
      size="icon"
      data-day={day.date.toLocaleDateString()}
      data-selected-single={
        modifiers.selected &&
        !modifiers.range_start &&
        !modifiers.range_end &&
        !modifiers.range_middle
      }
      data-range-start={modifiers.range_start}
      data-range-end={modifiers.range_end}
      data-range-middle={modifiers.range_middle}
      className={cn(
        "data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",
        defaultClassNames.day,
        className
      )}
      {...props}
    />
  )
}

export { Calendar, CalendarDayButton }
</file>

<file path="components/ui/card.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6", className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}
</file>

<file path="components/ui/carousel.tsx">
"use client"

import * as React from "react"
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react"
import { ArrowLeft, ArrowRight } from "lucide-react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

type CarouselApi = UseEmblaCarouselType[1]
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>
type CarouselOptions = UseCarouselParameters[0]
type CarouselPlugin = UseCarouselParameters[1]

type CarouselProps = {
  opts?: CarouselOptions
  plugins?: CarouselPlugin
  orientation?: "horizontal" | "vertical"
  setApi?: (api: CarouselApi) => void
}

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0]
  api: ReturnType<typeof useEmblaCarousel>[1]
  scrollPrev: () => void
  scrollNext: () => void
  canScrollPrev: boolean
  canScrollNext: boolean
} & CarouselProps

const CarouselContext = React.createContext<CarouselContextProps | null>(null)

function useCarousel() {
  const context = React.useContext(CarouselContext)

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />")
  }

  return context
}

function Carousel({
  orientation = "horizontal",
  opts,
  setApi,
  plugins,
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & CarouselProps) {
  const [carouselRef, api] = useEmblaCarousel(
    {
      ...opts,
      axis: orientation === "horizontal" ? "x" : "y",
    },
    plugins
  )
  const [canScrollPrev, setCanScrollPrev] = React.useState(false)
  const [canScrollNext, setCanScrollNext] = React.useState(false)

  const onSelect = React.useCallback((api: CarouselApi) => {
    if (!api) return
    setCanScrollPrev(api.canScrollPrev())
    setCanScrollNext(api.canScrollNext())
  }, [])

  const scrollPrev = React.useCallback(() => {
    api?.scrollPrev()
  }, [api])

  const scrollNext = React.useCallback(() => {
    api?.scrollNext()
  }, [api])

  const handleKeyDown = React.useCallback(
    (event: React.KeyboardEvent<HTMLDivElement>) => {
      if (event.key === "ArrowLeft") {
        event.preventDefault()
        scrollPrev()
      } else if (event.key === "ArrowRight") {
        event.preventDefault()
        scrollNext()
      }
    },
    [scrollPrev, scrollNext]
  )

  React.useEffect(() => {
    if (!api || !setApi) return
    setApi(api)
  }, [api, setApi])

  React.useEffect(() => {
    if (!api) return
    onSelect(api)
    api.on("reInit", onSelect)
    api.on("select", onSelect)

    return () => {
      api?.off("select", onSelect)
    }
  }, [api, onSelect])

  return (
    <CarouselContext.Provider
      value={{
        carouselRef,
        api: api,
        opts,
        orientation:
          orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
        scrollPrev,
        scrollNext,
        canScrollPrev,
        canScrollNext,
      }}
    >
      <div
        onKeyDownCapture={handleKeyDown}
        className={cn("relative", className)}
        role="region"
        aria-roledescription="carousel"
        data-slot="carousel"
        {...props}
      >
        {children}
      </div>
    </CarouselContext.Provider>
  )
}

function CarouselContent({ className, ...props }: React.ComponentProps<"div">) {
  const { carouselRef, orientation } = useCarousel()

  return (
    <div
      ref={carouselRef}
      className="overflow-hidden"
      data-slot="carousel-content"
    >
      <div
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className
        )}
        {...props}
      />
    </div>
  )
}

function CarouselItem({ className, ...props }: React.ComponentProps<"div">) {
  const { orientation } = useCarousel()

  return (
    <div
      role="group"
      aria-roledescription="slide"
      data-slot="carousel-item"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className
      )}
      {...props}
    />
  )
}

function CarouselPrevious({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel()

  return (
    <Button
      data-slot="carousel-previous"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -left-12 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft />
      <span className="sr-only">Previous slide</span>
    </Button>
  )
}

function CarouselNext({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollNext, canScrollNext } = useCarousel()

  return (
    <Button
      data-slot="carousel-next"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -right-12 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight />
      <span className="sr-only">Next slide</span>
    </Button>
  )
}

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
}
</file>

<file path="components/ui/chart.tsx">
"use client"

import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

function ChartContainer({
  id,
  className,
  children,
  config,
  ...props
}: React.ComponentProps<"div"> & {
  config: ChartConfig
  children: React.ComponentProps<
    typeof RechartsPrimitive.ResponsiveContainer
  >["children"]
}) {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-slot="chart"
        data-chart={chartId}
        className={cn(
          "[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
}

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

function ChartTooltipContent({
  active,
  payload,
  className,
  indicator = "dot",
  hideLabel = false,
  hideIndicator = false,
  label,
  labelFormatter,
  labelClassName,
  formatter,
  color,
  nameKey,
  labelKey,
}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
  React.ComponentProps<"div"> & {
    hideLabel?: boolean
    hideIndicator?: boolean
    indicator?: "line" | "dot" | "dashed"
    nameKey?: string
    labelKey?: string
  }) {
  const { config } = useChart()

  const tooltipLabel = React.useMemo(() => {
    if (hideLabel || !payload?.length) {
      return null
    }

    const [item] = payload
    const key = `${labelKey || item?.dataKey || item?.name || "value"}`
    const itemConfig = getPayloadConfigFromPayload(config, item, key)
    const value =
      !labelKey && typeof label === "string"
        ? config[label as keyof typeof config]?.label || label
        : itemConfig?.label

    if (labelFormatter) {
      return (
        <div className={cn("font-medium", labelClassName)}>
          {labelFormatter(value, payload)}
        </div>
      )
    }

    if (!value) {
      return null
    }

    return <div className={cn("font-medium", labelClassName)}>{value}</div>
  }, [
    label,
    labelFormatter,
    payload,
    hideLabel,
    labelClassName,
    config,
    labelKey,
  ])

  if (!active || !payload?.length) {
    return null
  }

  const nestLabel = payload.length === 1 && indicator !== "dot"

  return (
    <div
      className={cn(
        "border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",
        className
      )}
    >
      {!nestLabel ? tooltipLabel : null}
      <div className="grid gap-1.5">
        {payload.map((item, index) => {
          const key = `${nameKey || item.name || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)
          const indicatorColor = color || item.payload.fill || item.color

          return (
            <div
              key={item.dataKey}
              className={cn(
                "[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",
                indicator === "dot" && "items-center"
              )}
            >
              {formatter && item?.value !== undefined && item.name ? (
                formatter(item.value, item.name, item, index, item.payload)
              ) : (
                <>
                  {itemConfig?.icon ? (
                    <itemConfig.icon />
                  ) : (
                    !hideIndicator && (
                      <div
                        className={cn(
                          "shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",
                          {
                            "h-2.5 w-2.5": indicator === "dot",
                            "w-1": indicator === "line",
                            "w-0 border-[1.5px] border-dashed bg-transparent":
                              indicator === "dashed",
                            "my-0.5": nestLabel && indicator === "dashed",
                          }
                        )}
                        style={
                          {
                            "--color-bg": indicatorColor,
                            "--color-border": indicatorColor,
                          } as React.CSSProperties
                        }
                      />
                    )
                  )}
                  <div
                    className={cn(
                      "flex flex-1 justify-between leading-none",
                      nestLabel ? "items-end" : "items-center"
                    )}
                  >
                    <div className="grid gap-1.5">
                      {nestLabel ? tooltipLabel : null}
                      <span className="text-muted-foreground">
                        {itemConfig?.label || item.name}
                      </span>
                    </div>
                    {item.value && (
                      <span className="text-foreground font-mono font-medium tabular-nums">
                        {item.value.toLocaleString()}
                      </span>
                    )}
                  </div>
                </>
              )}
            </div>
          )
        })}
      </div>
    </div>
  )
}

const ChartLegend = RechartsPrimitive.Legend

function ChartLegendContent({
  className,
  hideIcon = false,
  payload,
  verticalAlign = "bottom",
  nameKey,
}: React.ComponentProps<"div"> &
  Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
    hideIcon?: boolean
    nameKey?: string
  }) {
  const { config } = useChart()

  if (!payload?.length) {
    return null
  }

  return (
    <div
      className={cn(
        "flex items-center justify-center gap-4",
        verticalAlign === "top" ? "pb-3" : "pt-3",
        className
      )}
    >
      {payload.map((item) => {
        const key = `${nameKey || item.dataKey || "value"}`
        const itemConfig = getPayloadConfigFromPayload(config, item, key)

        return (
          <div
            key={item.value}
            className={cn(
              "[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3"
            )}
          >
            {itemConfig?.icon && !hideIcon ? (
              <itemConfig.icon />
            ) : (
              <div
                className="h-2 w-2 shrink-0 rounded-[2px]"
                style={{
                  backgroundColor: item.color,
                }}
              />
            )}
            {itemConfig?.label}
          </div>
        )
      })}
    </div>
  )
}

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}
</file>

<file path="components/ui/checkbox.tsx">
"use client"

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { CheckIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Checkbox({
  className,
  ...props
}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {
  return (
    <CheckboxPrimitive.Root
      data-slot="checkbox"
      className={cn(
        "peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <CheckboxPrimitive.Indicator
        data-slot="checkbox-indicator"
        className="flex items-center justify-center text-current transition-none"
      >
        <CheckIcon className="size-3.5" />
      </CheckboxPrimitive.Indicator>
    </CheckboxPrimitive.Root>
  )
}

export { Checkbox }
</file>

<file path="components/ui/collapsible.tsx">
"use client"

import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"

function Collapsible({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {
  return <CollapsiblePrimitive.Root data-slot="collapsible" {...props} />
}

function CollapsibleTrigger({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {
  return (
    <CollapsiblePrimitive.CollapsibleTrigger
      data-slot="collapsible-trigger"
      {...props}
    />
  )
}

function CollapsibleContent({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {
  return (
    <CollapsiblePrimitive.CollapsibleContent
      data-slot="collapsible-content"
      {...props}
    />
  )
}

export { Collapsible, CollapsibleTrigger, CollapsibleContent }
</file>

<file path="components/ui/command.tsx">
"use client"

import * as React from "react"
import { Command as CommandPrimitive } from "cmdk"
import { SearchIcon } from "lucide-react"

import { cn } from "@/lib/utils"
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog"

function Command({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive>) {
  return (
    <CommandPrimitive
      data-slot="command"
      className={cn(
        "bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",
        className
      )}
      {...props}
    />
  )
}

function CommandDialog({
  title = "Command Palette",
  description = "Search for a command to run...",
  children,
  className,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof Dialog> & {
  title?: string
  description?: string
  className?: string
  showCloseButton?: boolean
}) {
  return (
    <Dialog {...props}>
      <DialogHeader className="sr-only">
        <DialogTitle>{title}</DialogTitle>
        <DialogDescription>{description}</DialogDescription>
      </DialogHeader>
      <DialogContent
        className={cn("overflow-hidden p-0", className)}
        showCloseButton={showCloseButton}
      >
        <Command className="[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

function CommandInput({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Input>) {
  return (
    <div
      data-slot="command-input-wrapper"
      className="flex h-9 items-center gap-2 border-b px-3"
    >
      <SearchIcon className="size-4 shrink-0 opacity-50" />
      <CommandPrimitive.Input
        data-slot="command-input"
        className={cn(
          "placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        {...props}
      />
    </div>
  )
}

function CommandList({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.List>) {
  return (
    <CommandPrimitive.List
      data-slot="command-list"
      className={cn(
        "max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",
        className
      )}
      {...props}
    />
  )
}

function CommandEmpty({
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Empty>) {
  return (
    <CommandPrimitive.Empty
      data-slot="command-empty"
      className="py-6 text-center text-sm"
      {...props}
    />
  )
}

function CommandGroup({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Group>) {
  return (
    <CommandPrimitive.Group
      data-slot="command-group"
      className={cn(
        "text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",
        className
      )}
      {...props}
    />
  )
}

function CommandSeparator({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Separator>) {
  return (
    <CommandPrimitive.Separator
      data-slot="command-separator"
      className={cn("bg-border -mx-1 h-px", className)}
      {...props}
    />
  )
}

function CommandItem({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Item>) {
  return (
    <CommandPrimitive.Item
      data-slot="command-item"
      className={cn(
        "data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function CommandShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="command-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}
</file>

<file path="components/ui/context-menu.tsx">
"use client"

import * as React from "react"
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function ContextMenu({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {
  return <ContextMenuPrimitive.Root data-slot="context-menu" {...props} />
}

function ContextMenuTrigger({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {
  return (
    <ContextMenuPrimitive.Trigger data-slot="context-menu-trigger" {...props} />
  )
}

function ContextMenuGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {
  return (
    <ContextMenuPrimitive.Group data-slot="context-menu-group" {...props} />
  )
}

function ContextMenuPortal({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {
  return (
    <ContextMenuPrimitive.Portal data-slot="context-menu-portal" {...props} />
  )
}

function ContextMenuSub({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {
  return <ContextMenuPrimitive.Sub data-slot="context-menu-sub" {...props} />
}

function ContextMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {
  return (
    <ContextMenuPrimitive.RadioGroup
      data-slot="context-menu-radio-group"
      {...props}
    />
  )
}

function ContextMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <ContextMenuPrimitive.SubTrigger
      data-slot="context-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto" />
    </ContextMenuPrimitive.SubTrigger>
  )
}

function ContextMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {
  return (
    <ContextMenuPrimitive.SubContent
      data-slot="context-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

function ContextMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {
  return (
    <ContextMenuPrimitive.Portal>
      <ContextMenuPrimitive.Content
        data-slot="context-menu-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </ContextMenuPrimitive.Portal>
  )
}

function ContextMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <ContextMenuPrimitive.Item
      data-slot="context-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function ContextMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {
  return (
    <ContextMenuPrimitive.CheckboxItem
      data-slot="context-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.CheckboxItem>
  )
}

function ContextMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {
  return (
    <ContextMenuPrimitive.RadioItem
      data-slot="context-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.RadioItem>
  )
}

function ContextMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <ContextMenuPrimitive.Label
      data-slot="context-menu-label"
      data-inset={inset}
      className={cn(
        "text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function ContextMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {
  return (
    <ContextMenuPrimitive.Separator
      data-slot="context-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function ContextMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="context-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
}
</file>

<file path="components/ui/dialog.tsx">
"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Dialog({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Root>) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />
}

function DialogTrigger({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />
}

function DialogPortal({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Portal>) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />
}

function DialogClose({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Close>) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />
}

function DialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Content> & {
  showCloseButton?: boolean
}) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className
        )}
        {...props}
      >
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
          >
            <XIcon />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Content>
    </DialogPortal>
  )
}

function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function DialogFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function DialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Title>) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  )
}

function DialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Description>) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
}
</file>

<file path="components/ui/drawer.tsx">
"use client"

import * as React from "react"
import { Drawer as DrawerPrimitive } from "vaul"

import { cn } from "@/lib/utils"

function Drawer({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) {
  return <DrawerPrimitive.Root data-slot="drawer" {...props} />
}

function DrawerTrigger({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {
  return <DrawerPrimitive.Trigger data-slot="drawer-trigger" {...props} />
}

function DrawerPortal({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Portal>) {
  return <DrawerPrimitive.Portal data-slot="drawer-portal" {...props} />
}

function DrawerClose({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Close>) {
  return <DrawerPrimitive.Close data-slot="drawer-close" {...props} />
}

function DrawerOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {
  return (
    <DrawerPrimitive.Overlay
      data-slot="drawer-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function DrawerContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Content>) {
  return (
    <DrawerPortal data-slot="drawer-portal">
      <DrawerOverlay />
      <DrawerPrimitive.Content
        data-slot="drawer-content"
        className={cn(
          "group/drawer-content bg-background fixed z-50 flex h-auto flex-col",
          "data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b",
          "data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t",
          "data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm",
          "data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",
          className
        )}
        {...props}
      >
        <div className="bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block" />
        {children}
      </DrawerPrimitive.Content>
    </DrawerPortal>
  )
}

function DrawerHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-header"
      className={cn(
        "flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",
        className
      )}
      {...props}
    />
  )
}

function DrawerFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  )
}

function DrawerTitle({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Title>) {
  return (
    <DrawerPrimitive.Title
      data-slot="drawer-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  )
}

function DrawerDescription({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Description>) {
  return (
    <DrawerPrimitive.Description
      data-slot="drawer-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}
</file>

<file path="components/ui/dropdown-menu.tsx">
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  )
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  )
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  )
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  )
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}
</file>

<file path="components/ui/form.tsx">
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  FormProvider,
  useFormContext,
  useFormState,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState } = useFormContext()
  const formState = useFormState({ name: fieldContext.name })
  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

function FormItem({ className, ...props }: React.ComponentProps<"div">) {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div
        data-slot="form-item"
        className={cn("grid gap-2", className)}
        {...props}
      />
    </FormItemContext.Provider>
  )
}

function FormLabel({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  const { error, formItemId } = useFormField()

  return (
    <Label
      data-slot="form-label"
      data-error={!!error}
      className={cn("data-[error=true]:text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
}

function FormControl({ ...props }: React.ComponentProps<typeof Slot>) {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      data-slot="form-control"
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
}

function FormDescription({ className, ...props }: React.ComponentProps<"p">) {
  const { formDescriptionId } = useFormField()

  return (
    <p
      data-slot="form-description"
      id={formDescriptionId}
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function FormMessage({ className, ...props }: React.ComponentProps<"p">) {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message ?? "") : props.children

  if (!body) {
    return null
  }

  return (
    <p
      data-slot="form-message"
      id={formMessageId}
      className={cn("text-destructive text-sm", className)}
      {...props}
    >
      {body}
    </p>
  )
}

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}
</file>

<file path="components/ui/hover-card.tsx">
"use client"

import * as React from "react"
import * as HoverCardPrimitive from "@radix-ui/react-hover-card"

import { cn } from "@/lib/utils"

function HoverCard({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Root>) {
  return <HoverCardPrimitive.Root data-slot="hover-card" {...props} />
}

function HoverCardTrigger({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Trigger>) {
  return (
    <HoverCardPrimitive.Trigger data-slot="hover-card-trigger" {...props} />
  )
}

function HoverCardContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Content>) {
  return (
    <HoverCardPrimitive.Portal data-slot="hover-card-portal">
      <HoverCardPrimitive.Content
        data-slot="hover-card-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className
        )}
        {...props}
      />
    </HoverCardPrimitive.Portal>
  )
}

export { HoverCard, HoverCardTrigger, HoverCardContent }
</file>

<file path="components/ui/input-otp.tsx">
"use client"

import * as React from "react"
import { OTPInput, OTPInputContext } from "input-otp"
import { MinusIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function InputOTP({
  className,
  containerClassName,
  ...props
}: React.ComponentProps<typeof OTPInput> & {
  containerClassName?: string
}) {
  return (
    <OTPInput
      data-slot="input-otp"
      containerClassName={cn(
        "flex items-center gap-2 has-disabled:opacity-50",
        containerClassName
      )}
      className={cn("disabled:cursor-not-allowed", className)}
      {...props}
    />
  )
}

function InputOTPGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="input-otp-group"
      className={cn("flex items-center", className)}
      {...props}
    />
  )
}

function InputOTPSlot({
  index,
  className,
  ...props
}: React.ComponentProps<"div"> & {
  index: number
}) {
  const inputOTPContext = React.useContext(OTPInputContext)
  const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {}

  return (
    <div
      data-slot="input-otp-slot"
      data-active={isActive}
      className={cn(
        "data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",
        className
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="animate-caret-blink bg-foreground h-4 w-px duration-1000" />
        </div>
      )}
    </div>
  )
}

function InputOTPSeparator({ ...props }: React.ComponentProps<"div">) {
  return (
    <div data-slot="input-otp-separator" role="separator" {...props}>
      <MinusIcon />
    </div>
  )
}

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }
</file>

<file path="components/ui/input.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props}
    />
  )
}

export { Input }
</file>

<file path="components/ui/label.tsx">
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"

import { cn } from "@/lib/utils"

function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export { Label }
</file>

<file path="components/ui/menubar.tsx">
"use client"

import * as React from "react"
import * as MenubarPrimitive from "@radix-ui/react-menubar"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Menubar({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Root>) {
  return (
    <MenubarPrimitive.Root
      data-slot="menubar"
      className={cn(
        "bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",
        className
      )}
      {...props}
    />
  )
}

function MenubarMenu({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {
  return <MenubarPrimitive.Menu data-slot="menubar-menu" {...props} />
}

function MenubarGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Group>) {
  return <MenubarPrimitive.Group data-slot="menubar-group" {...props} />
}

function MenubarPortal({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {
  return <MenubarPrimitive.Portal data-slot="menubar-portal" {...props} />
}

function MenubarRadioGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {
  return (
    <MenubarPrimitive.RadioGroup data-slot="menubar-radio-group" {...props} />
  )
}

function MenubarTrigger({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Trigger>) {
  return (
    <MenubarPrimitive.Trigger
      data-slot="menubar-trigger"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",
        className
      )}
      {...props}
    />
  )
}

function MenubarContent({
  className,
  align = "start",
  alignOffset = -4,
  sideOffset = 8,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Content>) {
  return (
    <MenubarPortal>
      <MenubarPrimitive.Content
        data-slot="menubar-content"
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </MenubarPortal>
  )
}

function MenubarItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <MenubarPrimitive.Item
      data-slot="menubar-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function MenubarCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.CheckboxItem>) {
  return (
    <MenubarPrimitive.CheckboxItem
      data-slot="menubar-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.CheckboxItem>
  )
}

function MenubarRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioItem>) {
  return (
    <MenubarPrimitive.RadioItem
      data-slot="menubar-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.RadioItem>
  )
}

function MenubarLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <MenubarPrimitive.Label
      data-slot="menubar-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function MenubarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Separator>) {
  return (
    <MenubarPrimitive.Separator
      data-slot="menubar-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function MenubarShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="menubar-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function MenubarSub({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {
  return <MenubarPrimitive.Sub data-slot="menubar-sub" {...props} />
}

function MenubarSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <MenubarPrimitive.SubTrigger
      data-slot="menubar-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[inset]:pl-8",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto h-4 w-4" />
    </MenubarPrimitive.SubTrigger>
  )
}

function MenubarSubContent({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubContent>) {
  return (
    <MenubarPrimitive.SubContent
      data-slot="menubar-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  Menubar,
  MenubarPortal,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarGroup,
  MenubarSeparator,
  MenubarLabel,
  MenubarItem,
  MenubarShortcut,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarSub,
  MenubarSubTrigger,
  MenubarSubContent,
}
</file>

<file path="components/ui/navigation-menu.tsx">
import * as React from "react"
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu"
import { cva } from "class-variance-authority"
import { ChevronDownIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function NavigationMenu({
  className,
  children,
  viewport = true,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Root> & {
  viewport?: boolean
}) {
  return (
    <NavigationMenuPrimitive.Root
      data-slot="navigation-menu"
      data-viewport={viewport}
      className={cn(
        "group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",
        className
      )}
      {...props}
    >
      {children}
      {viewport && <NavigationMenuViewport />}
    </NavigationMenuPrimitive.Root>
  )
}

function NavigationMenuList({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.List>) {
  return (
    <NavigationMenuPrimitive.List
      data-slot="navigation-menu-list"
      className={cn(
        "group flex flex-1 list-none items-center justify-center gap-1",
        className
      )}
      {...props}
    />
  )
}

function NavigationMenuItem({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Item>) {
  return (
    <NavigationMenuPrimitive.Item
      data-slot="navigation-menu-item"
      className={cn("relative", className)}
      {...props}
    />
  )
}

const navigationMenuTriggerStyle = cva(
  "group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1"
)

function NavigationMenuTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Trigger>) {
  return (
    <NavigationMenuPrimitive.Trigger
      data-slot="navigation-menu-trigger"
      className={cn(navigationMenuTriggerStyle(), "group", className)}
      {...props}
    >
      {children}{" "}
      <ChevronDownIcon
        className="relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180"
        aria-hidden="true"
      />
    </NavigationMenuPrimitive.Trigger>
  )
}

function NavigationMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Content>) {
  return (
    <NavigationMenuPrimitive.Content
      data-slot="navigation-menu-content"
      className={cn(
        "data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto",
        "group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",
        className
      )}
      {...props}
    />
  )
}

function NavigationMenuViewport({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Viewport>) {
  return (
    <div
      className={cn(
        "absolute top-full left-0 isolate z-50 flex justify-center"
      )}
    >
      <NavigationMenuPrimitive.Viewport
        data-slot="navigation-menu-viewport"
        className={cn(
          "origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",
          className
        )}
        {...props}
      />
    </div>
  )
}

function NavigationMenuLink({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Link>) {
  return (
    <NavigationMenuPrimitive.Link
      data-slot="navigation-menu-link"
      className={cn(
        "data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function NavigationMenuIndicator({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Indicator>) {
  return (
    <NavigationMenuPrimitive.Indicator
      data-slot="navigation-menu-indicator"
      className={cn(
        "data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden",
        className
      )}
      {...props}
    >
      <div className="bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md" />
    </NavigationMenuPrimitive.Indicator>
  )
}

export {
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
  navigationMenuTriggerStyle,
}
</file>

<file path="components/ui/pagination.tsx">
import * as React from "react"
import {
  ChevronLeftIcon,
  ChevronRightIcon,
  MoreHorizontalIcon,
} from "lucide-react"

import { cn } from "@/lib/utils"
import { Button, buttonVariants } from "@/components/ui/button"

function Pagination({ className, ...props }: React.ComponentProps<"nav">) {
  return (
    <nav
      role="navigation"
      aria-label="pagination"
      data-slot="pagination"
      className={cn("mx-auto flex w-full justify-center", className)}
      {...props}
    />
  )
}

function PaginationContent({
  className,
  ...props
}: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="pagination-content"
      className={cn("flex flex-row items-center gap-1", className)}
      {...props}
    />
  )
}

function PaginationItem({ ...props }: React.ComponentProps<"li">) {
  return <li data-slot="pagination-item" {...props} />
}

type PaginationLinkProps = {
  isActive?: boolean
} & Pick<React.ComponentProps<typeof Button>, "size"> &
  React.ComponentProps<"a">

function PaginationLink({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) {
  return (
    <a
      aria-current={isActive ? "page" : undefined}
      data-slot="pagination-link"
      data-active={isActive}
      className={cn(
        buttonVariants({
          variant: isActive ? "outline" : "ghost",
          size,
        }),
        className
      )}
      {...props}
    />
  )
}

function PaginationPrevious({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to previous page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pl-2.5", className)}
      {...props}
    >
      <ChevronLeftIcon />
      <span className="hidden sm:block">Previous</span>
    </PaginationLink>
  )
}

function PaginationNext({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to next page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pr-2.5", className)}
      {...props}
    >
      <span className="hidden sm:block">Next</span>
      <ChevronRightIcon />
    </PaginationLink>
  )
}

function PaginationEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      aria-hidden
      data-slot="pagination-ellipsis"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontalIcon className="size-4" />
      <span className="sr-only">More pages</span>
    </span>
  )
}

export {
  Pagination,
  PaginationContent,
  PaginationLink,
  PaginationItem,
  PaginationPrevious,
  PaginationNext,
  PaginationEllipsis,
}
</file>

<file path="components/ui/popover.tsx">
"use client"

import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

function Popover({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Root>) {
  return <PopoverPrimitive.Root data-slot="popover" {...props} />
}

function PopoverTrigger({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {
  return <PopoverPrimitive.Trigger data-slot="popover-trigger" {...props} />
}

function PopoverContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Content>) {
  return (
    <PopoverPrimitive.Portal>
      <PopoverPrimitive.Content
        data-slot="popover-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className
        )}
        {...props}
      />
    </PopoverPrimitive.Portal>
  )
}

function PopoverAnchor({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {
  return <PopoverPrimitive.Anchor data-slot="popover-anchor" {...props} />
}

export { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }
</file>

<file path="components/ui/progress.tsx">
"use client"

import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

function Progress({
  className,
  value,
  ...props
}: React.ComponentProps<typeof ProgressPrimitive.Root>) {
  return (
    <ProgressPrimitive.Root
      data-slot="progress"
      className={cn(
        "bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",
        className
      )}
      {...props}
    >
      <ProgressPrimitive.Indicator
        data-slot="progress-indicator"
        className="bg-primary h-full w-full flex-1 transition-all"
        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
      />
    </ProgressPrimitive.Root>
  )
}

export { Progress }
</file>

<file path="components/ui/radio-group.tsx">
"use client"

import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function RadioGroup({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {
  return (
    <RadioGroupPrimitive.Root
      data-slot="radio-group"
      className={cn("grid gap-3", className)}
      {...props}
    />
  )
}

function RadioGroupItem({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {
  return (
    <RadioGroupPrimitive.Item
      data-slot="radio-group-item"
      className={cn(
        "border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator
        data-slot="radio-group-indicator"
        className="relative flex items-center justify-center"
      >
        <CircleIcon className="fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
}

export { RadioGroup, RadioGroupItem }
</file>

<file path="components/ui/resizable.tsx">
"use client"

import * as React from "react"
import { GripVerticalIcon } from "lucide-react"
import * as ResizablePrimitive from "react-resizable-panels"

import { cn } from "@/lib/utils"

function ResizablePanelGroup({
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) {
  return (
    <ResizablePrimitive.PanelGroup
      data-slot="resizable-panel-group"
      className={cn(
        "flex h-full w-full data-[panel-group-direction=vertical]:flex-col",
        className
      )}
      {...props}
    />
  )
}

function ResizablePanel({
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.Panel>) {
  return <ResizablePrimitive.Panel data-slot="resizable-panel" {...props} />
}

function ResizableHandle({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean
}) {
  return (
    <ResizablePrimitive.PanelResizeHandle
      data-slot="resizable-handle"
      className={cn(
        "bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",
        className
      )}
      {...props}
    >
      {withHandle && (
        <div className="bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border">
          <GripVerticalIcon className="size-2.5" />
        </div>
      )}
    </ResizablePrimitive.PanelResizeHandle>
  )
}

export { ResizablePanelGroup, ResizablePanel, ResizableHandle }
</file>

<file path="components/ui/scroll-area.tsx">
"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

function ScrollArea({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {
  return (
    <ScrollAreaPrimitive.Root
      data-slot="scroll-area"
      className={cn("relative", className)}
      {...props}
    >
      <ScrollAreaPrimitive.Viewport
        data-slot="scroll-area-viewport"
        className="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"
      >
        {children}
      </ScrollAreaPrimitive.Viewport>
      <ScrollBar />
      <ScrollAreaPrimitive.Corner />
    </ScrollAreaPrimitive.Root>
  )
}

function ScrollBar({
  className,
  orientation = "vertical",
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {
  return (
    <ScrollAreaPrimitive.ScrollAreaScrollbar
      data-slot="scroll-area-scrollbar"
      orientation={orientation}
      className={cn(
        "flex touch-none p-px transition-colors select-none",
        orientation === "vertical" &&
          "h-full w-2.5 border-l border-l-transparent",
        orientation === "horizontal" &&
          "h-2.5 flex-col border-t border-t-transparent",
        className
      )}
      {...props}
    >
      <ScrollAreaPrimitive.ScrollAreaThumb
        data-slot="scroll-area-thumb"
        className="bg-border relative flex-1 rounded-full"
      />
    </ScrollAreaPrimitive.ScrollAreaScrollbar>
  )
}

export { ScrollArea, ScrollBar }
</file>

<file path="components/ui/separator.tsx">
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className
      )}
      {...props}
    />
  )
}

export { Separator }
</file>

<file path="components/ui/sheet.tsx">
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />
}

function SheetTrigger({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />
}

function SheetClose({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Close>) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />
}

function SheetPortal({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Portal>) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />
}

function SheetOverlay({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {
  return (
    <SheetPrimitive.Overlay
      data-slot="sheet-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function SheetContent({
  className,
  children,
  side = "right",
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Content> & {
  side?: "top" | "right" | "bottom" | "left"
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content
        data-slot="sheet-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
          side === "right" &&
            "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",
          side === "left" &&
            "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",
          side === "top" &&
            "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",
          side === "bottom" &&
            "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",
          className
        )}
        {...props}
      >
        {children}
        <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
          <XIcon className="size-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  )
}

function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 p-4", className)}
      {...props}
    />
  )
}

function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  )
}

function SheetTitle({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Title>) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  )
}

function SheetDescription({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Description>) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
</file>

<file path="components/ui/sidebar.tsx">
"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, VariantProps } from "class-variance-authority"
import { PanelLeftIcon } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContextProps = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContextProps | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  defaultOpen?: boolean
  open?: boolean
  onOpenChange?: (open: boolean) => void
}) {
  const isMobile = useIsMobile()
  const [openMobile, setOpenMobile] = React.useState(false)

  // This is the internal state of the sidebar.
  // We use openProp and setOpenProp for control from outside the component.
  const [_open, _setOpen] = React.useState(defaultOpen)
  const open = openProp ?? _open
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value
      if (setOpenProp) {
        setOpenProp(openState)
      } else {
        _setOpen(openState)
      }

      // This sets the cookie to keep the sidebar state.
      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
    },
    [setOpenProp, open]
  )

  // Helper to toggle the sidebar.
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)
  }, [isMobile, setOpen, setOpenMobile])

  // Adds a keyboard shortcut to toggle the sidebar.
  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault()
        toggleSidebar()
      }
    }

    window.addEventListener("keydown", handleKeyDown)
    return () => window.removeEventListener("keydown", handleKeyDown)
  }, [toggleSidebar])

  // We add a state so that we can do data-state="expanded" or "collapsed".
  // This makes it easier to style the sidebar with Tailwind classes.
  const state = open ? "expanded" : "collapsed"

  const contextValue = React.useMemo<SidebarContextProps>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
  )

  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          data-slot="sidebar-wrapper"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style,
            } as React.CSSProperties
          }
          className={cn(
            "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",
            className
          )}
          {...props}
        >
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  )
}

function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  side?: "left" | "right"
  variant?: "sidebar" | "floating" | "inset"
  collapsible?: "offcanvas" | "icon" | "none"
}) {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className
        )}
        {...props}
      >
        {children}
      </div>
    )
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    )
  }

  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar"
    >
      {/* This is what handles the sidebar gap on desktop */}
      <div
        data-slot="sidebar-gap"
        className={cn(
          "relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)"
        )}
      />
      <div
        data-slot="sidebar-container"
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          // Adjust the padding for floating and inset variants.
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"
        >
          {children}
        </div>
      </div>
    </div>
  )
}

function SidebarTrigger({
  className,
  onClick,
  ...props
}: React.ComponentProps<typeof Button>) {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon"
      className={cn("size-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeftIcon />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
}

function SidebarRail({ className, ...props }: React.ComponentProps<"button">) {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInset({ className, ...props }: React.ComponentProps<"main">) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background relative flex w-full flex-1 flex-col",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInput({
  className,
  ...props
}: React.ComponentProps<typeof Input>) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props}
    />
  )
}

function SidebarHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof Separator>) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props}
    />
  )
}

function SidebarContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
}

function SidebarGroupLabel({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"div"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      data-slot="sidebar-group-label"
      data-sidebar="group-label"
      className={cn(
        "text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupAction({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-group-action"
      data-sidebar="group-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupContent({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("w-full text-sm", className)}
      {...props}
    />
  )
}

function SidebarMenu({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("flex w-full min-w-0 flex-col gap-1", className)}
      {...props}
    />
  )
}

function SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props}
    />
  )
}

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function SidebarMenuButton({
  asChild = false,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  isActive?: boolean
  tooltip?: string | React.ComponentProps<typeof TooltipContent>
} & VariantProps<typeof sidebarMenuButtonVariants>) {
  const Comp = asChild ? Slot : "button"
  const { isMobile, state } = useSidebar()

  const button = (
    <Comp
      data-slot="sidebar-menu-button"
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props}
    />
  )

  if (!tooltip) {
    return button
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    }
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip}
      />
    </Tooltip>
  )
}

function SidebarMenuAction({
  className,
  asChild = false,
  showOnHover = false,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  showOnHover?: boolean
}) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-menu-action"
      data-sidebar="menu-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuBadge({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}: React.ComponentProps<"div"> & {
  showIcon?: boolean
}) {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
}

function SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn(
        "border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSubItem({
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props}
    />
  )
}

function SidebarMenuSubButton({
  asChild = false,
  size = "md",
  isActive = false,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean
  size?: "sm" | "md"
  isActive?: boolean
}) {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      data-slot="sidebar-menu-sub-button"
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</file>

<file path="components/ui/skeleton.tsx">
import { cn } from "@/lib/utils"

function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props}
    />
  )
}

export { Skeleton }
</file>

<file path="components/ui/slider.tsx">
"use client"

import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

function Slider({
  className,
  defaultValue,
  value,
  min = 0,
  max = 100,
  ...props
}: React.ComponentProps<typeof SliderPrimitive.Root>) {
  const _values = React.useMemo(
    () =>
      Array.isArray(value)
        ? value
        : Array.isArray(defaultValue)
          ? defaultValue
          : [min, max],
    [value, defaultValue, min, max]
  )

  return (
    <SliderPrimitive.Root
      data-slot="slider"
      defaultValue={defaultValue}
      value={value}
      min={min}
      max={max}
      className={cn(
        "relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",
        className
      )}
      {...props}
    >
      <SliderPrimitive.Track
        data-slot="slider-track"
        className={cn(
          "bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"
        )}
      >
        <SliderPrimitive.Range
          data-slot="slider-range"
          className={cn(
            "bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"
          )}
        />
      </SliderPrimitive.Track>
      {Array.from({ length: _values.length }, (_, index) => (
        <SliderPrimitive.Thumb
          data-slot="slider-thumb"
          key={index}
          className="border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"
        />
      ))}
    </SliderPrimitive.Root>
  )
}

export { Slider }
</file>

<file path="components/ui/sonner.tsx">
"use client"

import { useTheme } from "next-themes"
import { Toaster as Sonner, ToasterProps } from "sonner"

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      style={
        {
          "--normal-bg": "var(--popover)",
          "--normal-text": "var(--popover-foreground)",
          "--normal-border": "var(--border)",
        } as React.CSSProperties
      }
      {...props}
    />
  )
}

export { Toaster }
</file>

<file path="components/ui/switch.tsx">
"use client"

import * as React from "react"
import * as SwitchPrimitive from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

function Switch({
  className,
  ...props
}: React.ComponentProps<typeof SwitchPrimitive.Root>) {
  return (
    <SwitchPrimitive.Root
      data-slot="switch"
      className={cn(
        "peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <SwitchPrimitive.Thumb
        data-slot="switch-thumb"
        className={cn(
          "bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"
        )}
      />
    </SwitchPrimitive.Root>
  )
}

export { Switch }
</file>

<file path="components/ui/textarea.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Textarea({ className, ...props }: React.ComponentProps<"textarea">) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        "border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      {...props}
    />
  )
}

export { Textarea }
</file>

<file path="components/ui/toast.tsx">
"use client"

import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold", className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}
</file>

<file path="components/ui/toaster.tsx">
"use client"

import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport />
    </ToastProvider>
  )
}
</file>

<file path="components/ui/toggle-group.tsx">
"use client"

import * as React from "react"
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group"
import { type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { toggleVariants } from "@/components/ui/toggle"

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: "default",
  variant: "default",
})

function ToggleGroup({
  className,
  variant,
  size,
  children,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> &
  VariantProps<typeof toggleVariants>) {
  return (
    <ToggleGroupPrimitive.Root
      data-slot="toggle-group"
      data-variant={variant}
      data-size={size}
      className={cn(
        "group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",
        className
      )}
      {...props}
    >
      <ToggleGroupContext.Provider value={{ variant, size }}>
        {children}
      </ToggleGroupContext.Provider>
    </ToggleGroupPrimitive.Root>
  )
}

function ToggleGroupItem({
  className,
  children,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> &
  VariantProps<typeof toggleVariants>) {
  const context = React.useContext(ToggleGroupContext)

  return (
    <ToggleGroupPrimitive.Item
      data-slot="toggle-group-item"
      data-variant={context.variant || variant}
      data-size={context.size || size}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        "min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",
        className
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  )
}

export { ToggleGroup, ToggleGroupItem }
</file>

<file path="components/ui/toggle.tsx">
"use client"

import * as React from "react"
import * as TogglePrimitive from "@radix-ui/react-toggle"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const toggleVariants = cva(
  "inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-9 px-2 min-w-9",
        sm: "h-8 px-1.5 min-w-8",
        lg: "h-10 px-2.5 min-w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Toggle({
  className,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof TogglePrimitive.Root> &
  VariantProps<typeof toggleVariants>) {
  return (
    <TogglePrimitive.Root
      data-slot="toggle"
      className={cn(toggleVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Toggle, toggleVariants }
</file>

<file path="components/ui/tooltip.tsx">
"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

function TooltipProvider({
  delayDuration = 0,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {
  return (
    <TooltipPrimitive.Provider
      data-slot="tooltip-provider"
      delayDuration={delayDuration}
      {...props}
    />
  )
}

function Tooltip({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Root>) {
  return (
    <TooltipProvider>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  )
}

function TooltipTrigger({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />
}

function TooltipContent({
  className,
  sideOffset = 0,
  children,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Content>) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Content
        data-slot="tooltip-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",
          className
        )}
        {...props}
      >
        {children}
        <TooltipPrimitive.Arrow className="bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
      </TooltipPrimitive.Content>
    </TooltipPrimitive.Portal>
  )
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</file>

<file path="components/ui/use-mobile.tsx">
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}
</file>

<file path="components/ui/use-toast.ts">
"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }
</file>

<file path="hooks/use-mobile.ts">
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}
</file>

<file path="hooks/use-toast.ts">
"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }
</file>

<file path="lib/api-client.ts">
import axios from "axios";

const API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || "https://hanoplaces.fly.dev/v1";

export const apiClient = axios.create({
    baseURL: API_BASE_URL,
    headers: {
        "Content-Type": "application/json",
    },
});

// Request interceptor for tokens
apiClient.interceptors.request.use((config) => {
    if (typeof window !== "undefined") {
        const accessToken = localStorage.getItem("accessToken");
        const refreshToken = localStorage.getItem("refreshToken");

        if (accessToken) {
            config.headers.Authorization = `Bearer ${accessToken}`;
        }
        if (refreshToken) {
            config.headers["X-Refresh-Token"] = refreshToken;
        }
    }
    return config;
});

// Response interceptor for token rotation
apiClient.interceptors.response.use(
    (response) => {
        // Axios headers are lowercase by default
        const newAccessToken = response.headers["x-new-access-token"];
        const newRefreshToken = response.headers["x-new-refresh-token"];

        if (newAccessToken && typeof window !== "undefined") {
            localStorage.setItem("accessToken", newAccessToken);
        }
        if (newRefreshToken && typeof window !== "undefined") {
            localStorage.setItem("refreshToken", newRefreshToken);
        }

        return response;
    },
    async (error) => {
        // Handle 401 Unauthenticated
        if (error.response?.status === 401) {
            if (typeof window !== "undefined") {
                // Only clear and redirect if we're not already on the login page
                // to avoid infinite loops if the login request itself fails with 401
                if (!window.location.pathname.includes("/login")) {
                    localStorage.removeItem("accessToken");
                    localStorage.removeItem("refreshToken");
                    window.location.href = "/login";
                }
            }
        }
        return Promise.reject(error);
    }
);
</file>

<file path="lib/upload.ts">
import { apiClient } from "./api-client";

export interface UploadOptions {
    fileName: string;
    contentType: string;
    uploadType: "logo" | "banner" | "photo" | "document";
}

export const uploadFile = async (file: File, options: UploadOptions): Promise<string> => {
    try {
        // 1. Get presigned URL
        const { data } = await apiClient.post("/uploads/presigned-url", options);
        const { uploadUrl, publicUrl } = data;

        // 2. Upload directly to R2
        const response = await fetch(uploadUrl, {
            method: "PUT",
            body: file,
            headers: {
                "Content-Type": options.contentType,
            },
        });

        if (!response.ok) {
            throw new Error(`Upload failed with status: ${response.status}`);
        }

        // 3. Return the public URL to be saved in the database
        return publicUrl;
    } catch (error) {
        console.error("Upload error:", error);
        throw error;
    }
};
</file>

<file path="lib/utils.ts">
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="next.config.mjs">
/** @type {import('next').NextConfig} */
const nextConfig = {
  eslint: {
    ignoreDuringBuilds: true,
  },
  typescript: {
    ignoreBuildErrors: true,
  },
  images: {
    unoptimized: true,
  },
}

export default nextConfig
</file>

<file path="postcss.config.mjs">
/** @type {import('postcss-load-config').Config} */
const config = {
  plugins: {
    '@tailwindcss/postcss': {},
  },
}

export default config
</file>

<file path="README.md">
To install dependencies:

```sh
pnpm install
```

To run:

```sh
pnpm run dev
```

open http://localhost:7000
</file>

<file path="styles/globals.css">
@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "target": "ES6",
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
</file>

<file path="app/(auth)/login/page.tsx">
import { LoginForm } from "@/components/login-form"

export default function LoginPage() {
  return (
    <div className="min-h-screen flex items-center justify-center p-4" style={{ backgroundColor: "#0C0C0C" }}>
      <LoginForm />
    </div>
  )
}
</file>

<file path="app/(auth)/logout/page.tsx">
"use client";

import { useEffect } from "react";
import { useRouter } from "next/navigation";
import { signOut } from "@/lib/auth";

export default function LogoutPage() {
  const router = useRouter();

  useEffect(() => {
    const handleLogout = async () => {
      await signOut();
      router.push("/login");
    };

    handleLogout();
  }, [router]);

  return (
    <div className="min-h-screen flex items-center justify-center" style={{ backgroundColor: "#0C0C0C" }}>
      <div className="text-white">Signing out...</div>
    </div>
  );
}
</file>

<file path="app/(business)/clients/page.tsx">
"use client";

import PageHeader from "@/components/layout/page-header";

export default function ClientsPage() {
    return (
        <div className="space-y-8">
            <PageHeader breadcrumbs={[{ label: "Business", href: "/dashboard" }, { label: "Clients" }]} />
            <div className="bg-brand-dark-900 border border-gray-800 rounded-xl p-8">
                <h2 className="text-xl font-semibold text-white mb-4">Client Management</h2>
                <p className="text-brand-dark-300">Manage your customers and their interaction history here.</p>
            </div>
        </div>
    );
}
</file>

<file path="app/(business)/reports/page.tsx">
"use client";

import PageHeader from "@/components/layout/page-header";

export default function ReportsPage() {
    return (
        <div className="space-y-8">
            <PageHeader breadcrumbs={[{ label: "Business", href: "/dashboard" }, { label: "Reports" }]} />
            <div className="bg-brand-dark-900 border border-gray-800 rounded-xl p-8">
                <h2 className="text-xl font-semibold text-white mb-4">Business Reports</h2>
                <p className="text-brand-dark-300">Analyze your performance with detailed reports and insights.</p>
            </div>
        </div>
    );
}
</file>

<file path="app/(business)/stock-menu/menu-management/page.tsx">
"use client"

import React, { useState } from "react"
import Link from "next/link"
import { UtensilsCrossed, Plus, Download, Rocket, TrendingDown, Star, PlusCircle } from "lucide-react"
import PageHeader from "@/components/layout/page-header"
import { Button } from "@/components/ui/button"
import PerformanceMetricCard from "@/components/business/performance-metric-card"
import CategorySidebar from "@/components/business/category-sidebar"
import MenuItemTable from "@/components/business/menu-item-table"
import TableControls from "@/components/ui/table-controls"

export default function MenuManagementPage() {
    const [search, setSearch] = useState("")
    const [filter, setFilter] = useState("")
    const [sort, setSort] = useState("")

    const headerActions = (
        <>
            <Button className="h-14 px-6 bg-white text-brand-dark-900 hover:bg-gray-100 font-bold rounded-xl gap-3">
                <PlusCircle className="w-6 h-6" />
                Add Item
            </Button>
            <Button className="h-14 px-6 bg-white text-brand-dark-900 hover:bg-gray-100 font-bold rounded-xl gap-3">
                <Plus className="w-6 h-6" />
                New Menu
            </Button>
            <Button className="h-14 px-6 bg-white text-brand-dark-900 hover:bg-gray-100 font-bold rounded-xl gap-3">
                <Download className="w-6 h-6" />
                Export Menu
            </Button>
        </>
    )

    return (
        <div className="space-y-12 pb-12">
            <PageHeader
                breadcrumbs={[
                    { label: "Home", href: "/dashboard" },
                    { label: "Stock & Menu", href: "/stock-menu" },
                    { label: "Menu Management" }
                ]}
                actions={headerActions}
                hideDefaultActions
            />

            {/* Performance Metrics */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                <PerformanceMetricCard
                    title="Most Rated Item"
                    name="Large Pizza"
                    value={234}
                    unit="In Last Month"
                    image="https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300"
                    progress={75}
                    icon={<Rocket className="w-6 h-6" />}
                />
                <PerformanceMetricCard
                    title="Least Selling Item"
                    name="Least Selling Item"
                    value={234}
                    unit="In Last Month"
                    image="https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300"
                    progress={30}
                    icon={<TrendingDown className="w-6 h-6" />}
                />
                <PerformanceMetricCard
                    title="Most Rated Item"
                    name="Large Pizza"
                    value={234}
                    unit="In Last Month"
                    image="https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300"
                    progress={75}
                    icon={<Star className="w-6 h-6" />}
                />
            </div>

            {/* Selected Items & Filters Bar */}
            <div className="flex items-center justify-between">
                <div className="flex items-center gap-6">
                    <h3 className="text-xl font-bold text-white">Selected</h3>
                    <button className="w-10 h-10 rounded-xl bg-[#111111] border border-[#222222] flex items-center justify-center text-white hover:bg-white/5 transition-all">
                        <Plus className="w-6 h-6" />
                    </button>
                </div>

                <div className="flex items-center gap-4">
                    <div className="flex items-center gap-4">
                        <div className="relative group">
                            <button className="h-14 px-5 bg-[#111111] border border-[#222222] rounded-xl flex items-center gap-3 text-brand-dark-100 hover:bg-white/5 transition-all min-w-[180px]">
                                <div className="w-5 h-5 flex items-center justify-center border border-brand-dark-400 rounded-sm">
                                    <div className="w-2.5 h-0.5 bg-brand-dark-400" />
                                </div>
                                <span className="text-base font-medium">Filter by</span>
                                <Plus className="w-4 h-4 ml-auto text-brand-dark-400" />
                            </button>
                        </div>
                        <div className="relative group">
                            <button className="h-14 px-5 bg-[#111111] border border-[#222222] rounded-xl flex items-center gap-3 text-brand-dark-100 hover:bg-white/5 transition-all min-w-[180px]">
                                <div className="w-5 h-5 flex items-center justify-center border border-brand-dark-400 rounded-sm">
                                    <div className="w-3 h-3 border-t-2 border-r-2 border-brand-dark-400 rotate-45" />
                                </div>
                                <span className="text-base font-medium">Sort by</span>
                                <Plus className="w-4 h-4 ml-auto text-brand-dark-400" />
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            {/* Main Content: Sidebar + Table */}
            <div className="flex gap-4">
                <CategorySidebar />
                <MenuItemTable />
            </div>
        </div>
    )
}
</file>

<file path="app/(business)/subscriptions/page.tsx">
"use client";

import PageHeader from "@/components/layout/page-header";

export default function SubscriptionPage() {
    return (
        <div className="space-y-8">
            <PageHeader breadcrumbs={[{ label: "Business", href: "/dashboard" }, { label: "Subscription" }]} />
            <div className="bg-brand-dark-900 border border-gray-800 rounded-xl p-8">
                <h2 className="text-xl font-semibold text-white mb-4">Subscription Plan</h2>
                <p className="text-brand-dark-300">View and manage your current subscription plan and billing.</p>
            </div>
        </div>
    );
}
</file>

<file path="app/layout.tsx">
import type React from "react"
import type { Metadata } from "next"
import { Montserrat } from "next/font/google"
import { Analytics } from "@vercel/analytics/next"
import { Suspense } from "react"
import { AuthProvider } from "@/contexts/auth-context"
import "./globals.css"

const montserrat = Montserrat({
  subsets: ["latin"],
  weight: ["300", "400", "500", "600", "700"],
  variable: "--font-montserrat",
})

export const metadata: Metadata = {
  title: "Hano",
  description: "Hano Application",
    generator: 'v0.app'
}

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode
}>) {
  return (
    <html lang="en">
      <body className={`font-sans ${montserrat.variable}`}>
        <AuthProvider>
          <Suspense fallback={null}>{children}</Suspense>
          <Analytics />
        </AuthProvider>
      </body>
    </html>
  )
}
</file>

<file path="components/auth-guard.tsx">
"use client";

import { useEffect } from "react";
import { useRouter } from "next/navigation";
import { useAuth } from "@/contexts/auth-context";

import { usePathname } from "next/navigation";

export function AuthGuard({ children }: { children: React.ReactNode }) {
  const { user, managedPlaces, isAuthenticated, isLoading } = useAuth();
  const router = useRouter();
  const pathname = usePathname();

  useEffect(() => {
    if (!isLoading) {
      if (!isAuthenticated) {
        router.push("/login");
        return;
      }

      // Role-based redirection
      const isAdminRoute = pathname.startsWith("/businesses") || pathname.startsWith("/users");
      const isBusinessRoute = pathname.startsWith("/dashboard") ||
        pathname.startsWith("/stock-menu") ||
        pathname.startsWith("/reviews") ||
        pathname.startsWith("/vouchers") ||
        pathname.startsWith("/staff-team") ||
        pathname.startsWith("/settings");

      // Redirect Business Owners away from Admin routes
      if (isAdminRoute && !user?.isSuperAdmin) {
        router.push("/dashboard");
        return;
      }

      // Redirect Super Admins from Business routes to Admin home if they don't own the place
      // (Though usually Super Admins might want to see them, let's follow the logic for Business Owners)
      if (isBusinessRoute && !user?.isSuperAdmin && managedPlaces.length === 0) {
        // If they have no business, maybe they should be in onboarding
        // router.push("/onboarding");
      }
    }
  }, [isAuthenticated, isLoading, user, managedPlaces, router, pathname]);

  if (isLoading) {
    return (
      <div className="min-h-screen flex items-center justify-center" style={{ backgroundColor: "#0C0C0C" }}>
        <div className="text-white">Loading...</div>
      </div>
    );
  }

  if (!isAuthenticated) {
    return null;
  }

  return <>{children}</>;
}
</file>

<file path="components/business/category-sidebar.tsx">
"use client"

import React from "react"
import { Search, Plus, ArrowRight, X } from "lucide-react"

interface Category {
    id: string
    name: string
    count: number
    icon?: string
}

export default function CategorySidebar() {
    const categories: Category[] = [
        { id: "1", name: "Drinks", count: 120 },
        { id: "2", name: "Desserts", count: 120 },
        { id: "3", name: "Specials", count: 120 },
        { id: "4", name: "Main Dishes", count: 120 },
    ]

    return (
        <div className="w-80 flex flex-col gap-10 pr-8 border-r border-[#222222]">
            {/* Selected Tags */}
            <div className="flex flex-wrap gap-3">
                {["All Items", "All Items", "All Items"].map((tag, i) => (
                    <div
                        key={i}
                        className="flex items-center gap-2 px-4 py-2 bg-[#1A1A1A] border border-[#222222] rounded-full text-sm text-brand-dark-100 whitespace-nowrap"
                    >
                        {tag}
                        <X className="w-4 h-4 text-brand-dark-400 cursor-pointer" />
                    </div>
                ))}
            </div>

            <div className="space-y-6">
                <div className="flex items-center justify-between">
                    <h3 className="text-xl font-medium text-white">More Categories</h3>
                    <button className="text-sm font-medium text-orange-500 flex items-center gap-2 hover:text-orange-400 transition-colors">
                        Category Settings <ArrowRight className="w-4 h-4" />
                    </button>
                </div>

                <div className="relative">
                    <Search className="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-dark-400" />
                    <input
                        type="text"
                        placeholder="Search here..."
                        className="w-full bg-[#0A0A0A] border border-[#222222] rounded-xl py-3.5 pl-12 pr-4 text-sm text-white placeholder:text-brand-dark-400 focus:outline-none focus:border-brand-dark-600 transition-colors"
                    />
                </div>

                <div className="grid grid-cols-2 gap-4">
                    {categories.map((cat) => (
                        <div
                            key={cat.id}
                            className="bg-[#111111] border border-[#222222] rounded-2xl p-4 flex flex-col gap-4 group cursor-pointer hover:border-brand-dark-600 transition-all"
                        >
                            <div className="flex items-center justify-between">
                                <div className="px-2 py-1 bg-[#1A1A1A] rounded text-[10px] text-brand-dark-300 font-bold">
                                    {cat.count}
                                </div>
                                <div className="w-6 h-6 rounded-full bg-white/5 flex items-center justify-center text-brand-dark-300 group-hover:bg-white group-hover:text-black transition-all">
                                    <Plus className="w-4 h-4" />
                                </div>
                            </div>
                            <span className="text-sm font-semibold text-white">{cat.name}</span>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    )
}
</file>

<file path="components/business/item-performance-card.tsx">
"use client"

import React from "react"
import { BadgeCheck, MoreHorizontal, MoveUpRight, ArrowUpRight, ArrowDownRight } from "lucide-react"
import { Card } from "@/components/ui/card"
import dynamic from "next/dynamic"

const ActivityTrendChart = dynamic(() => import("@/components/ActivityTrendChart"), {
    ssr: false,
})

interface ItemPerformanceCardProps {
    title: string
    itemName: string
    sells: string
    trend: string
    isPositive?: boolean
    subItemName: string
    subItemValue: string
    subItemUnit: string
    subItemImage: string
    chartData: any[]
}

export default function ItemPerformanceCard({
    title,
    itemName,
    sells,
    trend,
    isPositive = true,
    subItemName,
    subItemValue,
    subItemUnit,
    subItemImage,
    chartData,
}: ItemPerformanceCardProps) {
    return (
        <Card className="bg-brand-dark-900 border border-brand-dark-800 rounded-3xl p-8 space-y-8 flex flex-col h-full">
            <div className="flex items-center justify-between">
                <h3 className="text-brand-dark-400 font-medium">{title}</h3>
                <button className="px-5 py-2.5 rounded-xl border border-brand-dark-700 text-sm font-semibold text-white hover:bg-brand-dark-800 transition-colors">
                    View Details
                </button>
            </div>

            <div className="space-y-2">
                <h2 className="text-4xl font-bold text-white">{itemName}</h2>
                <div className="flex items-center gap-3">
                    <span className="text-xl font-bold text-green-500">{sells} <span className="text-sm font-medium">Sells</span></span>
                    <span className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold ${isPositive ? "bg-green-500/10 text-green-500" : "bg-red-500/10 text-red-500"
                        }`}>
                        {isPositive ? <ArrowUpRight className="w-3 h-3" /> : <ArrowDownRight className="w-3 h-3" />}
                        {trend}
                    </span>
                </div>
            </div>

            <div className="bg-white/5 border border-brand-dark-700 rounded-2xl p-4 relative group">
                <button className="absolute top-4 right-4 text-brand-dark-400 group-hover:text-white transition-colors">
                    <MoreHorizontal className="w-5 h-5" />
                </button>
                <div className="flex items-center gap-2 mb-4">
                    <div className="w-10 h-10 rounded-xl bg-brand-dark-800 flex items-center justify-center text-brand-dark-400">
                        <MoveUpRight className="w-5 h-5" />
                    </div>
                </div>
                <h4 className="text-xs text-brand-dark-400 font-medium mb-3">Most Rated Item</h4>
                <div className="flex items-center gap-4">
                    <div className="w-16 h-16 rounded-xl overflow-hidden border border-brand-dark-700">
                        <img src={subItemImage} alt={subItemName} className="w-full h-full object-cover" />
                    </div>
                    <div className="flex-1">
                        <div className="text-sm font-semibold text-white mb-1">{subItemName}</div>
                        <div className="flex items-baseline gap-1">
                            <span className="text-2xl font-bold text-green-500">{subItemValue}</span>
                            <span className="text-xs text-brand-dark-400">{subItemUnit}</span>
                        </div>
                    </div>
                </div>
                <div className="mt-4 w-full h-1.5 bg-brand-dark-700 rounded-full overflow-hidden">
                    <div className="h-full bg-brand-dark-400 rounded-full opacity-30 w-3/4" />
                </div>
            </div>

            <div className="flex-1 pt-4">
                {/* Simple line chart would go here, using ActivityTrendChart as a placeholder or specific small one */}
                <div className="w-full h-32">
                    {/* In a real scenario, we'd use a simplified Sparkline component */}
                    <div className="w-full h-full flex items-end gap-1">
                        {chartData.map((d, i) => (
                            <div
                                key={i}
                                className="flex-1 bg-brand-dark-400/20 rounded-t-sm relative group cursor-pointer"
                                style={{ height: `${(d.value / 100) * 100}%` }}
                            >
                                <div className="absolute inset-0 bg-brand-dark-100 opacity-0 group-hover:opacity-20 transition-opacity" />
                            </div>
                        ))}
                    </div>
                    <div className="flex justify-between mt-2 text-[10px] text-brand-dark-400 uppercase font-medium">
                        <span>Jan</span>
                        <span>Mar</span>
                        <span>May</span>
                        <span>Jul</span>
                        <span>Sep</span>
                        <span>Nov</span>
                    </div>
                </div>
            </div>
        </Card>
    )
}
</file>

<file path="components/business/menu-item-table.tsx">
"use client"

import React from "react"
import { Search, ChevronLeft, ChevronRight, Maximize2, Trash2, Settings2, Star } from "lucide-react"

interface MenuItem {
    id: string
    name: string
    description: string
    price: string
    components: number
    rating: number
    ranking: string
    image: string
}

export default function MenuItemTable() {
    const items: MenuItem[] = [
        {
            id: "1",
            name: "Majestic Combo",
            description: "Juicy skewers of goat meat, marinated in local...",
            price: "2,300 RWF",
            components: 12,
            rating: 4.5,
            ranking: "24/120",
            image: "https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300",
        },
        {
            id: "2",
            name: "Majestic Combo",
            description: "Juicy skewers of goat meat, marinated in local...",
            price: "2,300 RWF",
            components: 12,
            rating: 4.5,
            ranking: "24/120",
            image: "https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300",
        },
        // Repeat for demo...
    ]

    const fullList = [...items, ...items, ...items]

    return (
        <div className="flex-1 flex flex-col gap-8">
            {/* Search */}
            <div className="relative">
                <Search className="absolute left-6 top-1/2 -translate-y-1/2 w-6 h-6 text-brand-dark-400" />
                <input
                    type="text"
                    placeholder="Search here..."
                    className="w-full bg-[#111111] border border-[#222222] rounded-2xl py-5 pl-16 pr-6 text-base text-white placeholder:text-brand-dark-400 focus:outline-none focus:border-brand-dark-600 transition-colors"
                />
            </div>

            <div className="bg-[#111111] border border-[#222222] rounded-3xl overflow-hidden">
                <div className="p-8 border-b border-[#222222]">
                    <h3 className="text-xl font-medium text-white">Showing 120 Items</h3>
                </div>

                <div className="overflow-x-auto">
                    <table className="w-full">
                        <thead>
                            <tr className="border-b border-[#222222]">
                                <th className="px-8 py-6 text-left w-12">
                                    <input type="checkbox" className="w-5 h-5 rounded border-[#333333] bg-transparent" />
                                </th>
                                <th className="px-4 py-6 text-left text-sm font-medium text-brand-dark-400 uppercase tracking-wider">Items Details</th>
                                <th className="px-4 py-6 text-left text-sm font-medium text-brand-dark-400 uppercase tracking-wider">Price & Components</th>
                                <th className="px-4 py-6 text-left text-sm font-medium text-brand-dark-400 uppercase tracking-wider">Rating & Ranking</th>
                                <th className="px-8 py-6 text-right text-sm font-medium text-brand-dark-400 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody className="divide-y divide-[#222222]">
                            {fullList.map((item, idx) => (
                                <tr key={idx} className="group hover:bg-white/5 transition-colors">
                                    <td className="px-8 py-6">
                                        <input type="checkbox" className="w-5 h-5 rounded border-[#333333] bg-transparent cursor-pointer" />
                                    </td>
                                    <td className="px-4 py-6">
                                        <div className="flex items-center gap-4">
                                            <div className="w-20 h-16 rounded-xl overflow-hidden shadow-lg border border-white/5">
                                                <img src={item.image} alt={item.name} className="w-full h-full object-cover" />
                                            </div>
                                            <div className="flex flex-col gap-1 max-w-[200px]">
                                                <span className="text-base font-bold text-white">{item.name}</span>
                                                <span className="text-xs text-brand-dark-400 line-clamp-2">{item.description}</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td className="px-4 py-6">
                                        <div className="flex flex-col gap-1">
                                            <span className="text-base font-bold text-white">{item.price}</span>
                                            <span className="text-sm text-brand-dark-400">{item.components} Components</span>
                                        </div>
                                    </td>
                                    <td className="px-4 py-6">
                                        <div className="flex flex-col gap-1">
                                            <div className="flex items-center gap-1.5">
                                                <Star className="w-4 h-4 fill-orange-500 text-orange-500" />
                                                <span className="text-base font-bold text-white">{item.rating}</span>
                                            </div>
                                            <span className="text-sm text-brand-dark-400">{item.ranking}</span>
                                        </div>
                                    </td>
                                    <td className="px-8 py-6">
                                        <div className="flex items-center justify-end gap-6">
                                            <button className="text-brand-dark-100 hover:text-white transition-colors">
                                                <Maximize2 className="w-5 h-5" />
                                            </button>
                                            <button className="text-red-500 hover:text-red-400 transition-colors">
                                                <Trash2 className="w-5 h-5" />
                                            </button>
                                            <button className="text-blue-500 hover:text-blue-400 transition-colors">
                                                <Settings2 className="w-5 h-5" />
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>

                {/* Pagination */}
                <div className="px-8 py-8 flex items-center justify-between border-t border-[#222222]">
                    <button className="flex items-center gap-2 text-sm font-medium text-brand-dark-100 hover:text-white transition-colors">
                        <ChevronLeft className="w-5 h-5" /> Prev
                    </button>

                    <div className="flex items-center gap-6">
                        {[1, 2, "...", 5, 6].map((p, i) => (
                            <button
                                key={i}
                                className={`text-sm font-bold ${p === 5 ? "text-white underline underline-offset-8 decoration-2" : "text-brand-dark-400 hover:text-white"} transition-colors`}
                            >
                                {p}
                            </button>
                        ))}
                    </div>

                    <button className="flex items-center gap-2 text-sm font-medium text-brand-dark-100 hover:text-white transition-colors">
                        Next <ChevronRight className="w-5 h-5" />
                    </button>
                </div>
            </div>
        </div>
    )
}
</file>

<file path="components/business/performance-metric-card.tsx">
"use client"

import React from "react"
import { MoreVertical } from "lucide-react"

interface PerformanceMetricCardProps {
    title: string
    name: string
    value: string | number
    unit: string
    image: string
    progress: number
    icon: React.ReactNode
}

export default function PerformanceMetricCard({
    title,
    name,
    value,
    unit,
    image,
    progress,
    icon,
}: PerformanceMetricCardProps) {
    return (
        <div className="bg-[#111111] border border-[#222222] rounded-3xl p-6 flex flex-col gap-4">
            <div className="flex items-center justify-between">
                <div className="w-12 h-12 rounded-2xl bg-[#1A1A1A] flex items-center justify-center text-brand-dark-300">
                    {icon}
                </div>
                <button className="text-brand-dark-400 hover:text-white transition-colors">
                    <MoreVertical className="w-5 h-5" />
                </button>
            </div>

            <div className="space-y-4">
                <div>
                    <h4 className="text-xs text-brand-dark-400 font-medium mb-3 uppercase tracking-wider">{title}</h4>
                    <div className="flex items-center gap-4">
                        <div className="w-20 h-20 rounded-xl overflow-hidden bg-black border border-white/5">
                            <img src={image} alt={name} className="w-full h-full object-cover" />
                        </div>
                        <div className="flex-1 min-w-0">
                            <div className="text-xl font-bold text-white truncate mb-1">{name}</div>
                            <div className="flex items-baseline gap-1.5">
                                <span className="text-2xl font-bold text-green-500">{value}</span>
                                <span className="text-xs text-brand-dark-400 font-medium">{unit}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div className="w-full h-1.5 bg-[#1A1A1A] rounded-full overflow-hidden">
                    <div
                        className="h-full bg-brand-dark-400 opacity-20 rounded-full transition-all duration-500"
                        style={{ width: `${progress}%` }}
                    />
                </div>
            </div>
        </div>
    )
}
</file>

<file path="components/business/stock-metric-card.tsx">
"use client"

import React from "react"
import { MoreVertical } from "lucide-react"

interface StockMetricCardProps {
    title: string
    name: string
    value: string | number
    unit: string
    image: string
    progress: number
    icon?: React.ReactNode
}

export default function StockMetricCard({
    title,
    name,
    value,
    unit,
    image,
    progress,
    icon,
}: StockMetricCardProps) {
    return (
        <div className="bg-brand-dark-900 border border-brand-dark-800 rounded-2xl p-5 space-y-4">
            <div className="flex items-center justify-between">
                <div className="w-10 h-10 rounded-xl bg-brand-dark-800 flex items-center justify-center text-brand-dark-400">
                    {icon}
                </div>
                <button className="text-brand-dark-400 hover:text-white transition-colors">
                    <MoreVertical className="w-5 h-5" />
                </button>
            </div>

            <div>
                <h4 className="text-xs text-brand-dark-400 font-medium mb-3">{title}</h4>
                <div className="flex items-center gap-4">
                    <div className="w-16 h-16 rounded-xl overflow-hidden bg-white/5 border border-brand-dark-700">
                        <img src={image} alt={name} className="w-full h-full object-cover" />
                    </div>
                    <div>
                        <div className="text-sm font-semibold text-white mb-1">{name}</div>
                        <div className="flex items-baseline gap-1">
                            <span className="text-2xl font-bold text-green-500">{value}</span>
                            <span className="text-xs text-brand-dark-400">{unit}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div className="w-full h-1.5 bg-brand-dark-700 rounded-full overflow-hidden">
                <div
                    className="h-full bg-brand-dark-400 rounded-full opacity-30 transition-all duration-500"
                    style={{ width: `${progress}%` }}
                />
            </div>
        </div>
    )
}
</file>

<file path="components/landing/AppStoreButton.tsx">
import Link from "next/link";
import { motion } from "framer-motion";

interface AppStoreButtonProps {
  store: "App Store" | "Google Play";
  href?: string;
}

export default function AppStoreButton({ store, href = "#" }: AppStoreButtonProps) {
  const isAppStore = store === "App Store";

  return (
    <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }} className="w-full sm:w-auto">
      <Link href={href} className="inline-block w-full">
        <div className="bg-black border border-white rounded-lg px-4 sm:px-5 py-2 sm:py-2.5 flex items-center space-x-2 sm:space-x-3 hover:bg-gray-900 transition justify-center sm:justify-start">
          {isAppStore ? (
            <svg className="w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0" viewBox="0 0 24 24" fill="currentColor">
              <path d="M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.09997 22C7.78997 22.05 6.79997 20.68 5.95997 19.47C4.24997 17 2.93997 12.45 4.69997 9.39C5.56997 7.87 7.12997 6.91 8.81997 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5ZM13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z" />
            </svg>
          ) : (
            <svg className="w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z" />
            </svg>
          )}
          <div className="text-left">
            <div className="text-[9px] sm:text-[10px]">{isAppStore ? "Download on the" : "GET IT ON"}</div>
            <div className="text-xs sm:text-sm font-semibold">{store}</div>
          </div>
        </div>
      </Link>
    </motion.div>
  );
}
</file>

<file path="components/landing/SectionBadge.tsx">
interface SectionBadgeProps {
  children: React.ReactNode;
}

export default function SectionBadge({ children }: SectionBadgeProps) {
  return (
    <div className="inline-block bg-[#F9F5FF] text-[#6941C6] px-4 md:px-5 py-2 md:py-2.5 rounded-full text-sm md:text-base mb-6 md:mb-8 font-medium">
      {children}
    </div>
  );
}
</file>

<file path="components/ui/breadcrumb.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"

function Breadcrumb({ ...props }: React.ComponentProps<"nav">) {
  return <nav aria-label="breadcrumb" data-slot="breadcrumb" {...props} />
}

function BreadcrumbList({ className, ...props }: React.ComponentProps<"ol">) {
  return (
    <ol
      data-slot="breadcrumb-list"
      className={cn(
        "text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",
        className
      )}
      {...props}
    />
  )
}

function BreadcrumbItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-item"
      className={cn("inline-flex items-center gap-1.5", className)}
      {...props}
    />
  )
}

function BreadcrumbLink({
  asChild,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean
}) {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      data-slot="breadcrumb-link"
      className={cn("hover:text-brand-dark-100 transition-colors", className)}
      {...props}
    />
  )
}

function BreadcrumbPage({ className, ...props }: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-page"
      role="link"
      aria-disabled="true"
      aria-current="page"
      className={cn("text-foreground font-normal", className)}
      {...props}
    />
  )
}

function BreadcrumbSeparator({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-separator"
      role="presentation"
      aria-hidden="true"
      className={cn("[&>svg]:size-3.5", className)}
      {...props}
    >
      {children ?? <ChevronRight />}
    </li>
  )
}

function BreadcrumbEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-ellipsis"
      role="presentation"
      aria-hidden="true"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontal className="size-4" />
      <span className="sr-only">More</span>
    </span>
  )
}

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
}
</file>

<file path="components/ui/select.tsx">
"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { CheckIcon, ChevronDownIcon, ChevronUpIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Select({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Root>) {
  return <SelectPrimitive.Root data-slot="select" {...props} />
}

function SelectGroup({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Group>) {
  return <SelectPrimitive.Group data-slot="select-group" {...props} />
}

function SelectValue({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Value>) {
  return <SelectPrimitive.Value data-slot="select-value" {...props} />
}

function SelectTrigger({
  className,
  size = "default",
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
  size?: "sm" | "default"
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-1 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-1 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon asChild>
        <ChevronDownIcon className="size-4 opacity-50" />
      </SelectPrimitive.Icon>
    </SelectPrimitive.Trigger>
  )
}

function SelectContent({
  className,
  children,
  position = "popper",
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Content
        data-slot="select-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",
          position === "popper" &&
            "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
          className
        )}
        position={position}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            "p-0.5",
            position === "popper" &&
              "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </SelectPrimitive.Portal>
  )
}

function SelectLabel({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Label>) {
  return (
    <SelectPrimitive.Label
      data-slot="select-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  )
}

function SelectItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Item>) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-1 rounded-sm py-1 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-1",
        className
      )}
      {...props}
    >
      <span className="absolute right-2 flex size-3.5 items-center justify-center">
        <SelectPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </SelectPrimitive.ItemIndicator>
      </span>
      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
    </SelectPrimitive.Item>
  )
}

function SelectSeparator({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Separator>) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn("bg-border pointer-events-none -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
  return (
    <SelectPrimitive.ScrollUpButton
      data-slot="select-scroll-up-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronUpIcon className="size-4" />
    </SelectPrimitive.ScrollUpButton>
  )
}

function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
  return (
    <SelectPrimitive.ScrollDownButton
      data-slot="select-scroll-down-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronDownIcon className="size-4" />
    </SelectPrimitive.ScrollDownButton>
  )
}

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
}
</file>

<file path="components/ui/tabs.tsx">
"use client"

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

function Tabs({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Root>) {
  return (
    <TabsPrimitive.Root
      data-slot="tabs"
      className={cn("flex flex-col gap-2", className)}
      {...props}
    />
  )
}

function TabsList({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.List>) {
  return (
    <TabsPrimitive.List
      data-slot="tabs-list"
      className={cn(
        "bg-muted text-muted-foreground inline-flex h-14 w-fit items-center justify-center rounded-lg p-[3px]",
        className
      )}
      {...props}
    />
  )
}

function TabsTrigger({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {
  return (
    <TabsPrimitive.Trigger
      data-slot="tabs-trigger"
      className={cn(
        "data-[state=active]:bg-white data-[state=active]:text-brand-dark-900 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-5 py-1 text-base font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 text-brand-dark-200",
        className
      )}
      {...props}
    />
  )
}

function TabsContent({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Content>) {
  return (
    <TabsPrimitive.Content
      data-slot="tabs-content"
      className={cn("flex-1 outline-none", className)}
      {...props}
    />
  )
}

export { Tabs, TabsList, TabsTrigger, TabsContent }
</file>

<file path="components/UserActivityModal.tsx">
"use client";

import { X } from "lucide-react";
import ActivityTrendChart, { type ChartDataPoint } from "@/components/ActivityTrendChart";

interface UserActivityModalProps {
  email: string;
  data: ChartDataPoint[];
  onClose: () => void;
}

export default function UserActivityModal({ email, data, onClose }: UserActivityModalProps) {
  return (
    <div className="fixed inset-0 z-[60]">
      <div className="absolute inset-0 backdrop-blur-md bg-black/50" onClick={onClose} />

      <div className="absolute inset-0 flex items-center justify-center p-4">
        <div
          className="relative w-full max-w-5xl rounded-3xl p-6 sm:p-10 overflow-hidden"
          style={{
            backgroundImage: "url('/modal.png')",
            backgroundSize: "cover",
            backgroundPosition: "center",
          }}
        >
          <button className="absolute top-6 right-8 text-brand-dark-200" onClick={onClose}>
            <X className="w-5 h-5" />
          </button>

          <div className="p-4 sm:p-6 bg-brand-dark-900 rounded-2xl mb-6 mt-8">
            <div className="flex items-center justify-between">
              <div className="text-brand-dark-100">
                <div className="text-sm opacity-70">Full Activity</div>
                <div className="text-lg sm:text-xl font-semibold">{email}</div>
              </div>
            </div>
          </div>

          <ActivityTrendChart data={data} />
        </div>
      </div>
    </div>
  );
}
</file>

<file path="lib/auth.ts">
export const getTokens = () => {
  if (typeof window === "undefined") return { accessToken: null, refreshToken: null };
  return {
    accessToken: localStorage.getItem("accessToken"),
    refreshToken: localStorage.getItem("refreshToken"),
  };
};

export const setTokens = (accessToken: string, refreshToken: string) => {
  if (typeof window === "undefined") return;
  localStorage.setItem("accessToken", accessToken);
  localStorage.setItem("refreshToken", refreshToken);
};

export const clearTokens = () => {
  if (typeof window === "undefined") return;
  localStorage.removeItem("accessToken");
  localStorage.removeItem("refreshToken");
};

export const logout = () => {
  clearTokens();
  if (typeof window !== "undefined") {
    window.location.href = "/login";
  }
};
</file>

<file path="app/(business)/dashboard/page.tsx">
"use client";

import { useState, useEffect } from "react";
import dynamic from "next/dynamic";
import { apiClient } from "@/lib/api-client";
import { useAuth } from "@/contexts/auth-context";
import PageHeader from "@/components/layout/page-header";
import ValueCard from "@/components/value-card";
import { Users, Ticket, Building2, Star, BadgeCheck, Coins, QrCode } from "lucide-react";
import { Card } from "@/components/ui/card";
import RecentActivityTable, { type ActivityItem } from "@/components/business/recent-activity-table";
import { toast } from "sonner";

const ActivityTrendChart = dynamic(() => import("@/components/ActivityTrendChart"), {
    ssr: false,
});

export default function BusinessDashboardPage() {
    const { managedPlaces } = useAuth();
    const [placeStats, setPlaceStats] = useState<any>(null);
    const [isLoading, setIsLoading] = useState(true);

    const firstPlace = managedPlaces[0]?.place;

    useEffect(() => {
        if (!firstPlace) {
            setIsLoading(false);
            return;
        }

        const fetchStats = async () => {
            try {
                setIsLoading(true);
                const response = await apiClient.get(`/places/${firstPlace.id}`);
                setPlaceStats(response.data.data);
            } catch (error) {
                console.error("Failed to fetch place stats:", error);
                toast.error("Failed to load business stats");
            } finally {
                setIsLoading(false);
            }
        };

        fetchStats();
    }, [firstPlace]);

    const chartData = [
        { day: "Sun", visits: 15, reservations: 10 },
        { day: "Mon", visits: 25, reservations: 15 },
        { day: "Tue", visits: 85, reservations: 60 },
        { day: "Wed", visits: 75, reservations: 65 },
        { day: "Thu", visits: 80, reservations: 70 },
        { day: "Fri", visits: 60, reservations: 50 },
        { day: "Sat", visits: 100, reservations: 90 },
    ];

    const chartDataKeys = [
        { key: "visits", label: "Visits", color: "#3b82f6", gradientId: "visitsGradient" },
        { key: "reservations", label: "Reservations", color: "rgb(156, 163, 175)", gradientId: "reservationsGradient" },
    ];

    // Mocked for now - backend doesn't have "picks" yet
    const picks = [
        {
            id: "1",
            title: "Sky Dandelions Apartment",
            image: "https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg?auto=compress&cs=tinysrgb&w=640",
            price: 250,
            tag: "New Deal",
            logo: "/logo.png",
            description: "Get 10% of with Christmas Sales",
        },
    ];

    const recentActivity: ActivityItem[] = [];

    if (!firstPlace && !isLoading) {
        return (
            <div className="flex flex-col items-center justify-center min-h-[60vh] space-y-4">
                <h2 className="text-2xl font-bold text-white">No active business found</h2>
                <p className="text-brand-dark-300">You need to claim or register a business to see statistics.</p>
            </div>
        );
    }

    return (
        <div className="space-y-8">
            <PageHeader breadcrumbs={[{ label: "Home", href: "/dashboard" }, { label: "Overview" }]} />

            <div className="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-8">
                <ValueCard
                    title="Business Name"
                    value={placeStats?.place?.name || "Loading..."}
                    unit=""
                    description={placeStats?.category?.name || "N/A"}
                    label="Active"
                    icon={<Building2 />}
                    iconColor="text-white"
                />
                <ValueCard
                    title="Total Reviews"
                    value={placeStats?.reviewStats?.totalReviews || 0}
                    unit="Reviews"
                    description="All time"
                    label="â†‘ 2.4%"
                    icon={<Users />}
                    iconColor="text-blue-400"
                />
                <ValueCard
                    title="Average Rating"
                    value={placeStats?.reviewStats?.averageRating || "0.0"}
                    showStars
                    description={`${placeStats?.reviewStats?.totalReviews || 0} Reviews`}
                    icon={<Star />}
                    iconColor="text-teal-400"
                />
                <ValueCard
                    title="Active Promotions"
                    value={0}
                    unit="Promos"
                    description="Live now"
                    label="0%"
                    icon={<Ticket />}
                    iconColor="text-emerald-500"
                />
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div className="lg:col-span-2">
                    <ActivityTrendChart
                        data={chartData}
                        title="Customer Engagement"
                        dataKeys={chartDataKeys}
                    />
                </div>
                <div className="space-y-4">
                    <div className="flex items-center justify-between">
                        <h3 className="text-brand-dark-50 font-semibold text-lg">Your Picks</h3>
                        <button className="text-sm text-brand-dark-300 hover:text-white flex items-center gap-1 transition-colors">
                            View All <span className="text-base">â†’</span>
                        </button>
                    </div>
                    <div className="space-y-4 max-h-[400px] overflow-y-auto no-scrollbar pr-2">
                        {picks.map((pick) => (
                            <Card key={pick.id} className="relative border border-brand-dark-800 overflow-hidden p-0 rounded-2xl group cursor-pointer transition-all hover:border-brand-dark-600">
                                <div className="relative aspect-[4/3] w-full">
                                    <img src={pick.image} alt={pick.title} className="absolute inset-0 w-full h-full object-cover grayscale-[0.2] group-hover:grayscale-0 transition-all duration-500" />
                                    <div className="absolute top-4 right-4">
                                        <span className="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-black/60 ring-1 ring-white/10 text-white text-xs font-medium backdrop-blur-sm">
                                            <span className="inline-flex items-center justify-center w-5 h-5 rounded-full bg-emerald-600">
                                                <BadgeCheck className="w-3.5 h-3.5" />
                                            </span>
                                            {pick.tag}
                                        </span>
                                    </div>
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/95 via-black/40 to-transparent" />

                                    <div className="absolute inset-x-0 bottom-0 p-5">
                                        <div className="flex items-center gap-3 mb-2">
                                            <div className="w-9 h-9 rounded-lg bg-black/60 ring-1 ring-white/15 flex items-center justify-center overflow-hidden backdrop-blur-sm">
                                                <img src={pick.logo} alt="logo" className="w-6 h-6 object-contain" />
                                            </div>
                                            <h4 className="text-white text-lg font-bold truncate">{pick.title}</h4>
                                        </div>
                                        <p className="text-white/70 text-sm mb-4">{pick.description}</p>
                                        <div className="flex items-center justify-between">
                                            <div className="flex items-center gap-2">
                                                <div className="w-5 h-5 rounded-full bg-red-600/20 flex items-center justify-center">
                                                    <Coins className="w-3 h-3 text-red-500" />
                                                </div>
                                                <span className="text-white font-bold">+{pick.price}</span>
                                            </div>
                                            <button className="w-12 h-12 rounded-xl bg-white/10 ring-1 ring-white/20 text-white flex items-center justify-center backdrop-blur-sm hover:bg-white/20 transition-colors">
                                                <QrCode className="w-6 h-6" />
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </Card>
                        ))}
                    </div>
                </div>
            </div>

            <RecentActivityTable data={recentActivity} title="Recent Customer Activity" />
        </div>
    );
}
</file>

<file path="app/(business)/layout.tsx">
"use client";

import React from "react";
import AppShell from "@/components/layout/app-shell";
import { type SidebarMenuSection } from "@/components/layout/sidebar";
import { LayoutDashboard, Users, UtensilsCrossed, CreditCard, BarChart3, LogOut } from "lucide-react";
import { AuthGuard } from "@/components/auth-guard";
import { useAuth } from "@/contexts/auth-context";

export default function BusinessLayout({
    children,
}: {
    children: React.ReactNode;
}) {
    const { user, managedPlaces, logout } = useAuth();

    const displayUser = user || {
        id: "",
        name: "",
        email: "",
    };

    const firstPlace = managedPlaces[0]?.place;

    const menu: SidebarMenuSection[] = [
        {
            section: firstPlace ? `Store: ${firstPlace.name}` : "Hano Business",
            items: [
                { icon: LayoutDashboard, label: "Dashboard", href: "/dashboard" },
                { icon: Users, label: "Clients", href: "/clients" },
                { icon: UtensilsCrossed, label: "Stock & Menu", href: "/stock-menu" },
                { icon: CreditCard, label: "Subscription", href: "/subscriptions" },
                { icon: BarChart3, label: "Reports", href: "/reports" },
            ],
        },
        {
            section: "Account",
            items: [{ icon: LogOut, label: "Sign Out", onClick: logout }],
        },
    ];

    return (
        <AuthGuard>
            <AppShell user={displayUser} menu={menu}>
                {children}
            </AppShell>
        </AuthGuard>
    );
}
</file>

<file path="app/globals.css">
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* Added custom Hano brand color palettes */
  /* Brand Dark Colors */
  --brand-dark-50: #ffffff;
  --brand-dark-100: #f5f5f5;
  --brand-dark-200: #dee2e6;
  --brand-dark-300: #ced4da;
  --brand-dark-400: #adb5bd;
  --brand-dark-500: #6c757d;
  --brand-dark-600: #495057;
  --brand-dark-700: #323539;
  --brand-dark-800: #2d2b29;
  --brand-dark-900: #141414;

  /* Tertiary Colors */
  --tertiary-50: #fdf2f8;
  --tertiary-100: #fce7f3;
  --tertiary-200: #fbcfe8;
  --tertiary-300: #f9a8d4;
  --tertiary-400: #f472b6;
  --tertiary-500: #ec4899;
  --tertiary-600: #db2777;
  --tertiary-700: #be185d;
  --tertiary-800: #9d174d;
  --tertiary-900: #831843;
  --dark: #000000;

  /* Landing page shared colors */
  --landing-bg-primary: #060606;
  --landing-bg-secondary: #030303;
  --landing-surface: #1e1e1e;
  --landing-surface-90: rgba(30, 30, 30, 0.9);
  --landing-surface-60: rgba(30, 30, 30, 0.6);
  --landing-surface-30: rgba(30, 30, 30, 0.3);
  --landing-icon-bg: #383838;
  --landing-divider: rgba(238, 238, 238, 0.25);
  --landing-text-muted: rgb(238, 238, 238);
  --landing-text-muted-soft: rgba(238, 238, 238, 0.85);
  --landing-text-muted-faint: rgba(238, 238, 238, 0.65);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --font-sans: var(--font-montserrat);
  --font-mono: var(--font-geist-mono);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Added Tailwind color mappings for custom brand colors */
  --color-brand-dark-50: var(--brand-dark-50);
  --color-brand-dark-100: var(--brand-dark-100);
  --color-brand-dark-200: var(--brand-dark-200);
  --color-brand-dark-300: var(--brand-dark-300);
  --color-brand-dark-400: var(--brand-dark-400);
  --color-brand-dark-500: var(--brand-dark-500);
  --color-brand-dark-600: var(--brand-dark-600);
  --color-brand-dark-700: var(--brand-dark-700);
  --color-brand-dark-800: var(--brand-dark-800);
  --color-brand-dark-900: var(--brand-dark-900);

  --color-tertiary-50: var(--tertiary-50);
  --color-tertiary-100: var(--tertiary-100);
  --color-tertiary-200: var(--tertiary-200);
  --color-tertiary-300: var(--tertiary-300);
  --color-tertiary-400: var(--tertiary-400);
  --color-tertiary-500: var(--tertiary-500);
  --color-tertiary-600: var(--tertiary-600);
  --color-tertiary-700: var(--tertiary-700);
  --color-tertiary-800: var(--tertiary-800);
  --color-tertiary-900: var(--tertiary-900);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Utility: hide scrollbars while keeping scroll functionality */
.no-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}
</file>

<file path="components/business/recent-activity-table.tsx">
"use client"

import React, { useState, useMemo } from "react"
import { MoreHorizontal, ChevronLeft, ChevronRight } from "lucide-react"
import {
    Table,
    TableBody,
    TableCell,
    TableHead,
    TableHeader,
    TableRow,
} from "@/components/ui/table"
import TableControls from "@/components/ui/table-controls"

export interface ActivityItem {
    id: string
    name: string
    email: string
    avatar: string
    time: string
    date: string
    coins: number
    visits?: number
    rewards: number | "rewarded"
}

interface RecentActivityTableProps {
    data: ActivityItem[]
    title?: string
}

const ITEMS_PER_PAGE = 5

export default function RecentActivityTable({
    data,
    title = "Recent Activity",
}: RecentActivityTableProps) {
    const [currentPage, setCurrentPage] = useState(1)
    const [searchValue, setSearchValue] = useState("")
    const [filterValue, setFilterValue] = useState("all")
    const [sortValue, setSortValue] = useState("newest")

    const filterOptions = [
        { value: "all", label: "All Status" },
        { value: "rewarded", label: "Rewarded" },
    ]

    const sortOptions = [
        { value: "newest", label: "Newest" },
        { value: "oldest", label: "Oldest" },
    ]

    const filteredData = useMemo(() => {
        let filtered = [...data]

        if (searchValue) {
            filtered = filtered.filter(item =>
                item.name.toLowerCase().includes(searchValue.toLowerCase()) ||
                item.email.toLowerCase().includes(searchValue.toLowerCase())
            )
        }

        if (filterValue !== "all") {
            filtered = filtered.filter(item => item.rewards === filterValue)
        }

        if (sortValue === "newest") {
            // Mock sort as we don't have real timestamps, but assume they are in order
        }

        return filtered
    }, [data, searchValue, filterValue, sortValue])

    const paginatedData = filteredData.slice(
        (currentPage - 1) * ITEMS_PER_PAGE,
        currentPage * ITEMS_PER_PAGE
    )

    const totalPages = Math.ceil(filteredData.length / ITEMS_PER_PAGE)

    const getPageNumbers = () => {
        const pages = []
        for (let i = 1; i <= totalPages; i++) pages.push(i)
        return pages
    }

    return (
        <div className="space-y-6">
            <TableControls
                searchValue={searchValue}
                onSearchChange={setSearchValue}
                filterValue={filterValue}
                onFilterChange={setFilterValue}
                sortValue={sortValue}
                onSortChange={setSortValue}
                filterOptions={filterOptions}
                sortOptions={sortOptions}
            />

            {/* Table Content */}
            <div className="bg-brand-dark-900 rounded-2xl border border-brand-dark-800 overflow-hidden">
                <Table>
                    <TableHeader>
                        <TableRow className="border-brand-dark-800 hover:bg-transparent">
                            <TableHead colSpan={5} className="py-6 px-6">
                                <div className="flex items-center justify-between">
                                    <h3 className="text-xl font-semibold text-white">{title}</h3>
                                    <button className="p-2 hover:bg-brand-dark-800 rounded-lg transition-colors">
                                        <MoreHorizontal className="w-5 h-5 text-brand-dark-400" />
                                    </button>
                                </div>
                            </TableHead>
                        </TableRow>
                        <TableRow className="border-brand-dark-800 hover:bg-transparent text-brand-dark-400">
                            <TableHead className="px-6">Group â†“</TableHead>
                            <TableHead>Time</TableHead>
                            <TableHead>Hano Coins</TableHead>
                            <TableHead>Rewards</TableHead>
                            <TableHead className="text-right px-6">Action</TableHead>
                        </TableRow>
                    </TableHeader>
                    <TableBody>
                        {paginatedData.map((item) => (
                            <TableRow key={item.id} className="border-brand-dark-800 hover:bg-brand-dark-800/30 py-4">
                                <TableCell className="px-6 py-4">
                                    <div className="flex items-center gap-3">
                                        <div className="relative w-10 h-10 rounded-full overflow-hidden bg-brand-dark-800">
                                            <img src={item.avatar} alt={item.name} className="w-full h-full object-cover" />
                                        </div>
                                        <div>
                                            <div className="text-white font-medium">{item.name}</div>
                                            <div className="text-sm text-brand-dark-400">{item.email}</div>
                                        </div>
                                    </div>
                                </TableCell>
                                <TableCell>
                                    <div className="text-brand-dark-100">{item.date}</div>
                                    <div className="text-sm text-brand-dark-400">{item.time}</div>
                                </TableCell>
                                <TableCell>
                                    <div className="text-brand-dark-100 font-semibold">{item.coins.toLocaleString()}</div>
                                    <div className="text-sm text-brand-dark-400">{item.visits} visits</div>
                                </TableCell>
                                <TableCell>
                                    {item.rewards === "rewarded" ? (
                                        <span className="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-500/20 text-green-500 gap-1.5">
                                            <span className="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                                            Rewarded
                                        </span>
                                    ) : (
                                        <span className="text-orange-500 font-semibold">+{item.rewards}</span>
                                    )}
                                </TableCell>
                                <TableCell className="text-right px-6">
                                    <button className="bg-white text-brand-dark-900 px-6 py-2.5 rounded-xl font-semibold hover:bg-gray-100 transition-colors">
                                        View Details
                                    </button>
                                </TableCell>
                            </TableRow>
                        ))}
                    </TableBody>
                </Table>

                {/* Pagination */}
                <div className="flex items-center justify-between px-6 py-6 border-t border-brand-dark-800">
                    <button
                        onClick={() => setCurrentPage(p => Math.max(1, p - 1))}
                        disabled={currentPage === 1}
                        className="flex items-center gap-2 text-brand-dark-300 hover:text-white disabled:opacity-50 font-medium"
                    >
                        <ChevronLeft className="w-5 h-5" />
                        Prev
                    </button>
                    <div className="flex items-center gap-2">
                        {getPageNumbers().map(page => (
                            <button
                                key={page}
                                onClick={() => setCurrentPage(page)}
                                className={`w-10 h-10 rounded-xl flex items-center justify-center font-medium transition-colors ${currentPage === page ? "bg-white text-brand-dark-900" : "text-brand-dark-400 hover:text-white"
                                    }`}
                            >
                                {page}
                            </button>
                        ))}
                    </div>
                    <button
                        onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}
                        disabled={currentPage === totalPages}
                        className="flex items-center gap-2 text-brand-dark-300 hover:text-white disabled:opacity-50 font-medium"
                    >
                        Next
                        <ChevronRight className="w-5 h-5" />
                    </button>
                </div>
            </div>
        </div>
    )
}
</file>

<file path="components/business/review-card.tsx">
"use client"

import React from "react"
import { Star, Flag, ArrowUpRight } from "lucide-react"

interface ClientReviewCardProps {
    rating: number
    text: string
    userName: string
    userEmail: string
    userAvatar: string
    timeAgo: string
    itemName: string
    itemImage: string
    itemTrend: string
}

export default function ClientReviewCard({
    rating,
    text,
    userName,
    userEmail,
    userAvatar,
    timeAgo,
    itemName,
    itemImage,
    itemTrend,
}: ClientReviewCardProps) {
    return (
        <div className="bg-[#111111] border border-[#222222] rounded-3xl p-8 flex flex-col gap-6 min-w-[380px]">
            <div className="flex items-start justify-between">
                <span className="text-5xl font-medium text-white">{rating}</span>
                <button className="text-brand-dark-400 hover:text-white transition-colors mt-1">
                    <Flag className="w-5 h-5" />
                </button>
            </div>

            <div className="flex items-center gap-1.5 -mt-2">
                {[1, 2, 3, 4, 5].map((s) => (
                    <Star
                        key={s}
                        className={`w-6 h-6 ${s <= rating ? "fill-orange-500 text-orange-500" : "fill-white text-white"}`}
                    />
                ))}
            </div>

            <p className="text-brand-dark-300 text-base leading-relaxed font-normal">
                {text}
            </p>

            <div className="flex items-center gap-4 py-2">
                <div className="w-12 h-12 rounded-full overflow-hidden">
                    <img src={userAvatar} alt={userName} className="w-full h-full object-cover" />
                </div>
                <div className="flex-1 flex flex-col">
                    <span className="text-base font-semibold text-white leading-tight">{userName}</span>
                    <span className="text-sm text-brand-dark-400">{userEmail}</span>
                </div>
                <span className="text-sm text-brand-dark-400 whitespace-nowrap">{timeAgo}</span>
            </div>

            <div className="bg-[#0A0A0A] rounded-2xl p-4 flex items-center gap-5 border border-white/5">
                <div className="w-24 h-16 rounded-xl overflow-hidden shadow-2xl">
                    <img src={itemImage} alt={itemName} className="w-full h-full object-cover" />
                </div>
                <div className="flex flex-col gap-2">
                    <div className="text-lg font-bold text-white leading-tight">{itemName}</div>
                    <div className="inline-flex items-center justify-center gap-1.5 px-3 py-1 rounded-full bg-green-500/20 text-green-500 text-[12px] font-bold w-fit">
                        <ArrowUpRight className="w-4 h-4" />
                        {itemTrend}
                    </div>
                </div>
            </div>
        </div>
    )
}
</file>

<file path="components/businesses/BusinessDetailsModal.tsx">
"use client";

import { X, BadgeCheck, MapPin, Link2, Phone, ClipboardCopy } from "lucide-react";
import { useRouter } from "next/navigation";
import ValueCard from "@/components/value-card";
import { type BusinessVisit } from "./business-history-table";

interface BusinessDetailsModalProps {
  selected: BusinessVisit | null;
  onClose: () => void;
}

export default function BusinessDetailsModal({ selected, onClose }: BusinessDetailsModalProps) {
  const router = useRouter();
  if (!selected) return null;

  return (
    <div className="fixed inset-0 z-[60]">
      {/* Backdrop */}
      <div className="absolute inset-0 backdrop-blur-md bg-black/50" onClick={onClose} />

      {/* Modal */}
      <div className="absolute inset-0 flex items-center justify-center p-4">
        <div
          className="relative w-full max-w-4xl rounded-3xl p-16 overflow-hidden"
          style={{
            backgroundImage: "url('/modal.png')",
            backgroundSize: "cover",
            backgroundPosition: "center",
          }}
        >
          {/* Close Button */}
          <button
            className="absolute top-8 right-16 text-brand-dark-200"
            onClick={onClose}
          >
            <X className="w-5 h-5" />
          </button>

          {/* Header */}
          <div className="p-6 bg-brand-dark-900 rounded-3xl mb-12 mt-12 space-y-4">
            <div className="flex items-center justify-between">
              {/* Avatar + Info */}
              <div className="flex items-start gap-4">
                <div className="w-12 h-12 rounded-full bg-brand-dark-700 flex items-center justify-center">
                  <div className="w-6 h-6 text-white font-bold text-xs">S</div>
                </div>
                <div>
                  <div className="text-lg font-semibold text-brand-dark-100">{selected.businessName}</div>
                  <div className="text-sm text-brand-dark-100">{selected.email}</div>
                </div>
              </div>

              {/* Verified Badge */}
              <BadgeCheck className="w-8 h-8 text-blue-500" />
            </div>

            <div className="flex items-center justify-between text-xs text-brand-dark-100">
              {/* Location */}
              <span className="flex items-center gap-2">
                <MapPin className="w-4 h-4" /> {selected.category}, Rwanda
              </span>

              {/* Phone + Link */}
              <div className="flex items-center gap-6">
                <a href="#" className="flex items-center gap-2 hover:underline">
                  <Link2 className="w-4 h-4" /> View Business Page
                </a>
                <span className="flex items-center gap-2">
                  <Phone className="w-4 h-4" /> +250-791-234-567
                </span>
              </div>
            </div>
          </div>

          {/* Value Cards */}
          <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12">
            <ValueCard
              title="Total Clients"
              value={selected.clients}
              unit="clients"
              description={`${selected.category} business`}
              label="â†‘ 2.4%"
              icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />}
            />
            <ValueCard
              title="Coins Per Visit"
              value={selected.coinsPerVisit}
              unit="coins"
              description={`${selected.currentPlan} plan`}
              label="â†‘ 2.4%"
              icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />}
            />
          </div>

          {/* Footer */}
          <div className="grid grid-cols-2 divide-x gap-6 mb-6">
            <button
              className="w-full px-4 py-3 rounded-lg text-brand-dark-200 border border-brand-dark-700"
              onClick={onClose}
            >
              Back
            </button>
            <button
              className="w-full px-4 py-3 rounded-lg bg-white text-black font-medium"
              onClick={() => {
                const businessName = encodeURIComponent(selected.businessName);
                router.push(`/businesses/${businessName}`);
              }}
            >
              View Full Activity
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="components/landing/ScrollToTop.tsx">
"use client";

import { motion } from "framer-motion";

interface ScrollToTopProps {
  show: boolean;
  onClick: () => void;
}

export default function ScrollToTop({ show, onClick }: ScrollToTopProps) {
  if (!show) return null;

  return (
    <motion.button
      initial={{ opacity: 0, scale: 0 }}
      animate={{ opacity: 1, scale: 1 }}
      exit={{ opacity: 0, scale: 0 }}
      whileHover={{ scale: 1.1 }}
      whileTap={{ scale: 0.95 }}
      onClick={onClick}
      className="fixed bottom-4 right-4 sm:bottom-8 sm:right-8 z-50 w-10 h-10 sm:w-12 sm:h-12 bg-purple-600 hover:bg-purple-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center"
      aria-label="Scroll to top"
    >
      <svg className="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 10l7-7m0 0l7 7m-7-7v18" />
      </svg>
    </motion.button>
  );
}
</file>

<file path="components/layout/app-shell.tsx">
"use client";

import React, { useState, type ReactNode } from "react";
import { Navbar } from "@/components/layout/navbar";
import { Sidebar, type SidebarMenuSection } from "@/components/layout/sidebar";

export interface AppShellUser {
  name: string;
  email: string;
  avatarUrl?: string;
}

interface AppShellProps {
  user: AppShellUser;
  menu: SidebarMenuSection[];
  children: ReactNode;
}

export default function AppShell({ user, menu, children }: AppShellProps) {
  const [sidebarOpen, setSidebarOpen] = useState(false);

  return (
    <div className="min-h-screen bg-[#000000] text-white" style={{ ['--sidebar-width' as any]: '16rem' }}>
      {/* Fixed sidebar (mobile slide-in). Reserve space on lg screens */}
      <Sidebar isOpen={sidebarOpen} onToggle={() => setSidebarOpen(!sidebarOpen)} menu={menu} />

      {/* Content area with left padding equal to sidebar width on lg */}
      <div className="pl-0 lg:pl-[var(--sidebar-width)]">
        {/* Main column */}
        <div className="min-h-screen bg-[#0C0C0C] px-6 md:px-8">
          <Navbar onSidebarToggle={() => setSidebarOpen(!sidebarOpen)} user={user} />

          <main className="pb-8 overflow-x-hidden">
            <div className=" mx-auto w-full">
              {children}
            </div>
          </main>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="components/ui/table-controls.tsx">
"use client"

import React from "react"
import { Search, Calendar } from "lucide-react"
import { Input } from "@/components/ui/input"
import { Button } from "@/components/ui/button"
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select"

interface TableControlsProps {
  searchValue: string
  onSearchChange: (value: string) => void
  filterValue: string
  onFilterChange: (value: string) => void
  sortValue: string
  onSortChange: (value: string) => void
  filterOptions?: { value: string; label: string }[]
  sortOptions?: { value: string; label: string }[]
  searchPlaceholder?: string
  filterPlaceholder?: string
  sortPlaceholder?: string
}

const TableControls: React.FC<TableControlsProps> = ({
  searchValue,
  onSearchChange,
  filterValue,
  onFilterChange,
  sortValue,
  onSortChange,
  filterOptions = [],
  sortOptions = [],
  searchPlaceholder = "Search here...",
  filterPlaceholder = "Filter by",
  sortPlaceholder = "Sort by",
}) => {
  return (
    <div className="flex items-center justify-between gap-6 mb-6">
      {/* Search Input */}
      <div className="relative flex-1 max-w-lg">
        <Search className="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-brand-dark-400" />
        <Input
          type="text"
          placeholder={searchPlaceholder}
          value={searchValue}
          onChange={(e) => onSearchChange(e.target.value)}
          className="pl-12 h-12 text-base bg-brand-dark-900 border-brand-dark-700 text-brand-dark-100 placeholder:text-brand-dark-400 focus:border-brand-dark-500 focus:ring-brand-dark-500/20"
        />
      </div>

      {/* Right side controls */}
      <div className="flex items-center gap-4">
        {/* Filter Dropdown */}
        <Select value={filterValue} onValueChange={onFilterChange}>
          <SelectTrigger className="min-w-[180px] data-[size=default]:h-14 data-[size=sm]:h-14 h-14 px-5 bg-brand-dark-900 border-brand-dark-700 text-brand-dark-100 hover:bg-brand-dark-700 focus:border-brand-dark-500 focus:ring-brand-dark-500/20 text-base">
            <Calendar className="w-5 h-5 text-brand-dark-400 mr-2" />
            <SelectValue placeholder={filterPlaceholder} />
          </SelectTrigger>
          <SelectContent className="bg-brand-dark-900 border-brand-dark-700">
            {filterOptions.map((option) => (
              <SelectItem
                key={option.value}
                value={option.value}
                className="text-brand-dark-100 hover:bg-brand-dark-700 focus:bg-brand-dark-700"
              >
                {option.label}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>

        {/* Sort Dropdown */}
        <Select value={sortValue} onValueChange={onSortChange}>
          <SelectTrigger className="min-w-[180px] data-[size=default]:h-14 data-[size=sm]:h-14 h-14 px-5 bg-brand-dark-900 border-brand-dark-700 text-brand-dark-100 hover:bg-brand-dark-700 focus:border-brand-dark-500 focus:ring-brand-dark-500/20 text-base">
            <Calendar className="w-5 h-5 text-brand-dark-400 mr-2" />
            <SelectValue placeholder={sortPlaceholder} />
          </SelectTrigger>
          <SelectContent className="bg-brand-dark-900 border-brand-dark-700">
            {sortOptions.map((option) => (
              <SelectItem
                key={option.value}
                value={option.value}
                className="text-brand-dark-100 hover:bg-brand-dark-700 focus:bg-brand-dark-700"
              >
                {option.label}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>
      </div>
    </div>
  )
}

export default TableControls
</file>

<file path="components/ui/table.tsx">
"use client"

import * as React from "react"
import { cn } from "@/lib/utils"

function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  )
}

function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  )
}

function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  )
}

function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        "bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",
        className
      )}
      {...props}
    />
  )
}

function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        // Default height 112px â†’ shrinks to 80px on small screens
        "hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors h-[112px]",
        className
      )}
      {...props}
    />
  )
}

function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        // Default height 64px â†’ shrinks to 48px on small screens
        "text-foreground h-[64px] sm:h-[48px] px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        "p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  )
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="contexts/auth-context.tsx">
"use client";

import React, { createContext, useContext, useEffect, useState, useCallback } from "react";
import { useRouter } from "next/navigation";
import { apiClient } from "@/lib/api-client";
import { getTokens, clearTokens } from "@/lib/auth";

interface User {
  id: string;
  name: string;
  email: string;
  avatarUrl?: string;
  isSuperAdmin?: boolean;
}

interface ManagedPlace {
  place: {
    id: string;
    name: string;
  };
}

interface AuthContextType {
  user: User | null;
  managedPlaces: ManagedPlace[];
  isLoading: boolean;
  isAuthenticated: boolean;
  refreshProfile: () => Promise<void>;
  logout: () => void;
}

const AuthContext = createContext<AuthContextType>({
  user: null,
  managedPlaces: [],
  isLoading: true,
  isAuthenticated: false,
  refreshProfile: async () => { },
  logout: () => { },
});

export function AuthProvider({ children }: { children: React.ReactNode }) {
  const [user, setUser] = useState<User | null>(null);
  const [managedPlaces, setManagedPlaces] = useState<ManagedPlace[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const router = useRouter();

  const fetchProfile = useCallback(async () => {
    const { accessToken } = getTokens();
    if (!accessToken) {
      setUser(null);
      setManagedPlaces([]);
      setIsLoading(false);
      return;
    }

    try {
      setIsLoading(true);
      // Fetch user profile
      const userResponse = await apiClient.get("/users/me");
      const userData = userResponse.data;

      setUser({
        id: userData.id,
        name: userData.name || "",
        email: userData.email || "",
        avatarUrl: userData.image || undefined,
        isSuperAdmin: userData.isSuperAdmin,
      });

      // Fetch managed places for business owners
      const placesResponse = await apiClient.get("/place-admins/users/me/managed-places");
      setManagedPlaces(placesResponse.data.data || []);

    } catch (error) {
      console.error("Failed to fetch profile:", error);
      // Tokens might be invalid, but interceptor handles 401
    } finally {
      setIsLoading(false);
    }
  }, []);

  useEffect(() => {
    fetchProfile();
  }, [fetchProfile]);

  const logout = useCallback(() => {
    clearTokens();
    setUser(null);
    setManagedPlaces([]);
    router.push("/login");
  }, [router]);

  return (
    <AuthContext.Provider
      value={{
        user,
        managedPlaces,
        isLoading,
        isAuthenticated: !!user,
        refreshProfile: fetchProfile,
        logout,
      }}
    >
      {children}
    </AuthContext.Provider>
  );
}

export function useAuth() {
  return useContext(AuthContext);
}
</file>

<file path="package.json">
{
  "name": "my-v0-project",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "build": "next build",
    "dev": "next dev -p 7000",
    "lint": "next lint",
    "start": "next start -p 7000"
  },
  "dependencies": {
    "@hookform/resolvers": "^3.10.0",
    "@radix-ui/react-accordion": "1.2.2",
    "@radix-ui/react-alert-dialog": "1.1.4",
    "@radix-ui/react-aspect-ratio": "1.1.1",
    "@radix-ui/react-avatar": "1.1.2",
    "@radix-ui/react-checkbox": "1.1.3",
    "@radix-ui/react-collapsible": "1.1.2",
    "@radix-ui/react-context-menu": "2.2.4",
    "@radix-ui/react-dialog": "1.1.4",
    "@radix-ui/react-dropdown-menu": "2.1.4",
    "@radix-ui/react-hover-card": "1.1.4",
    "@radix-ui/react-label": "2.1.1",
    "@radix-ui/react-menubar": "1.1.4",
    "@radix-ui/react-navigation-menu": "1.2.3",
    "@radix-ui/react-popover": "1.1.4",
    "@radix-ui/react-progress": "1.1.1",
    "@radix-ui/react-radio-group": "1.2.2",
    "@radix-ui/react-scroll-area": "1.2.2",
    "@radix-ui/react-select": "2.1.4",
    "@radix-ui/react-separator": "1.1.1",
    "@radix-ui/react-slider": "1.2.2",
    "@radix-ui/react-slot": "1.1.1",
    "@radix-ui/react-switch": "1.1.2",
    "@radix-ui/react-tabs": "1.1.2",
    "@radix-ui/react-toast": "1.2.4",
    "@radix-ui/react-toggle": "1.1.1",
    "@radix-ui/react-toggle-group": "1.1.1",
    "@radix-ui/react-tooltip": "1.1.6",
    "@remix-run/react": "latest",
    "@sveltejs/kit": "latest",
    "@vercel/analytics": "latest",
    "autoprefixer": "^10.4.20",
    "axios": "^1.13.4",
    "better-auth": "^1.3.34",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "1.0.4",
    "date-fns": "4.1.0",
    "embla-carousel-react": "8.5.1",
    "framer-motion": "^12.23.24",
    "geist": "^1.3.1",
    "input-otp": "1.4.1",
    "lucide-react": "^0.454.0",
    "next": "14.2.16",
    "next-themes": "^0.4.6",
    "react": "^18",
    "react-day-picker": "9.8.0",
    "react-dom": "^18",
    "react-hook-form": "^7.60.0",
    "react-resizable-panels": "^2.1.7",
    "recharts": "2.15.4",
    "sonner": "^1.7.4",
    "svelte": "latest",
    "tailwind-merge": "^2.5.5",
    "tailwindcss-animate": "^1.0.7",
    "vaul": "^0.9.9",
    "vue": "latest",
    "vue-router": "latest",
    "zod": "3.25.67"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.9",
    "@types/node": "^22",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "postcss": "^8.5",
    "tailwindcss": "^4.1.9",
    "tw-animate-css": "1.3.3",
    "typescript": "^5"
  }
}
</file>

<file path="components/layout/sidebar.tsx">
"use client";

import React from "react";
import { cn } from "@/lib/utils";
import Link from "next/link";
import { usePathname } from "next/navigation";
import {
  ChartLine,
  Users,
  Building2,
  CreditCard,
  DollarSign,
  ShoppingCart,
  Shield,
  UsersRound,
  LogOut,
  Menu,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";

type MenuIcon = typeof ChartLine;

export interface SidebarMenuItem {
  icon: MenuIcon;
  label: string;
  href?: string;
  active?: boolean;
  badge?: number;
  onClick?: () => void;
}

export interface SidebarMenuSection {
  section: string;
  items: SidebarMenuItem[];
}

interface SidebarProps {
  isOpen: boolean;
  onToggle: () => void;
  menu: SidebarMenuSection[];
}

export function Sidebar({ isOpen, onToggle, menu }: SidebarProps) {
  const pathname = usePathname();
  return (
    <>
      {/* Mobile overlay */}
      {isOpen && (
        <div
          className="fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden"
          onClick={onToggle}
        />
      )}

      {/* Sidebar */}
      <div
        className={cn(
          "fixed left-0  top-0 z-50 h-screen bg-[var(--landing-bg-primary)] text-white transition-transform duration-300 ease-in-out border-r border-[var(--landing-divider)]",
          "lg:translate-x-0",
          isOpen ? "translate-x-0" : "-translate-x-full"
        )}
        style={{ width: 'var(--sidebar-width, 15rem)' }}
      >
        {/* Header */}
        <div className="flex items-center justify-between py-4 pr-4 pl-6">
          <div className="flex items-center">
            <div className="w-16 h-16 flex items-center justify-center p-0.5">
              <div className="w-14 h-14 flex items-center justify-center">
                <img
                  src="/logo.png"
                  alt="Hano Logo"
                  className="w-12 h-12 object-contain"
                />
              </div>
            </div>
            <div>
              <h1 className="text-xl font-bold text-white">Hano</h1>
              <p className="text-xs text-gray-400 font-medium">Admin Portal</p>
            </div>
          </div>
          <Button
            variant="ghost"
            size="sm"
            className="lg:hidden text-white hover:bg-gray-800/50"
            onClick={onToggle}
          >
            <Menu className="h-4 w-4" />
          </Button>
        </div>

        {/* Navigation */}
        <nav className="flex-1 py-5 space-y-5 overflow-y-auto no-scrollbar">
          {menu.map((section, sectionIndex) => (
            <div key={sectionIndex}>
              <h3 className="text-sm  text-brand-dark-100 mb-4 pl-7 pr-3 tracking-wider">
                {section.section}
              </h3>
              <ul className="space-y-0.5">
                {section.items.map((item, itemIndex) => {
                  const Icon = item.icon;
                  const isActive = pathname === item.href || item.active;

                  const content = (
                    <>
                      <div className="flex items-center px-4 space-x-4">
                        <Icon
                          className={cn(
                            "h-5 w-5 transition-colors",
                            isActive ? "text-white" : "text-gray-400 group-hover:text-white"
                          )}
                        />
                        <span
                          className={cn(
                            "transition-colors text-sm",
                            isActive ? "text-white " : "group-hover:text-white"
                          )}
                        >
                          {item.label}
                        </span>
                      </div>

                      {item.badge && (
                        <Badge
                          variant="destructive"
                          className={cn(
                            "h-5 w-5 p-0 text-[10px] flex items-center justify-center rounded-full",
                            isActive ? "bg-red-500 text-white" : "bg-red-500 hover:bg-red-600"
                          )}
                        >
                          {item.badge}
                        </Badge>
                      )}
                    </>
                  );

                  const className = cn(
                    "w-full flex items-center justify-between px-3 py-3 text-[13px] font-medium transition-all duration-200 group relative h-12",
                    isActive
                      ? "border-l-4 border-white bg-brand-dark-900 text-white"
                      : "text-gray-300 hover:bg-brand-dark-900 hover:text-white"
                  );

                  return (
                    <li key={itemIndex}>
                      {item.onClick ? (
                        <button onClick={item.onClick} className={className}>
                          {content}
                        </button>
                      ) : (
                        <Link href={item.href || "#"} className={className}>
                          {content}
                        </Link>
                      )}
                    </li>
                  );
                })}
              </ul>
            </div>
          ))}
        </nav>
      </div>
    </>
  );
}
</file>

<file path="components/NotificationCard.tsx">
import type React from "react";

interface NotificationCardProps {
  userName: string;
  action: string;
  place: string;
  placeColor: string;
  avatarType: "circle" | "square";
  avatarColor?: string;
  icon?: React.ReactNode;
}

export default function NotificationCard({
  userName,
  action,
  place,
  placeColor,
  avatarType,
  avatarColor,
  icon,
}: NotificationCardProps) {
  return (
    <div className="bg-[var(--landing-surface-90)] backdrop-blur-md border border-white/20 rounded-xl sm:rounded-2xl p-4 w-full max-w-[360px] mx-auto shadow-xl hover:shadow-2xl transition-all duration-300">
      <div className="flex items-start space-x-3">
        <div
          className={`w-10 h-10 ${
            avatarType === "circle" ? "rounded-full" : "rounded-xl"
          } ${
            avatarColor || "bg-gray-700"
          } flex-shrink-0 flex items-center justify-center`}
        >
          {icon}
        </div>
        <div className="flex-1 min-w-0">
          <p className="text-white text-xs sm:text-sm leading-tight">
            <span className="font-semibold">{userName}</span> {action}
          </p>
          <p className={`${placeColor} font-semibold text-xs sm:text-sm mt-1`}>
            {place}
          </p>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="components/users/UserDetailsModal.tsx">
"use client";

import { X, BadgeCheck, MapPin, Link2, Phone, ClipboardCopy } from "lucide-react";
import { useRouter } from "next/navigation";
import ValueCard from "@/components/value-card";
import { type RegistrationRequest } from "@/components/users/progress-table";

interface UserDetailsModalProps {
  selected: RegistrationRequest | null;
  onClose: () => void;
}

export default function UserDetailsModal({ selected, onClose }: UserDetailsModalProps) {
  const router = useRouter();
  if (!selected) return null;

  return (
    <div className="fixed inset-0 z-[60]">
      {/* Backdrop */}
      <div className="absolute inset-0 backdrop-blur-md bg-black/50" onClick={onClose} />

      {/* Modal */}
      <div className="absolute inset-0 flex items-center justify-center p-4">
        <div
          className="relative w-full max-w-4xl rounded-3xl p-16 overflow-hidden"
          style={{
            backgroundImage: "url('/modal.png')",
            backgroundSize: "cover",
            backgroundPosition: "center",
          }}
        >
          {/* Close Button */}
          <button
            className="absolute top-8 right-16 text-brand-dark-200"
            onClick={onClose}
          >
            <X className="w-5 h-5" />
          </button>

          {/* Header */}
          <div className="p-6 bg-brand-dark-900 rounded-3xl mb-12 mt-12 space-y-4">
            <div className="flex items-center justify-between">
              {/* Avatar + Info */}
              <div className="flex items-start gap-4">
                <img
                  src={selected.avatar}
                  alt={selected.name}
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="text-lg font-semibold text-brand-dark-100">{selected.name}</div>
                  <div className="text-sm text-brand-dark-100">{selected.email}</div>
                </div>
              </div>

              {/* Verified Badge */}
              <BadgeCheck className="w-8 h-8 text-blue-500" />
            </div>

            <div className="flex items-center justify-between text-xs text-brand-dark-100">
              {/* Last Visit */}
              <span className="flex items-center gap-2">
                <MapPin className="w-4 h-4" /> {selected.lastVisit.location}, Rwanda
              </span>

              {/* Phone + Link */}
              <div className="flex items-center gap-6">
                <a href="#" className="flex items-center gap-2 hover:underline">
                  <Link2 className="w-4 h-4" /> View Business Page
                </a>
                <span className="flex items-center gap-2">
                  <Phone className="w-4 h-4" /> +250-791-234-567
                </span>
              </div>
            </div>
          </div>

          {/* Value Cards */}
          <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12">
            <ValueCard
              title="Total Visits"
              value={selected.totalCoins}
              unit="RWF"
              description={`${selected.places} Plans`}
              label="â†‘ 2.4%"
              icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />}
            />
            <ValueCard
              title="Accumulated Coins"
              value={selected.totalCoins}
              unit="Hano coins"
              description={`${selected.places} Plans`}
              label="â†‘ 2.4%"
              icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />}
            />
          </div>

          {/* Footer */}
          <div className="grid grid-cols-2 divide-x gap-6 mb-6">
            <button
              className="w-full px-4 py-3 rounded-lg text-brand-dark-200 border border-brand-dark-700"
              onClick={onClose}
            >
              Back
            </button>
            <button
              className="w-full px-4 py-3 rounded-lg bg-white text-black font-medium"
              onClick={() => {
                const email = encodeURIComponent(selected.name);
                router.push(`/users/${email}`);
              }}
            >
              View Full Activity
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="components/value-card.tsx">
import React from 'react';
import { Users, Star } from 'lucide-react';

interface ValueCardProps {
  title: string;
  value: number | string;
  unit?: string;
  description?: string;
  icon?: React.ReactNode;
  className?: string;
  label?: string;
  iconColor?: string;
  showStars?: boolean;
}

const ValueCard: React.FC<ValueCardProps> = ({
  title,
  value,
  unit,
  description,
  icon,
  label,
  className = "",
  iconColor = "",
  showStars = false,
}) => {
  // âœ… If custom icon provided, clone it and inject color + size classes
  const renderedIcon = icon
    ? React.cloneElement(icon as React.ReactElement, {
      className: `w-6 h-6 ${iconColor} ${(icon as React.ReactElement).props.className || ""}`,
    })
    : <Users className={`w-6 h-6 ${iconColor}`} />;

  return (
    <div className={`bg-brand-dark-900 rounded-xl border border-brand-dark-700 p-6 ${className}`}>
      {/* Header with title and icon */}
      <div className="flex justify-between mb-8">
        <h3 className="text-sm text-brand-dark-400 font-medium">
          {title}
        </h3>
        <div className="w-12 h-12 bg-brand-dark-800 rounded-xl flex items-center justify-center self-start">
          {renderedIcon}
        </div>
      </div>

      {/* Value and unit */}
      <div className="mb-4">
        {showStars ? (
          <div className="flex items-center gap-1 mb-1">
            {[1, 2, 3, 4].map((i) => (
              <Star key={i} className="w-5 h-5 fill-amber-500 text-amber-500" />
            ))}
            <Star className="w-5 h-5 text-gray-600" />
          </div>
        ) : (
          <div className="flex items-baseline gap-2">
            <span className="text-2xl font-bold text-white">
              {typeof value === 'number' ? value.toLocaleString() : value}
            </span>
            {unit && <span className="text-xs text-brand-dark-400">{unit}</span>}
          </div>
        )}
      </div>

      {/* description (left) and Label (right) */}
      <div className="flex justify-between items-center text-sm">
        <span className="text-brand-dark-300">{description}</span>
        {label && <span className="text-green-500 font-medium">{label}</span>}
      </div>
    </div>
  );
};

export default ValueCard;
</file>

<file path="components/ActivityTrendChart.tsx">
"use client"

import React, { useState } from 'react';
import { MoreHorizontal } from 'lucide-react';
import {
  AreaChart,
  Area,
  XAxis,
  YAxis,
  CartesianGrid,
  ResponsiveContainer,
  Tooltip,
} from 'recharts';

export interface ChartDataPoint {
  day: string;
  [key: string]: string | number;
}

interface ActivityTrendChartProps {
  data: ChartDataPoint[];
  periods?: string[];
  title?: string;
  dataKeys?: {
    key: string;
    label: string;
    color: string;
    gradientId: string;
  }[];
  showHeader?: boolean;
  showBorder?: boolean;
}

const ActivityTrendChart: React.FC<ActivityTrendChartProps> = ({
  data,
  periods = ['All Time', '7 Days', '24 Hours', '1 Hour'],
  title = 'Activity Trend',
  dataKeys = [
    { key: 'registeredUsers', label: 'Registered Users', color: 'rgb(156, 163, 175)', gradientId: 'registeredUsersGradient' },
    { key: 'visitors', label: 'Visitors', color: 'rgb(107, 114, 128)', gradientId: 'visitorsGradient' },
  ],
  showHeader = true,
  showBorder = true,
}) => {
  const [selectedPeriod, setSelectedPeriod] = useState('All Time');

  const maxValue = Math.max(...data.flatMap(d => dataKeys.map(dk => Number(d[dk.key]) || 0)));

  // Custom tooltip component
  const CustomTooltip = ({ active, payload, label }: any) => {
    if (active && payload && payload.length) {
      return (
        <div className="bg-brand-dark-800 border border-brand-dark-700 rounded-lg p-3 shadow-lg">
          <p className="text-brand-dark-100 text-sm font-medium mb-2">{label}</p>
          {payload.map((entry: any, index: number) => {
            const keyInfo = dataKeys.find(dk => dk.key === entry.dataKey);
            return (
              <div key={index} className="flex items-center gap-2 text-sm">
                <div
                  className="w-3 h-3 rounded-sm"
                  style={{ backgroundColor: entry.color }}
                />
                <span className="text-brand-dark-100">
                  {keyInfo?.label || entry.dataKey}: {entry.value}
                </span>
              </div>
            );
          })}
        </div>
      );
    }
    return null;
  };

  return (
    <div className={`w-full ${showBorder ? 'bg-brand-dark-900 border border-brand-dark-700 rounded-xl p-4 sm:p-6' : ''}`}>
      {/* Header */}
      {showHeader && (
        <>
          <div className="flex items-center justify-between mb-4 sm:mb-6">
            <h3 className="text-lg font-medium text-brand-dark-50">
              {title}
            </h3>
            <button className="p-1 hover:bg-muted rounded-lg transition-colors">
              <MoreHorizontal className="w-5 h-5 text-brand-dark-100" />
            </button>
          </div>

          {/* Time Period Filters */}
          <div className="flex flex-wrap gap-2 mb-2">
            {periods.map((period) => (
              <button
                key={period}
                onClick={() => setSelectedPeriod(period)}
                className={`px-4 py-2 text-sm rounded-lg transition-colors ${selectedPeriod === period
                  ? 'bg-brand-dark-800 text-brand-dark-100'
                  : 'text-brand-dark-100 hover:text-brand-dark-700 hover:bg-muted/50'
                  }`}
              >
                {period}
              </button>
            ))}
          </div>
        </>
      )}

      {/* Legend below period buttons, top-right */}
      <div className="flex justify-end gap-4 mb-4 sm:mb-6">
        {dataKeys.map((dk) => (
          <div key={dk.key} className="flex items-center gap-2">
            <div className="w-3 h-3 rounded-small" style={{ backgroundColor: dk.color }}></div>
            <span className="text-sm text-brand-dark-100">{dk.label}</span>
          </div>
        ))}
      </div>

      {/* Chart Container */}
      <div className="w-full h-full">
        <ResponsiveContainer width="100%" height="100%">
          <AreaChart
            data={data}
            margin={{
              top: 10,
              right: 30,
              left: 0,
              bottom: 0,
            }}
          >
            <defs>
              {dataKeys.map((dk) => (
                <linearGradient key={dk.gradientId} id={dk.gradientId} x1="0" y1="0" x2="0" y2="1">
                  <stop offset="5%" stopColor={dk.color} stopOpacity={0.3} />
                  <stop offset="95%" stopColor={dk.color} stopOpacity={0.05} />
                </linearGradient>
              ))}
            </defs>
            <CartesianGrid
              strokeDasharray="3 3"
              stroke="rgb(55, 65, 81)"
              strokeOpacity={0.3}
            />
            <XAxis
              dataKey="day"
              axisLine={false}
              tickLine={false}
              tick={{ fill: 'rgb(209, 213, 219)', fontSize: 12 }}
            />
            <YAxis
              axisLine={false}
              tickLine={false}
              tick={{ fill: 'rgb(209, 213, 219)', fontSize: 12 }}
              domain={[0, maxValue]}
            />
            <Tooltip content={<CustomTooltip />} />
            {dataKeys.map((dk) => (
              <Area
                key={dk.key}
                type="monotone"
                dataKey={dk.key}
                stroke={dk.color}
                strokeWidth={2}
                fill={`url(#${dk.gradientId})`}
              />
            ))}
          </AreaChart>
        </ResponsiveContainer>
      </div>
    </div>
  );
};

export default ActivityTrendChart;
</file>

<file path="components/layout/navbar.tsx">
"use client";

import React from "react";
import { Search, Settings, Bell, ChevronDown, Menu } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";

interface NavbarUser {
  name: string;
  email: string;
  avatarUrl?: string;
}

interface NavbarProps {
  onSidebarToggle: () => void;
  user: NavbarUser;
}

export function Navbar({ onSidebarToggle, user }: NavbarProps) {
  return (
    <header className="text-white py-6 mb-8">
  <div className="grid grid-cols-[2fr_5fr_2fr] items-center w-full gap-3">
    {/* Left section */}
   <div className="flex items-center flex-shrink-0 gap-2 ">
      <Button
        variant="ghost"
        size="sm"
        className="lg:hidden text-white rounded-lg"
        onClick={onSidebarToggle}
      >
        <Menu className="h-5 w-5" />
      </Button>
      <div className="">
        <h1 className="text-lg text-white">Dashboard</h1>
      </div>
    </div>

    {/* Center - Search */}
    <div className="px-8">
      <div className="relative">
        <Search className="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-white" />
        <Input
          type="search"
          placeholder="Search here..."
          className="pl-12 h-10 bg-brand-dark-900 border-brand-dark-900 text-white
                     placeholder-brand-dark-400 focus:bg-brand-dark-900/60
                     focus:border-brand-dark-600 rounded-lg w-full"
        />
      </div>
    </div>

    {/* Right section */}
    <div className="flex items-center justify-end gap-6 flex-shrink-0">
      {/* User menu */}
      <DropdownMenu>
  <DropdownMenuTrigger asChild>
    <button className="flex items-center text-white px-4 py-3 rounded-lg focus:outline-none">
      <Avatar className="h-9 w-9 mx-2">
        <AvatarImage src={user.avatarUrl ?? ""} />
        <AvatarFallback className="bg-brand-dark-900 text-white">{(user.name || "").split(" ").map(p=>p[0]).join("").slice(0,2).toUpperCase()}</AvatarFallback>
      </Avatar>
      <div className="text-left hidden md:block">
        <p className="text-sm text-white leading-none">{user.name}</p>
        <p className="text-xs text-brand-dark-400">{user.email}</p>
      </div>
      <ChevronDown className="h-5 w-5 ml-2 text-brand-dark-400" />
    </button>
  </DropdownMenuTrigger>

  <DropdownMenuContent
    align="end"
    className="w-56 bg-brand-dark-800/95 border-brand-dark-700 backdrop-blur-sm"
  >
    <DropdownMenuItem className="text-white bg-brand-dark-700/50 "> Profile </DropdownMenuItem> <DropdownMenuItem className="text-white bg-brand-dark-700/50 "> Account Settings </DropdownMenuItem> <DropdownMenuItem className="text-white bg-brand-dark-700/50 "> Preferences </DropdownMenuItem> <DropdownMenuSeparator className="bg-brand-dark-700" /> <DropdownMenuItem className="text-red-400 focus:text-brand-dark-100 focus:bg-red-400/50"> Sign Out </DropdownMenuItem>
  </DropdownMenuContent>
</DropdownMenu>


      {/* Settings */}
  <Button
        variant="ghost"
        size="sm"
      className="text-white bg-brand-dark-900 rounded-lg py-3 px-4"
      >
        <Settings className="h-6 w-6 m-2" />
      </Button>

      {/* Notifications */}
  <Button
        variant="ghost"
        size="sm"
      className="text-white bg-brand-dark-900  rounded-lg py-3 px-4"
      >
        <Bell className="h-6 w-6 m-2" />
      </Button>
    </div>
  </div>
</header>
  );
}
</file>

<file path="components/TeamCard.tsx">
import Image from "next/image";

interface TeamCardProps {
  name: string;
  role: string;
  bio: string;
  image: string;
  bgColor: string;
}

export default function TeamCard({
  name,
  role,
  bio,
  image,
  bgColor,
}: TeamCardProps) {
  return (
    <div
      className={`group w-full max-w-[277.33px] sm:max-w-[250px] md:max-w-[277.33px] mx-auto mb-6 md:mb-8`}
      style={{ maxHeight: "442px" }}
    >
      <div className="relative mb-4 w-full aspect-[3/4] overflow-hidden">
        <Image src={image} alt={name} fill className="object-cover" />
      </div>
      <div className="px-1">
        <h3 className="text-base sm:text-lg font-semibold mb-1">{name}</h3>
        <p className="text-red-500 text-xs sm:text-sm mb-2">{role}</p>
        <p className="text-gray-400 text-xs sm:text-sm leading-relaxed mb-4">{bio}</p>
      </div>
    </div>
  );
}
</file>

<file path="components/landing/FeatureCard.tsx">
import { motion } from "framer-motion";

interface FeatureCardProps {
  icon: string;
  title: string;
  description: string;
  gradient: string;
  delay?: number;
}

export default function FeatureCard({ icon, title, description, gradient, delay = 0 }: FeatureCardProps) {
  return (
    <motion.div
      className="text-center group hover:transform hover:-translate-y-2 transition-all duration-300"
      initial={{ opacity: 0, y: 50 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: false, amount: 0.3 }}
      transition={{ duration: 0.6, delay }}
    >
      <motion.div
        className={`w-16 h-16 bg-gradient-to-br ${gradient} rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`}
        whileHover={{ scale: 1.1, rotate: 3 }}
      >
        <span className="text-2xl">{icon}</span>
      </motion.div>
      <h3 className="text-xl font-semibold mb-3">{title}</h3>
      <p className="text-[var(--landing-text-muted)] text-base leading-relaxed">{description}</p>
    </motion.div>
  );
}
</file>

<file path="components/landing/HeroSection.tsx">
"use client";

import Image from "next/image";
import { useRef } from "react";
import { motion, useInView } from "framer-motion";
import Navbar from "./Navbar";
import AppStoreButton from "./AppStoreButton";

export default function HeroSection() {
  const containerRef = useRef(null);
  const isInView = useInView(containerRef, { once: false, amount: 0.3 });

  return (
    <motion.section
      ref={containerRef}
      className="relative min-h-screen overflow-hidden"
      initial={{ opacity: 0 }}
      animate={isInView ? { opacity: 1 } : { opacity: 0 }}
      transition={{ duration: 0.6 }}
    >
      {/* Background Image */}
      <div className="absolute inset-0 z-0">
        <Image
          src="/landing/landing_hero_bg.png"
          alt="Hero Background"
          fill
          className="object-cover object-center"
          priority
        />
      </div>

      <Navbar />

      {/* Hero Content */}
      <div className="relative z-10 ml-0 sm:ml-4 md:ml-8 lg:ml-24 pt-8 sm:pt-12 md:pt-16 lg:pt-24 pb-24 sm:pb-32 md:pb-40 lg:pb-40">
        <div className="container mx-auto max-w-7xl px-4 sm:px-6 md:px-12 lg:px-24 xl:px-40">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 xl:gap-20 items-center lg:items-start">
            {/* Left: Phone Mockups */}
            <motion.div
              className="
                relative flex justify-center lg:justify-start items-center
                -mx-2 sm:-mx-4 md:-mx-6 lg:-mx-12 xl:-mx-20
              "
              initial={{ opacity: 0, x: -50 }}
              animate={isInView ? { opacity: 1, x: 0 } : { opacity: 0, x: -50 }}
              transition={{ duration: 0.6, delay: 0.2 }}
            >
              <div className="relative w-full max-w-[900px] lg:max-w-[1100px] flex items-center justify-center -space-x-4 sm:-space-x-8 md:-space-x-12 lg:-space-x-16">
                <motion.div
                  animate={{ y: [0, -20, 0] }}
                  transition={{
                    duration: 4,
                    repeat: Infinity,
                    ease: "easeInOut",
                  }}
                  className="w-1/2"
                >
                  <Image
                    src="/landing/landing_iphone.png"
                    alt="App Screenshots"
                    width={1000}
                    height={1000}
                    className="w-full h-auto"
                    priority
                  />
                </motion.div>

                <motion.div
                  animate={{ y: [0, 20, 0] }}
                  transition={{
                    duration: 4,
                    repeat: Infinity,
                    ease: "easeInOut",
                    delay: 0.2,
                  }}
                  className="w-1/2"
                >
                  <Image
                    src="/landing/landing_iphone_1.png"
                    alt="App Screenshots"
                    width={800}
                    height={800}
                    className="w-full h-auto"
                    priority
                  />
                </motion.div>
              </div>
            </motion.div>

            {/* Right: Text Content */}
            <motion.div
              className="space-y-3 sm:space-y-3 md:space-y-4 order-1 lg:order-2 text-center lg:text-left"
              initial={{ opacity: 0, x: 50 }}
              animate={isInView ? { opacity: 1, x: 0 } : { opacity: 0, x: 50 }}
              transition={{ duration: 0.6, delay: 0.3 }}
            >
              <motion.h1
                className="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-medium"
                initial={{ opacity: 0, y: 20 }}
                animate={
                  isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }
                }
                transition={{ duration: 0.6, delay: 0.4 }}
              >
                Discover Rwanda's Best Spots
              </motion.h1>

              <motion.p
                className="text-base sm:text-xl md:text-2xl"
                initial={{ opacity: 0, y: 20 }}
                animate={
                  isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }
                }
                transition={{ duration: 0.6, delay: 0.5 }}
              >
                Start your 30-day free trial today.
              </motion.p>

              <motion.div
                className="flex flex-col sm:flex-row gap-3 pt-2 justify-center lg:justify-start"
                initial={{ opacity: 0, y: 20 }}
                animate={
                  isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }
                }
                transition={{ duration: 0.6, delay: 0.6 }}
              >
                <AppStoreButton store="App Store" />
                <AppStoreButton store="Google Play" />
              </motion.div>
            </motion.div>
          </div>
        </div>
      </div>
    </motion.section>
  );
}
</file>

<file path="components/users/history-table.tsx">
"use client"

import React, { useState, useMemo } from "react"
import {
  ChevronDown,
  ChevronUp,
  MoreHorizontal,
} from "lucide-react"
import TableControls from "@/components/ui/table-controls"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"

export interface RegistrationRequest {
  id: string
  name: string
  email: string
  avatar: string
  time: {
    date: string
    clock: string
  }
  review: {
    date: string
    clock: string
  }
  rewards: number
  rewarded?: boolean
}

interface HistoryTableProps {
  data: RegistrationRequest[]
  title?: string
  onViewDetails?: (request: RegistrationRequest) => void
}

type SortField = "group" | "rewards" | null
type SortDirection = "asc" | "desc"

const ITEMS_PER_PAGE = 5

const HistoryTable: React.FC<HistoryTableProps> = ({
  data,
  title = "Recent Business Registration Requests",
  onViewDetails,
}) => {
  const [sortField, setSortField] = useState<SortField>(null)
  const [sortDirection, setSortDirection] = useState<SortDirection>("asc")
  const [currentPage, setCurrentPage] = useState(1)
  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())
  const [searchValue, setSearchValue] = useState("")
  const [filterValue, setFilterValue] = useState("all")
  const [sortValue, setSortValue] = useState("default")

  // Filter and sort options
  const filterOptions = [
    { value: "all", label: "All Rewards" },
    { value: "rewarded", label: "Rewarded" },
    { value: "pending", label: "Pending" },
  ]

  const sortOptions = [
    { value: "default", label: "Default" },
    { value: "group-asc", label: "Name A-Z" },
    { value: "group-desc", label: "Name Z-A" },
    { value: "rewards-asc", label: "Rewards Low-High" },
    { value: "rewards-desc", label: "Rewards High-Low" },
  ]

  const handleSort = (field: SortField) => {
    if (sortField === field) {
      setSortDirection(sortDirection === "asc" ? "desc" : "asc")
    } else {
      setSortField(field)
      setSortDirection("asc")
    }
  }

  const handleSortChange = (value: string) => {
    setSortValue(value)
    if (value === "default") {
      setSortField(null)
      setSortDirection("asc")
    } else {
      const [field, direction] = value.split("-")
      setSortField(field as SortField)
      setSortDirection(direction as SortDirection)
    }
  }

  const getRewardBadge = (rewarded?: boolean) => {
    const baseClasses =
      "inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium"
    return rewarded
      ? `${baseClasses} bg-green-900/30 text-green-300 border border-green-900`
      : `${baseClasses} hidden`
  }

  const SortIcon = ({ field }: { field: SortField }) => {
    if (sortField !== field) {
      return <ChevronDown className="w-4 h-4 opacity-50" />
    }
    return sortDirection === "asc" ? (
      <ChevronUp className="w-4 h-4" />
    ) : (
      <ChevronDown className="w-4 h-4" />
    )
  }

  // Filtering and sorting logic
  const filteredAndSortedData = useMemo(() => {
    let filtered = [...(data ?? [])]

    // Apply search filter
    if (searchValue) {
      filtered = filtered.filter((item) =>
        item.name.toLowerCase().includes(searchValue.toLowerCase()) ||
        item.email.toLowerCase().includes(searchValue.toLowerCase())
      )
    }

    // Apply reward filter
    if (filterValue === "rewarded") {
      filtered = filtered.filter((item) => item.rewarded === true)
    } else if (filterValue === "pending") {
      filtered = filtered.filter((item) => item.rewarded !== true)
    }

    // Apply sorting
    if (sortField) {
      filtered.sort((a, b) => {
        let valA, valB
        if (sortField === "group") {
          valA = a.name.toLowerCase()
          valB = b.name.toLowerCase()
        } else if (sortField === "rewards") {
          valA = a.rewards
          valB = b.rewards
        }
        if (valA! < valB!) return sortDirection === "asc" ? -1 : 1
        if (valA! > valB!) return sortDirection === "asc" ? 1 : -1
        return 0
      })
    }

    return filtered
  }, [data, searchValue, filterValue, sortField, sortDirection])

  // âœ… Page numbers with ellipsis
  const getPageNumbers = (totalPages: number, currentPage: number) => {
    const pages: (number | string)[] = []

    if (totalPages <= 7) {
      for (let i = 1; i <= totalPages; i++) {
        pages.push(i)
      }
    } else {
      pages.push(1)

      if (currentPage > 3) {
        pages.push("...")
      }

      const start = Math.max(2, currentPage - 1)
      const end = Math.min(totalPages - 1, currentPage + 1)

      for (let i = start; i <= end; i++) {
        if (!pages.includes(i)) pages.push(i)
      }

      if (currentPage < totalPages - 2) {
        pages.push("...")
      }

      pages.push(totalPages)
    }

    return pages
  }

  // Pagination
  const totalPages = Math.ceil(filteredAndSortedData.length / ITEMS_PER_PAGE)
  const paginatedData = filteredAndSortedData.slice(
    (currentPage - 1) * ITEMS_PER_PAGE,
    currentPage * ITEMS_PER_PAGE
  )

  const allSelectedOnPage =
    paginatedData.length > 0 &&
    paginatedData.every((r) => selectedIds.has(r.id))
  const someSelectedOnPage =
    paginatedData.some((r) => selectedIds.has(r.id)) && !allSelectedOnPage

  const toggleSelectAllOnPage = () => {
    const next = new Set(selectedIds)
    if (allSelectedOnPage) {
      paginatedData.forEach((r) => next.delete(r.id))
    } else {
      paginatedData.forEach((r) => next.add(r.id))
    }
    setSelectedIds(next)
  }

  const toggleSelectOne = (id: string) => {
    const next = new Set(selectedIds)
    if (next.has(id)) next.delete(id)
    else next.add(id)
    setSelectedIds(next)
  }

  return (
    <div className="dark">
      <div className="">
        <div className="mx-auto">
          {/* Table Controls */}
          <TableControls
            searchValue={searchValue}
            onSearchChange={setSearchValue}
            filterValue={filterValue}
            onFilterChange={setFilterValue}
            sortValue={sortValue}
            onSortChange={handleSortChange}
            filterOptions={filterOptions}
            sortOptions={sortOptions}
          />

          {/* Table */}
          <div className="bg-brand-dark-900 rounded-lg border border-brand-dark-800 overflow-hidden">
            <Table>
              <TableHeader>
                {/* Full-width title row */}
                <TableRow className="border-brand-dark-800 hover:bg-transparent">
                  <TableHead colSpan={6} className="h-[49px]">
                    <div className="flex items-center justify-between">
                      <h1 className="text-xl font-semibold text-brand-dark-100">{title}</h1>
                      <button className="p-2 hover:bg-brand-dark-800 rounded-lg transition-colors">
                        <MoreHorizontal className="w-5 h-5 text-brand-dark-400" />
                      </button>
                    </div>
                  </TableHead>
                </TableRow>
                <TableRow className="border-brand-dark-800 hover:bg-transparent">
                  <TableHead className="w-12">
                <input
                  type="checkbox"
                  aria-label="Select all"
                  checked={allSelectedOnPage}
                  onChange={toggleSelectAllOnPage}
                  ref={(el) => {
                    if (el) el.indeterminate = someSelectedOnPage
                  }}
                  className="h-4 w-4 rounded border-brand-dark-600 bg-brand-dark-800 text-blue-500 focus:ring-0"
                />
                  </TableHead>
                  <TableHead>
              <button
                className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                onClick={() => handleSort("group")}
              >
                Group
                <SortIcon field="group" />
              </button>
                  </TableHead>
                  <TableHead className="text-brand-dark-300">Time</TableHead>
                  <TableHead className="text-brand-dark-300">Made a Review</TableHead>
                  <TableHead>
              <button
                className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                onClick={() => handleSort("rewards")}
              >
                Rewards
                <SortIcon field="rewards" />
              </button>
                  </TableHead>
                  <TableHead className="text-brand-dark-300">Action</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
              {paginatedData.map((request) => (
                  <TableRow key={request.id} className="border-brand-dark-800 hover:bg-brand-dark-800/50">
                    <TableCell>
                    <input
                      type="checkbox"
                      aria-label={`Select ${request.name}`}
                      checked={selectedIds.has(request.id)}
                      onChange={() => toggleSelectOne(request.id)}
                      className="h-4 w-4 rounded border-brand-dark-600 bg-brand-dark-800 text-blue-500 focus:ring-0"
                    />
                    </TableCell>
                    <TableCell>
                  <div className="flex items-center gap-3">
                    <img
                      src={request.avatar}
                      alt={request.name}
                      className="w-10 h-10 rounded-full object-cover"
                    />
                    <div>
                      <div className="font-medium text-brand-dark-100">
                        {request.name}
                      </div>
                      <div className="text-sm text-brand-dark-400">
                        {request.email}
                      </div>
                    </div>
                  </div>
                    </TableCell>
                    <TableCell>
                  <div className="flex flex-col justify-center">
                    <div className="font-medium text-brand-dark-100">
                      {request.time.date}
                    </div>
                    <div className="text-sm text-brand-dark-400">
                      {request.time.clock}
                    </div>
                  </div>
                    </TableCell>
                    <TableCell>
                  <div className="flex flex-col justify-center">
                    <div className="font-medium text-brand-dark-100">
                      {request.review.date}
                    </div>
                    <div className="text-sm text-brand-dark-400">
                      {request.review.clock}
                    </div>
                  </div>
                    </TableCell>
                    <TableCell>
                  <div className="flex items-center gap-3">
                    {!request.rewarded && (
                      <div className={`font-semibold text-red-400`}>
                        {request.rewards > 0
                          ? `+${request.rewards}`
                          : `${request.rewards}`}
                      </div>
                    )}
                    {request.rewarded && (
                              <span className={getRewardBadge(true)}>
                            <span className="w-2 h-2 rounded-full bg-white mr-2"></span>Rewarded
                          </span>
                    )}
                  </div>
                    </TableCell>
                    <TableCell>
                    <button
                      onClick={() => onViewDetails?.(request)}
                      className="px-4 py-2 bg-[#ffffff] text-brand-dark-800 rounded-lg text-sm font-medium transition-colors border border-brand-dark-700"
                    >
                      View Details
                    </button>
                    </TableCell>
                  </TableRow>
              ))}
              {/* Full-width pagination row inside body to avoid extra component import */}
              <TableRow className="hover:bg-transparent border-t border-brand-dark-800">
                <TableCell colSpan={6} className="p-3">
                  <div className="flex items-center justify-center gap-2">
                    <button
                      className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                      disabled={currentPage === 1}
                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}
                    >
                      Prev
                    </button>

                    {getPageNumbers(totalPages, currentPage).map((page, index) =>
                      page === "..." ? (
                        <span key={`dots-${index}`} className="px-2 text-brand-dark-500">...</span>
                      ) : (
                        <button
                          key={`page-${page}`}
                          className={`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${
                            currentPage === page
                              ? "text-brand-dark-100"
                              : "text-brand-dark-400 hover:text-brand-dark-100"
                          }`}
                          onClick={() => setCurrentPage(Number(page))}
                        >
                          {page}
                        </button>
                      )
                    )}

                    <button
                      className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                      disabled={currentPage === totalPages}
                      onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}
                    >
                      Next
                    </button>
                  </div>
                </TableCell>
              </TableRow>
              </TableBody>
            </Table>
          </div>
        </div>
      </div>
    </div>
  )
}

export default HistoryTable
</file>

<file path="components/users/progress-table.tsx">
"use client"

import React, { useState, useMemo } from "react"
import {
  ChevronDown,
  ChevronUp,
  MoreHorizontal,
} from "lucide-react"
import TableControls from "@/components/ui/table-controls"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"

export interface RegistrationRequest {
  id: string
  name: string
  email: string
  avatar: string
  totalCoins: number
  places: number
  lastVisit: {
    location: string
    time: string
  }
  status: "pending" | "approved" | "rejected"
}

interface ProgressTableProps {
  data: RegistrationRequest[]
  title?: string
  onViewDetails?: (request: RegistrationRequest) => void
}

type SortField = "group" | "status" | null
type SortDirection = "asc" | "desc"

const ITEMS_PER_PAGE = 5

const ProgressTable: React.FC<ProgressTableProps> = ({
  data,
  title = "Recent Business Registration Requests",
  onViewDetails,
}) => {
  const [sortField, setSortField] = useState<SortField>(null)
  const [sortDirection, setSortDirection] = useState<SortDirection>("asc")
  const [currentPage, setCurrentPage] = useState(1)
  const [searchValue, setSearchValue] = useState("")
  const [filterValue, setFilterValue] = useState("all")
  const [sortValue, setSortValue] = useState("default")

  // Filter and sort options
  const filterOptions = [
    { value: "all", label: "All Status" },
    { value: "pending", label: "Pending" },
    { value: "approved", label: "Approved" },
    { value: "rejected", label: "Rejected" },
  ]

  const sortOptions = [
    { value: "default", label: "Default" },
    { value: "group-asc", label: "Name A-Z" },
    { value: "group-desc", label: "Name Z-A" },
    { value: "status-asc", label: "Status A-Z" },
    { value: "status-desc", label: "Status Z-A" },
  ]

  const handleSort = (field: SortField) => {
    if (sortField === field) {
      setSortDirection(sortDirection === "asc" ? "desc" : "asc")
    } else {
      setSortField(field)
      setSortDirection("asc")
    }
  }

  const handleSortChange = (value: string) => {
    setSortValue(value)
    if (value === "default") {
      setSortField(null)
      setSortDirection("asc")
    } else {
      const [field, direction] = value.split("-")
      setSortField(field as SortField)
      setSortDirection(direction as SortDirection)
    }
  }

  const getStatusBadge = (status: string) => {
    const baseClasses =
      "inline-flex items-center px-3 py-1 rounded-md text-sm font-medium"
    switch (status) {
      case "pending":
        return `${baseClasses} bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300`
      case "approved":
        return `${baseClasses} bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300`
      case "rejected":
        return `${baseClasses} bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300`
      default:
        return baseClasses
    }
  }

  const SortIcon = ({ field }: { field: SortField }) => {
    if (sortField !== field) {
      return <ChevronDown className="w-4 h-4 opacity-50" />
    }
    return sortDirection === "asc" ? (
      <ChevronUp className="w-4 h-4" />
    ) : (
      <ChevronDown className="w-4 h-4" />
    )
  }

  // Filtering and sorting logic
  const filteredAndSortedData = useMemo(() => {
    let filtered = [...(data ?? [])]

    // Apply search filter
    if (searchValue) {
      filtered = filtered.filter((item) =>
        item.name.toLowerCase().includes(searchValue.toLowerCase()) ||
        item.email.toLowerCase().includes(searchValue.toLowerCase()) ||
        item.lastVisit.location.toLowerCase().includes(searchValue.toLowerCase())
      )
    }

    // Apply status filter
    if (filterValue && filterValue !== "all") {
      filtered = filtered.filter((item) => item.status === filterValue)
    }

    // Apply sorting
    if (sortField) {
      filtered.sort((a, b) => {
        let valA, valB
        if (sortField === "group") {
          valA = a.name.toLowerCase()
          valB = b.name.toLowerCase()
        } else if (sortField === "status") {
          valA = a.status
          valB = b.status
        }
        if (valA! < valB!) return sortDirection === "asc" ? -1 : 1
        if (valA! > valB!) return sortDirection === "asc" ? 1 : -1
        return 0
      })
    }

    return filtered
  }, [data, searchValue, filterValue, sortField, sortDirection])

  // âœ… Compact page numbers
  const getPageNumbers = (totalPages: number, currentPage: number) => {
    const pages: (number | string)[] = []

    if (totalPages <= 7) {
      for (let i = 1; i <= totalPages; i++) {
        pages.push(i)
      }
    } else {
      pages.push(1)

      if (currentPage > 3) {
        pages.push("...")
      }

      const start = Math.max(2, currentPage - 1)
      const end = Math.min(totalPages - 1, currentPage + 1)

      for (let i = start; i <= end; i++) {
        if (!pages.includes(i)) pages.push(i)
      }

      if (currentPage < totalPages - 2) {
        pages.push("...")
      }

      pages.push(totalPages)
    }

    return pages
  }

  // Pagination
  const totalPages = Math.ceil(filteredAndSortedData.length / ITEMS_PER_PAGE)
  const paginatedData = filteredAndSortedData.slice(
    (currentPage - 1) * ITEMS_PER_PAGE,
    currentPage * ITEMS_PER_PAGE
  )

  return (
    <div className="dark">
      <div className="h-full">
        <div className="mx-auto">
          {/* Table Controls */}
          <TableControls
            searchValue={searchValue}
            onSearchChange={setSearchValue}
            filterValue={filterValue}
            onFilterChange={setFilterValue}
            sortValue={sortValue}
            onSortChange={handleSortChange}
            filterOptions={filterOptions}
            sortOptions={sortOptions}
          />

          {/* Table */}
          <div className="bg-brand-dark-900 rounded-lg border border-brand-dark-800 overflow-hidden">
            <Table>
              <TableHeader>
                {/* Full-width title row */}
                <TableRow className="border-brand-dark-800 hover:bg-transparent">
                  <TableHead colSpan={5} className="h-[49px]">
                    <div className="flex items-center justify-between">
                      <h1 className="text-xl font-semibold text-brand-dark-100">{title}</h1>
                      <button className="p-2 hover:bg-brand-dark-800 rounded-lg transition-colors">
                        <MoreHorizontal className="w-5 h-5 text-brand-dark-400" />
                      </button>
                    </div>
                  </TableHead>
                </TableRow>
                <TableRow className="border-brand-dark-800 hover:bg-transparent">
                  <TableHead>
                    <button
                      className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                      onClick={() => handleSort("group")}
                    >
                      Group
                      <SortIcon field="group" />
                    </button>
                  </TableHead>
                  <TableHead className="text-brand-dark-300">Total Hano Coins</TableHead>
                  <TableHead className="text-brand-dark-300">Last Visit</TableHead>
                  <TableHead>
                    <button
                      className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                      onClick={() => handleSort("status")}
                    >
                      Account Status
                      <SortIcon field="status" />
                    </button>
                  </TableHead>
                  <TableHead className="text-brand-dark-300">Action</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {paginatedData.map((request) => (
                  <TableRow key={request.id} className="border-brand-dark-800 hover:bg-brand-dark-800/50">
                    <TableCell>
                      <div className="flex items-center gap-3">
                        <img
                          src={request.avatar}
                          alt={request.name}
                          className="w-10 h-10 rounded-full object-cover"
                        />
                        <div>
                          <div className="font-medium text-brand-dark-100">
                            {request.name}
                          </div>
                          <div className="text-sm text-brand-dark-400">
                            {request.email}
                          </div>
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex flex-col justify-center">
                        <div className="font-semibold text-brand-dark-100">
                          {request.totalCoins.toLocaleString()}
                        </div>
                        <div className="text-sm text-brand-dark-400">
                          {request.places} Places
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex flex-col justify-center">
                        <div className="font-medium text-brand-dark-100">
                          {request.lastVisit.location}
                        </div>
                        <div className="text-sm text-brand-dark-400">
                          {request.lastVisit.time}
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <span className={getStatusBadge(request.status)}>
                        <span className="w-2 h-2 rounded-full bg-white mr-2"></span>
                        {request.status.charAt(0).toUpperCase() +
                          request.status.slice(1)}
                      </span>
                    </TableCell>
                    <TableCell>
                      <button
                        onClick={() => onViewDetails?.(request)}
                        className="px-4 py-2 bg-[#ffffff] text-brand-dark-800 rounded-lg text-sm font-medium transition-colors border border-brand-dark-700"
                      >
                        View Details
                      </button>
                    </TableCell>
                  </TableRow>
                ))}
              {/* Full-width pagination row inside body to avoid extra component import */}
              <TableRow className="hover:bg-transparent border-t border-brand-dark-800">
                <TableCell colSpan={5} className="p-3">
                  <div className="flex items-center justify-center gap-2">
                    <button
                      className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                      disabled={currentPage === 1}
                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}
                    >
                      Prev
                    </button>

                    {getPageNumbers(totalPages, currentPage).map((page, index) =>
                      page === "..." ? (
                        <span key={`dots-${index}`} className="px-2 text-brand-dark-500">...</span>
                      ) : (
                        <button
                          key={`page-${page}`}
                          className={`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${
                            currentPage === page
                              ? "text-brand-dark-100"
                              : "text-brand-dark-400 hover:text-brand-dark-100"
                          }`}
                          onClick={() => setCurrentPage(Number(page))}
                        >
                          {page}
                        </button>
                      )
                    )}

                    <button
                      className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                      disabled={currentPage === totalPages}
                      onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}
                    >
                      Next
                    </button>
                  </div>
                </TableCell>
              </TableRow>
              </TableBody>
            </Table>
          </div>
        </div>
      </div>
    </div>
  )
}

export default ProgressTable
</file>

<file path="app/(business)/stock-menu/page.tsx">
"use client";

import dynamic from "next/dynamic";
import Link from "next/link";
import PageHeader from "@/components/layout/page-header";
import ValueCard from "@/components/value-card";
import { ShoppingBasket, Package, AlertCircle, AlertTriangle, UtensilsCrossed, Warehouse, ChevronRight, TrendingUp } from "lucide-react";
import { Button } from "@/components/ui/button";
import StockMetricCard from "@/components/business/stock-metric-card";
import ItemPerformanceCard from "@/components/business/item-performance-card";
import ClientReviewCard from "@/components/business/review-card";

const ActivityTrendChart = dynamic(() => import("@/components/ActivityTrendChart"), {
    ssr: false,
});

export default function StockMenuPage() {
    const affordabilityData = [
        { day: "Jan", index: 85000 },
        { day: "Feb", index: 86000 },
        { day: "Mar", index: 88000 },
        { day: "Apr", index: 87000 },
        { day: "May", index: 92000 },
        { day: "Jun", index: 95000 },
        { day: "Jul", index: 94000 },
        { day: "Aug", index: 98000 },
        { day: "Sep", index: 100000 },
        { day: "Oct", index: 102000 },
        { day: "Nov", index: 105000 },
        { day: "Dec", index: 107843.82 },
    ];

    const chartKeys = [
        { key: "index", label: "Affordability Index", color: "#a855f7", gradientId: "affordabilityGradient" }
    ];

    const itemChartData = [
        { value: 40 }, { value: 35 }, { value: 45 }, { value: 60 }, { value: 55 }, { value: 70 },
        { value: 65 }, { value: 80 }, { value: 75 }, { value: 85 }, { value: 90 }, { value: 100 }
    ];

    const reviews = [
        {
            id: "1",
            rating: 3,
            text: "Love the simplicity of the service and the prompt customer support. We can't imagine working without it.",
            userName: "Caitlyn King",
            userEmail: "user@gmail.com",
            userAvatar: "https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=100",
            timeAgo: "12 mins ago",
            itemName: "Large Pizza",
            itemImage: "https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300",
            itemTrend: "7.2%"
        },
        {
            id: "2",
            rating: 4,
            text: "Clean interface and powerful tools. The stock alerts really helped us reduce waste.",
            userName: "Caitlyn King",
            userEmail: "user@gmail.com",
            userAvatar: "https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=100",
            timeAgo: "2 hours ago",
            itemName: "Large Pizza",
            itemImage: "https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300",
            itemTrend: "7.2%"
        },
        {
            id: "3",
            rating: 5,
            text: "The best dashboard we have used for our restaurant so far. Highly recommended!",
            userName: "Caitlyn King",
            userEmail: "user@gmail.com",
            userAvatar: "https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=100",
            timeAgo: "5 hours ago",
            itemName: "Large Pizza",
            itemImage: "https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300",
            itemTrend: "7.2%"
        },
        {
            id: "4",
            rating: 5,
            text: "The best dashboard we have used for our restaurant so far. Highly recommended!",
            userName: "Caitlyn King",
            userEmail: "user@gmail.com",
            userAvatar: "https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=100",
            timeAgo: "5 hours ago",
            itemName: "Large Pizza",
            itemImage: "https://images.pexels.com/photos/825661/pexels-photo-825661.jpeg?auto=compress&cs=tinysrgb&w=300",
            itemTrend: "7.2%"
        }
    ];

    const headerActions = (
        <>
            <Link href="/stock-menu/menu-management">
                <Button className="h-14 px-6 bg-white text-brand-dark-900 hover:bg-gray-100 font-bold rounded-xl gap-2">
                    <UtensilsCrossed className="w-5 h-5" />
                    Menu Management
                </Button>
            </Link>
            <Link href="/stock-menu/stock-management">
                <Button className="h-14 px-6 bg-white text-brand-dark-900 hover:bg-gray-100 font-bold rounded-xl gap-2">
                    <Warehouse className="w-5 h-5" />
                    Stock Management
                </Button>
            </Link>
        </>
    );

    return (
        <div className="space-y-12 pb-12">
            <PageHeader
                breadcrumbs={[{ label: "Home", href: "/dashboard" }, { label: "Stock & Menu" }]}
                actions={headerActions}
                hideDefaultActions
            />

            {/* Metric Cards */}
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <ValueCard
                    title="Total Menu Items"
                    value={120}
                    unit=""
                    description="12 Categories"
                    label="â†‘ 2.4%"
                    icon={<ShoppingBasket />}
                    iconColor="text-blue-400"
                />
                <ValueCard
                    title="Available Today"
                    value={120}
                    unit=""
                    description="12 Unavailable"
                    label="â†‘ 2.4%"
                    icon={<Package />}
                    iconColor="text-green-500"
                />
                <ValueCard
                    title="Out of Stock"
                    value={32}
                    unit=""
                    description=""
                    label="â†‘ 2.4%"
                    icon={<AlertCircle />}
                    iconColor="text-red-500"
                />
                <ValueCard
                    title="Out of Stock"
                    value={120}
                    unit=""
                    description="All time"
                    label="â†‘ 2.4%"
                    icon={<AlertTriangle />}
                    iconColor="text-orange-500"
                />
            </div>

            {/* Affordability Index Section */}
            <div className="bg-brand-dark-900 border border-brand-dark-800 rounded-3xl p-8 space-y-8">
                <div className="flex items-start justify-between">
                    <div className="space-y-4">
                        <h3 className="text-xl font-semibold text-white">Menu Affordability Index</h3>
                        <div className="flex items-center gap-4">
                            <span className="text-4xl font-bold text-white">$107,843.82</span>
                            <span className="inline-flex items-center gap-1 px-3 py-1 rounded-full bg-green-500/10 text-green-500 text-sm font-bold">
                                <TrendingUp className="w-4 h-4" />
                                7.2%
                            </span>
                        </div>
                    </div>
                    <div className="flex items-center gap-4">
                        <button className="px-6 py-3 rounded-xl border border-brand-dark-700 text-brand-dark-100 font-medium hover:bg-white/5 transition-all">Learn more</button>
                        <button className="px-6 py-3 rounded-xl border border-brand-dark-700 text-brand-dark-100 font-medium hover:bg-white/5 transition-all">View report</button>
                    </div>
                </div>

                {/* Fixed chart overlap by giving enough height and removing internal card styling */}
                <div className="h-96 mt-8">
                    <ActivityTrendChart
                        data={affordabilityData}
                        title=""
                        dataKeys={chartKeys}
                        periods={[]}
                        showBorder={false}
                        showHeader={false}
                    />
                </div>
            </div>

            {/* Component Metrics Section - Now full width row */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                <StockMetricCard
                    title="Most Sold Component"
                    name="Baking Flour"
                    value={234}
                    unit="Kg"
                    image="https://images.pexels.com/photos/2280547/pexels-photo-2280547.jpeg?auto=compress&cs=tinysrgb&w=150"
                    progress={75}
                    icon={<TrendingUp className="w-5 h-5" />}
                />
                <StockMetricCard
                    title="Recent Out Of Stock - Component"
                    name="Baking Flour"
                    value={0}
                    unit="Kg"
                    image="https://images.pexels.com/photos/2280547/pexels-photo-2280547.jpeg?auto=compress&cs=tinysrgb&w=150"
                    progress={0}
                    icon={<AlertCircle className="w-5 h-5" />}
                />
                <StockMetricCard
                    title="Most Overstocked - Component"
                    name="Maize Flour"
                    value={234}
                    unit="Pcs"
                    image="https://images.pexels.com/photos/2280547/pexels-photo-2280547.jpeg?auto=compress&cs=tinysrgb&w=150"
                    progress={90}
                    icon={<AlertTriangle className="w-5 h-5" />}
                />
            </div>

            {/* Item Performance Cards Section */}
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <ItemPerformanceCard
                    title="Top Selling Menu Item"
                    itemName="Large Pizza"
                    sells="12,450"
                    trend="7.2%"
                    isPositive
                    subItemName="Large Pizza"
                    subItemValue="234"
                    subItemUnit="In Last Month"
                    subItemImage="https://images.pexels.com/photos/1166120/pexels-photo-1166120.jpeg?auto=compress&cs=tinysrgb&w=300"
                    chartData={itemChartData}
                />
                <ItemPerformanceCard
                    title="Least Selling Menu Item"
                    itemName="Large Pizza"
                    sells="12,450"
                    trend="7.2%"
                    isPositive={false}
                    subItemName="Large Pizza"
                    subItemValue="234"
                    subItemUnit="In Last Month"
                    subItemImage="https://images.pexels.com/photos/1239347/pexels-photo-1239347.jpeg?auto=compress&cs=tinysrgb&w=300"
                    chartData={itemChartData}
                />
            </div>

            {/* Client Reviews Section */}
            <div className="space-y-6">
                <div className="flex items-center justify-between px-4">
                    <h2 className="text-3xl font-bold text-white">Client reviews</h2>
                    <button className="text-base font-semibold text-orange-500 hover:text-orange-400 transition-colors flex items-center gap-2">
                        View All <ChevronRight className="w-5 h-5" />
                    </button>
                </div>
                <div className="flex gap-8 overflow-x-auto no-scrollbar pb-4 pr-4">
                    {reviews.map((review) => (
                        <ClientReviewCard key={review.id} {...review} />
                    ))}
                </div>
            </div>
        </div>
    );
}
</file>

<file path="app/businesses/[businessName]/page.tsx">
"use client";

import { useMemo } from "react";
import { useParams } from "next/navigation";
import AppShell from "@/components/layout/app-shell";
import { type SidebarMenuSection } from "@/components/layout/sidebar";
import { LayoutDashboard, Users, Building2, CreditCard, DollarSign, BarChart3, LogOut, BadgeCheck, MapPin, Link2, Phone, ClipboardCopy } from "lucide-react";
import ActivityTrendChart, { type ChartDataPoint } from "@/components/ActivityTrendChart";
import ValueCard from "@/components/value-card";
import BusinessProgressTable, { type BusinessVisitHistory } from "@/components/businesses/business-progress-table";
import PageHeader from "@/components/layout/page-header";
import { AuthGuard } from "@/components/auth-guard";
import { useAuth } from "@/contexts/auth-context";

export default function BusinessActivityPage() {
  const params = useParams();
  const businessName = decodeURIComponent(String(params?.businessName ?? "Business"));
  const { user } = useAuth();

  // Use a default user object if user is not loaded yet (will be replaced by AuthGuard)
  const displayUser = user || {
    name: "",
    email: "",
    avatarUrl: undefined,
  };

  const menu: SidebarMenuSection[] = [
    {
      section: "App Management",
      items: [
        { icon: LayoutDashboard, label: "Dashboard", href: "/" },
        { icon: Building2, label: "Businesses", badge: 5, href: "/businesses", active: true },
        { icon: Users, label: "Users", href: "/users" },
        { icon: CreditCard, label: "Subscriptions", href: "/subscriptions" },
        { icon: DollarSign, label: "Revenues", href: "/revenues" },
        { icon: BarChart3, label: "Reports", badge: 9, href: "/reports" },
      ],
    },
    {
      section: "Account",
      items: [{ icon: LogOut, label: "Sign Out", href: "/logout" }],
    },
  ];

  const chartData: ChartDataPoint[] = useMemo(
    () => [
      { day: "Sun", registeredUsers: 45, visitors: 65 },
      { day: "Mon", registeredUsers: 75, visitors: 85 },
      { day: "Tue", registeredUsers: 55, visitors: 70 },
      { day: "Wed", registeredUsers: 85, visitors: 35 },
      { day: "Thu", registeredUsers: 70, visitors: 80 },
      { day: "Fri", registeredUsers: 60, visitors: 75 },
      { day: "Sat", registeredUsers: 80, visitors: 90 },
    ],
    []
  );

  const tableData: BusinessVisitHistory[] = [
    {
      id: "1",
      businessName: businessName,
      email: "Mario.Koss@hotmail.com",
      avatar: "",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      category: "Hotel",
      subcategory: "Accommodation",
      rewards: 20,
      rewarded: false,
    },
    {
      id: "2",
      businessName: businessName,
      email: "Mario.Koss@hotmail.com",
      avatar: "",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      category: "Hotel",
      subcategory: "Accommodation",
      rewards: 20,
      rewarded: true,
    },
    {
      id: "3",
      businessName: businessName,
      email: "Mario.Koss@hotmail.com",
      avatar: "",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      category: "Hotel",
      subcategory: "Accommodation",
      rewards: 20,
      rewarded: false,
    },
    {
      id: "4",
      businessName: businessName,
      email: "Mario.Koss@hotmail.com",
      avatar: "",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      category: "Hotel",
      subcategory: "Accommodation",
      rewards: 20,
      rewarded: true,
    },
    {
      id: "5",
      businessName: businessName,
      email: "Mario.Koss@hotmail.com",
      avatar: "",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      category: "Hotel",
      subcategory: "Accommodation",
      rewards: 20,
      rewarded: false,
    },
  ];

  return (
    <AuthGuard>
      <AppShell user={displayUser} menu={menu}>
      <PageHeader breadcrumbs={[{ label: "Home", href: "/" }, { label: "Businesses", href: "/businesses" }, { label: businessName }]} />
      <div className="space-y-8">
        {/* Header + Activity */}
        <div
          className="grid grid-cols-1 lg:grid-cols-2 gap-8 rounded-3xl sm:p-8 border border-brand-dark-800 bg-cover bg-center w-full"
          style={{
            backgroundImage: "url('/modalDetails.png')",
            backgroundSize: "cover",
            backgroundPosition: "center",
          }}
        >
          <div className="">
            <div className="p-6 bg-brand-dark-900/80 rounded-2xl mb-8 space-y-4">
              <div className="flex items-center justify-between">
                <div className="flex items-start gap-4">
                  <img src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop" alt={businessName} className="w-12 h-12 rounded-full object-cover" />
                  <div>
                    <div className="text-lg font-semibold text-brand-dark-100">{businessName}</div>
                    <div className="text-sm text-brand-dark-100">info@example.com</div>
                  </div>
                </div>
                <BadgeCheck className="w-8 h-8 text-blue-500" />
              </div>

              <div className="flex items-center justify-between text-xs text-brand-dark-100">
                <span className="flex items-center gap-2">
                  <MapPin className="w-4 h-4" /> Kigali, Rwanda
                </span>
                <div className="flex items-center gap-6">
                  <a href="#" className="flex items-center gap-2 hover:underline">
                    <Link2 className="w-4 h-4" /> View Business Page
                  </a>
                  <span className="flex items-center gap-2">
                    <Phone className="w-4 h-4" /> +250-791-234-567
                  </span>
                </div>
              </div>
            </div>

            <div className="grid grid-cols-1 sm:grid-cols-2 gap-8 mb-8">
              <ValueCard title="Total Visits" value={234800} unit="RWF" description={`2 Plans`} label="â†‘ 2.4%" icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />} />
              <ValueCard title="All Users" value={234800} unit="usr" description={`2 Plans`} label="â†‘ 2.4%" icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />} />
            </div>

            <div className="grid grid-cols-2 gap-6">
              <button className="px-4 py-3 rounded-lg text-brand-dark-200 border border-brand-dark-700">Back</button>
              <button className="px-4 py-3 rounded-lg bg-white text-black font-medium">Continue</button>
            </div>
          </div>
          {/* Activity trend */}
          <ActivityTrendChart data={chartData} />
        </div>

        {/* Visit History */}
        <BusinessProgressTable data={tableData} title="Visit History" />
      </div>
    </AppShell>
    </AuthGuard>
  );
}
</file>

<file path="components/landing/CheckListItem.tsx">
interface CheckListItemProps {
  children: React.ReactNode;
}

export default function CheckListItem({ children }: CheckListItemProps) {
  return (
    <li className="flex items-center gap-4 ml-5">
      <div className="w-8 h-8 rounded-full bg-[var(--landing-surface-60)] flex items-center justify-center flex-shrink-0">
        <svg
          className="w-4 h-4 text-white"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2.5} d="M5 13l4 4L19 7" />
        </svg>
      </div>
      <span className="text-[var(--landing-text-muted)] text-base sm:text-lg leading-relaxed">{children}</span>
    </li>
  );
}
</file>

<file path="components/landing/FAQSection.tsx">
"use client";

import { useRef } from "react";
import { motion, useInView } from "framer-motion";

export default function FAQSection() {
  const faqs = [
    {
      question: "Is there a free trial available?",
      answer:
        "Yes, you can try us for free for 30 days. If you want, we'll provide you with a free, personalized 30-minute onboarding call to get you up and running as soon as possible.",
    },
    {
      question: "Can I change my plan later?",
      answer: "Yes, you can upgrade or downgrade your plan at any time.",
    },
    {
      question: "What is your cancellation policy?",
      answer: "You can cancel your subscription at any time with no penalties.",
    },
    {
      question: "Can other info be added to an invoice?",
      answer: "Yes, you can add custom information to your invoices.",
    },
    {
      question: "How does billing work?",
      answer: "We bill monthly or annually depending on your chosen plan.",
    },
    {
      question: "How do I change my account email?",
      answer: "You can change your email in account settings.",
    },
  ];

  const containerRef = useRef(null);
  const isInView = useInView(containerRef, { once: false, amount: 0.2 });

  return (
    <motion.section
      ref={containerRef}
      className="py-12 sm:py-16 md:py-24 lg:py-32 bg-black"
      initial={{ opacity: 0 }}
      animate={isInView ? { opacity: 1 } : { opacity: 0 }}
      transition={{ duration: 0.6 }}
    >
      <div className="container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 max-w-7xl">
        <div className="text-center mb-10 md:mb-16">
          <motion.h2
            className="text-4xl font-bold mb-3 md:mb-4"
            initial={{ opacity: 0, y: 30 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 30 }}
            transition={{ duration: 0.6 }}
          >
            Frequently asked questions
          </motion.h2>
          <motion.p
            className="text-[var(--landing-text-muted)] text-xl"
            initial={{ opacity: 0, y: 30 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 30 }}
            transition={{ duration: 0.6, delay: 0.1 }}
          >
            Everything you need to know about the product and billing.
          </motion.p>
        </div>

        <div className="max-w-3xl mx-auto space-y-3 md:space-y-4 rounded-xl">
          {faqs.map((faq, index) => (
            <motion.details
              key={index}
              className="group bg-transparent rounded-xl overflow-hidden hover:bg-[var(--landing-surface-30)] transition-all duration-300"
              initial={{ opacity: 0, y: 20 }}
              animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
              transition={{ duration: 0.5, delay: index * 0.05 }}
            >
              <motion.summary
                className="flex items-start gap-3 md:gap-4 p-4 md:p-6 cursor-pointer list-none group-open:bg-[var(--landing-surface-60)] transition-all duration-300 hover:pl-6 md:hover:pl-8"
                whileHover={{ x: 5 }}
              >
                <div className="flex-shrink-0 w-5 h-5 md:w-6 md:h-6 rounded-full border-2 border-[var(--landing-text-muted-faint)] flex items-center justify-center mt-0.5 group-hover:border-purple-500 group-hover:scale-110 transition-all duration-300">
                  <svg
                    className="w-2.5 h-2.5 md:w-3 md:h-3 text-[var(--landing-text-muted)] group-open:hidden group-hover:text-purple-400 transition-colors"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M12 4v16m8-8H4" />
                  </svg>
                  <svg
                    className="w-2.5 h-2.5 md:w-3 md:h-3 text-[var(--landing-text-muted)] hidden group-open:block group-hover:text-purple-400 transition-colors"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M20 12H4" />
                  </svg>
                </div>
                <span className="text-sm md:text-lg font-medium flex-1 group-hover:text-purple-400 transition-colors">
                  {faq.question}
                </span>
              </motion.summary>
              <motion.div
                className="pl-10 md:pl-16 pr-4 md:pr-6 pb-4 md:pb-6 pt-2 text-[var(--landing-text-muted)] text-sm md:text-base leading-relaxed group-open:bg-[var(--landing-surface-60)]"
                initial={{ opacity: 0, height: 0 }}
                animate={{ opacity: 1, height: "auto" }}
                exit={{ opacity: 0, height: 0 }}
              >
                {faq.answer}
              </motion.div>
            </motion.details>
          ))}
        </div>
      </div>
    </motion.section>
  );
}
</file>

<file path="app/businesses/page.tsx">
"use client";

import { useState, useEffect } from "react";
import { apiClient } from "@/lib/api-client";
import { useAuth } from "@/contexts/auth-context";
import { AuthGuard } from "@/components/auth-guard";
import AppShell from "@/components/layout/app-shell";
import PageHeader from "@/components/layout/page-header";
import ValueCard from "@/components/value-card";
import ActivityTrendChart, { type ChartDataPoint } from "@/components/ActivityTrendChart";
import BusinessHistoryTable, { type BusinessVisit } from "@/components/businesses/business-history-table";
import BusinessDetailsModal from "@/components/businesses/BusinessDetailsModal";
import { Tabs, TabsList, TabsTrigger, TabsContent } from "@/components/ui/tabs";
import { LayoutDashboard, Users, Building2, CreditCard, DollarSign, BarChart3, LogOut } from "lucide-react";
import { type SidebarMenuSection } from "@/components/layout/sidebar";
import { toast } from "sonner";

export default function BusinessesPage() {
  const [selected, setSelected] = useState<BusinessVisit | null>(null);
  const [places, setPlaces] = useState<BusinessVisit[]>([]);
  const [claims, setClaims] = useState<BusinessVisit[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const { user, logout } = useAuth();

  const displayUser = user || {
    id: "",
    name: "",
    email: "",
  };

  const menu: SidebarMenuSection[] = [
    {
      section: "App Management",
      items: [
        { icon: LayoutDashboard, label: "Dashboard", href: "/" },
        { icon: Building2, label: "Businesses", badge: places.length, href: "/businesses", active: true },
        { icon: Users, label: "Users", href: "/users" },
        { icon: CreditCard, label: "Subscriptions", href: "/subscriptions" },
        { icon: DollarSign, label: "Revenues", href: "/revenues" },
        { icon: BarChart3, label: "Reports", href: "/reports" },
      ],
    },
    {
      section: "Account",
      items: [{ icon: LogOut, label: "Sign Out", onClick: logout }],
    },
  ];

  // Mocked chart data for now
  const chartData: ChartDataPoint[] = [
    { day: "Sun", registeredUsers: 45, visitors: 65 },
    { day: "Mon", registeredUsers: 75, visitors: 85 },
    { day: "Tue", registeredUsers: 55, visitors: 70 },
    { day: "Wed", registeredUsers: 85, visitors: 35 },
    { day: "Thu", registeredUsers: 70, visitors: 80 },
    { day: "Fri", registeredUsers: 60, visitors: 75 },
    { day: "Sat", registeredUsers: 80, visitors: 90 },
  ];

  useEffect(() => {
    const fetchData = async () => {
      try {
        setIsLoading(true);
        const [placesRes, claimsRes] = await Promise.all([
          apiClient.get("/places"),
          apiClient.get("/claims?status=pending"),
        ]);

        const mappedPlaces: BusinessVisit[] = (placesRes.data.data || []).map((p: any) => ({
          id: p.id,
          businessName: p.name,
          email: p.email || "N/A",
          avatar: p.logoUrl || "",
          category: p.category || "General",
          subcategory: p.subcategory || "",
          clients: p.reviewStats?.totalReviews || 0,
          coinsPerVisit: 0,
          currentPlan: "Approved",
          time: { date: new Date(p.createdAt).toLocaleDateString(), clock: new Date(p.createdAt).toLocaleTimeString() },
        }));

        const mappedClaims: BusinessVisit[] = (claimsRes.data.data || []).map((c: any) => ({
          id: c.id,
          businessName: c.place?.name || "Unknown",
          email: c.user?.email || "N/A",
          avatar: c.place?.logoUrl || "",
          category: c.place?.category || "General",
          subcategory: c.place?.subcategory || "",
          clients: 0,
          coinsPerVisit: 0,
          currentPlan: "Pending",
          time: { date: new Date(c.createdAt).toLocaleDateString(), clock: new Date(c.createdAt).toLocaleTimeString() },
        }));

        setPlaces(mappedPlaces);
        setClaims(mappedClaims);
      } catch (error) {
        console.error("Failed to fetch businesses data:", error);
        toast.error("Failed to load businesses data");
      } finally {
        setIsLoading(false);
      }
    };

    fetchData();
  }, []);

  const handleApproveClaim = async (claimId: string) => {
    try {
      await apiClient.patch(`/claims/${claimId}/status`, { status: "approved" });
      toast.success("Claim approved successfully");
      setClaims(prev => prev.filter(c => c.id !== claimId));
      // Refresh places to show the newly assigned owner if needed
      const placesRes = await apiClient.get("/places");
      const mappedPlaces: BusinessVisit[] = (placesRes.data.data || []).map((p: any) => ({
        id: p.id,
        businessName: p.name,
        email: p.email || "N/A",
        avatar: p.logoUrl || "",
        category: p.category || "General",
        subcategory: p.subcategory || "",
        clients: p.reviewStats?.totalReviews || 0,
        coinsPerVisit: 0,
        currentPlan: "Approved",
        time: { date: new Date(p.createdAt).toLocaleDateString(), clock: new Date(p.createdAt).toLocaleTimeString() },
      }));
      setPlaces(mappedPlaces);
    } catch (error) {
      console.error("Failed to approve claim:", error);
      toast.error("Failed to approve claim");
    }
  };

  return (
    <AuthGuard>
      <AppShell user={displayUser} menu={menu}>
        <PageHeader breadcrumbs={[{ label: "Home", href: "/" }, { label: "Businesses" }]} />
        <div className="space-y-8">
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            <ValueCard title="All Businesses" value={places.length} unit="Groups" description="+2.4%" label="All time" />
            <ValueCard title="Pending" value={claims.length} unit="Requests" description="Action required" label="Now" />
            <ValueCard title="Suspended" value={0} unit="Groups" description="0%" label="All time" />
            <ValueCard title="Visitors" value={0} unit="Now" description="+0" label="Now" />
          </div>

          <ActivityTrendChart data={chartData} />

          <Tabs defaultValue="active" className="w-full">
            <TabsList className="grid grid-cols-3 w-full bg-brand-dark-900 border border-brand-dark-800">
              <TabsTrigger value="active">Active</TabsTrigger>
              <TabsTrigger value="pending">Pending</TabsTrigger>
              <TabsTrigger value="restricted">Restricted</TabsTrigger>
            </TabsList>
            <TabsContent value="active" className="mt-4">
              <BusinessHistoryTable
                data={places}
                title="Active Businesses"
                onViewDetails={(req) => setSelected(req)}
              />
            </TabsContent>
            <TabsContent value="pending" className="mt-4">
              <BusinessHistoryTable
                data={claims}
                title="Pending Business Claims"
                onViewDetails={(req) => setSelected(req)}
                onApprove={handleApproveClaim}
                variant="pending"
              />
            </TabsContent>
            <TabsContent value="restricted" className="mt-4">
              <div className="rounded-lg border border-brand-dark-800 p-6 text-brand-dark-300">Restricted view coming soon.</div>
            </TabsContent>
          </Tabs>
        </div>
        <BusinessDetailsModal selected={selected} onClose={() => setSelected(null)} />
      </AppShell>
    </AuthGuard>
  );
}
</file>

<file path="app/users/[userName]/page.tsx">
"use client";

import { useMemo, useState } from "react";
import { useParams } from "next/navigation";
import AppShell from "@/components/layout/app-shell";
import { type SidebarMenuSection } from "@/components/layout/sidebar";
import { LayoutDashboard, Users, Building2, CreditCard, DollarSign, BarChart3, LogOut, BadgeCheck, MapPin, Link2, Phone, ClipboardCopy } from "lucide-react";
import ActivityTrendChart, { type ChartDataPoint } from "@/components/ActivityTrendChart";
import ValueCard from "@/components/value-card";
import HistoryTable, { type RegistrationRequest } from "@/components/users/history-table";
import PageHeader from "@/components/layout/page-header";
import { AuthGuard } from "@/components/auth-guard";
import { useAuth } from "@/contexts/auth-context";

export default function UserActivityPage() {
  const params = useParams();
  const email = decodeURIComponent(String(params?.email ?? "User"));
  const { user } = useAuth();

  // Use a default user object if user is not loaded yet (will be replaced by AuthGuard)
  const displayUser = user || {
    name: "",
    email: "",
    avatarUrl: undefined,
  };

  const menu: SidebarMenuSection[] = [
    {
      section: "App Management",
      items: [
        { icon: LayoutDashboard, label: "Dashboard", href: "/" },
        { icon: Building2, label: "Businesses", badge: 5, href: "/businesses" },
        { icon: Users, label: "Users", href: "/users", active: true },
        { icon: CreditCard, label: "Subscriptions", href: "/subscriptions" },
        { icon: DollarSign, label: "Revenues", href: "/revenues" },
        { icon: BarChart3, label: "Reports", badge: 9, href: "/reports" },
      ],
    },
    {
      section: "Account",
      items: [{ icon: LogOut, label: "Sign Out", href: "/logout" }],
    },
  ];

  const chartData: ChartDataPoint[] = useMemo(
    () => [
      { day: "Sun", registeredUsers: 45, visitors: 65 },
      { day: "Mon", registeredUsers: 75, visitors: 85 },
      { day: "Tue", registeredUsers: 55, visitors: 70 },
      { day: "Wed", registeredUsers: 85, visitors: 35 },
      { day: "Thu", registeredUsers: 70, visitors: 80 },
      { day: "Fri", registeredUsers: 60, visitors: 75 },
      { day: "Sat", registeredUsers: 80, visitors: 90 },
    ],
    []
  );

  const tableData: RegistrationRequest[] = [
    {
      id: "1",
      name: "Grand Venue Hotels",
      email: "Mario.koss@hotmail.com",
      avatar:
        "https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      review: { date: "2, May, 2025", clock: "2:04 pm" },
      rewards: 20,
      rewarded: false,
    },
    {
      id: "2",
      name: "Grand Venue Hotels",
      email: "Mario.koss@hotmail.com",
      avatar:
        "https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      review: { date: "2, May, 2025", clock: "2:04 pm" },
      rewards: 20,
      rewarded: true,
    },
    {
      id: "3",
      name: "Grand Venue Hotels",
      email: "Mario.koss@hotmail.com",
      avatar:
        "https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
      time: { date: "2, May, 2025", clock: "2:04 pm" },
      review: { date: "2, May, 2025", clock: "2:04 pm" },
      rewards: 20,
      rewarded: false,
    },
  ];

  return (
    <AuthGuard>
      <AppShell user={displayUser} menu={menu}>
      <PageHeader breadcrumbs={[{ label: "Home", href: "/" }, { label: "Users", href: "/users" }, { label: email }]} />
      <div className="space-y-8">
        {/* Header + Activity */}
        <div
          className="grid grid-cols-1 lg:grid-cols-2 gap-8 rounded-3xl sm:p-8 border border-brand-dark-800 bg-cover bg-center w-full"
          style={{
            backgroundImage: "url('/modalDetails.png')",
            backgroundSize: "cover",
            backgroundPosition: "center",
          }}
        >
          <div className="">
            <div className="p-6 bg-brand-dark-900/80 rounded-2xl mb-8 space-y-4">
              <div className="flex items-center justify-between">
                <div className="flex items-start gap-4">
                  <img src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop" alt={email} className="w-12 h-12 rounded-full object-cover" />
                  <div>
                    <div className="text-lg font-semibold text-brand-dark-100">{email}</div>
                    <div className="text-sm text-brand-dark-100">john@example.com</div>
                  </div>
                </div>
                <BadgeCheck className="w-8 h-8 text-blue-500" />
              </div>

              <div className="flex items-center justify-between text-xs text-brand-dark-100">
                <span className="flex items-center gap-2">
                  <MapPin className="w-4 h-4" /> Kigali, Rwanda
                </span>
                <div className="flex items-center gap-6">
                  <a href="#" className="flex items-center gap-2 hover:underline">
                    <Link2 className="w-4 h-4" /> View Business Page
                  </a>
                  <span className="flex items-center gap-2">
                    <Phone className="w-4 h-4" /> +250-791-234-567
                  </span>
                </div>
              </div>
            </div>

            <div className="grid grid-cols-1 sm:grid-cols-2 gap-8 mb-8">
              <ValueCard title="Total Visits" value={234800} unit="RWF" description={`2 Plans`} label="â†‘ 2.4%" icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />} />
              <ValueCard title="All Users" value={234800} unit="usr" description={`2 Plans`} label="â†‘ 2.4%" icon={<ClipboardCopy className="w-5 h-5 text-brand-dark-100" />} />
            </div>

            <div className="grid grid-cols-2 gap-6">
              <button className="px-4 py-3 rounded-lg text-brand-dark-200 border border-brand-dark-700">Back</button>
              <button className="px-4 py-3 rounded-lg bg-white text-black font-medium">Continue</button>
            </div>
          </div>
          {/* Activity trend */}
          <ActivityTrendChart data={chartData} />
        </div>

        {/* Visit History */}
        <HistoryTable data={tableData} title="Visit History" />
      </div>
    </AppShell>
    </AuthGuard>
  );
}
</file>

<file path="app/users/page.tsx">
"use client";

import { useState, useEffect } from "react";
import dynamic from "next/dynamic";
import { apiClient } from "@/lib/api-client";
import { useAuth } from "@/contexts/auth-context";
import { AuthGuard } from "@/components/auth-guard";
import AppShell from "@/components/layout/app-shell";
import PageHeader from "@/components/layout/page-header";
import ValueCard from "@/components/value-card";
import ProgressTable, { type RegistrationRequest } from "@/components/users/progress-table";
import UserDetailsModal from "@/components/users/UserDetailsModal";
import { LayoutDashboard, Users, Building2, CreditCard, DollarSign, BarChart3, LogOut } from "lucide-react";
import { type SidebarMenuSection } from "@/components/layout/sidebar";
import { toast } from "sonner";

const ActivityTrendChart = dynamic(() => import("@/components/ActivityTrendChart"), {
  ssr: false,
});

export default function UsersPage() {
  const [selected, setSelected] = useState<RegistrationRequest | null>(null);
  const [users, setUsers] = useState<RegistrationRequest[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const { user, logout } = useAuth();

  const displayUser = user || {
    id: "",
    name: "",
    email: "",
  };

  const menu: SidebarMenuSection[] = [
    {
      section: "App Management",
      items: [
        { icon: LayoutDashboard, label: "Dashboard", href: "/" },
        { icon: Building2, label: "Businesses", href: "/businesses" },
        { icon: Users, label: "Users", href: "/users", active: true },
        { icon: CreditCard, label: "Subscriptions", href: "/subscriptions" },
        { icon: DollarSign, label: "Revenues", href: "/revenues" },
        { icon: BarChart3, label: "Reports", href: "/reports" },
      ],
    },
    {
      section: "Account",
      items: [{ icon: LogOut, label: "Sign Out", onClick: logout }],
    },
  ];

  // Mocked chart data
  const chartData = [
    { day: "Sun", registeredUsers: 45, visitors: 65 },
    { day: "Mon", registeredUsers: 75, visitors: 85 },
    { day: "Tue", registeredUsers: 55, visitors: 70 },
    { day: "Wed", registeredUsers: 85, visitors: 35 },
    { day: "Thu", registeredUsers: 70, visitors: 80 },
    { day: "Fri", registeredUsers: 60, visitors: 75 },
    { day: "Sat", registeredUsers: 80, visitors: 90 },
  ];

  useEffect(() => {
    const fetchUsers = async () => {
      try {
        setIsLoading(true);
        const response = await apiClient.get("/users");
        const mappedUsers: RegistrationRequest[] = (response.data.data || []).map((u: any) => ({
          id: u.id,
          name: u.name || "N/A",
          email: u.email,
          avatar: u.image || "",
          totalCoins: u.coins || 0,
          places: 0, // Placeholder
          lastVisit: { location: "N/A", time: "N/A" },
          status: "approved",
        }));
        setUsers(mappedUsers);
      } catch (error) {
        console.error("Failed to fetch users:", error);
        toast.error("Failed to load users");
      } finally {
        setIsLoading(false);
      }
    };

    fetchUsers();
  }, []);

  return (
    <AuthGuard>
      <AppShell user={displayUser} menu={menu}>
        <PageHeader breadcrumbs={[{ label: "Home", href: "/" }, { label: "Users" }]} />
        <div className="space-y-8">
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            <ValueCard title="All Users" value={users.length} unit="Users" description="+2.4%" label="All time" />
            <ValueCard title="Active" value={0} unit="Users" description="+0%" label="Today" />
            <ValueCard title="Restricted" value={0} unit="Users" description="0%" label="All time" />
            <ValueCard title="Visitors" value={0} unit="Users" description="+0" label="Now" />
          </div>

          <ActivityTrendChart data={chartData} />

          <ProgressTable
            data={users}
            title="Registered Users"
            onViewDetails={(req) => setSelected(req)}
          />
        </div>
        <UserDetailsModal selected={selected} onClose={() => setSelected(null)} />
      </AppShell>
    </AuthGuard>
  );
}
</file>

<file path="components/businesses/business-progress-table.tsx">
"use client"

import React, { useState, useMemo } from "react"
import {
  ChevronDown,
  ChevronUp,
  MoreHorizontal,
} from "lucide-react"
import TableControls from "@/components/ui/table-controls"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"

export interface BusinessVisitHistory {
  id: string
  businessName: string
  email: string
  avatar: string
  time: {
    date: string
    clock: string
  }
  category: string
  subcategory: string
  rewards: number
  rewarded?: boolean
}

interface BusinessProgressTableProps {
  data: BusinessVisitHistory[]
  title?: string
  onViewDetails?: (visit: BusinessVisitHistory) => void
}

type SortField = "group" | "rewards" | null
type SortDirection = "asc" | "desc"

const ITEMS_PER_PAGE = 5

const BusinessProgressTable: React.FC<BusinessProgressTableProps> = ({
  data,
  title = "Visit History",
  onViewDetails,
}) => {
  const [sortField, setSortField] = useState<SortField>(null)
  const [sortDirection, setSortDirection] = useState<SortDirection>("asc")
  const [currentPage, setCurrentPage] = useState(1)
  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())
  const [searchValue, setSearchValue] = useState("")
  const [filterValue, setFilterValue] = useState("all")
  const [sortValue, setSortValue] = useState("default")

  // Filter and sort options
  const filterOptions = [
    { value: "all", label: "All Rewards" },
    { value: "rewarded", label: "Rewarded" },
    { value: "pending", label: "Pending" },
  ]

  const sortOptions = [
    { value: "default", label: "Default" },
    { value: "group-asc", label: "Name A-Z" },
    { value: "group-desc", label: "Name Z-A" },
    { value: "rewards-asc", label: "Rewards Low-High" },
    { value: "rewards-desc", label: "Rewards High-Low" },
  ]

  const handleSort = (field: SortField) => {
    if (sortField === field) {
      setSortDirection(sortDirection === "asc" ? "desc" : "asc")
    } else {
      setSortField(field)
      setSortDirection("asc")
    }
  }

  const handleSortChange = (value: string) => {
    setSortValue(value)
    if (value === "default") {
      setSortField(null)
      setSortDirection("asc")
    } else {
      const [field, direction] = value.split("-")
      setSortField(field as SortField)
      setSortDirection(direction as SortDirection)
    }
  }

  const getRewardBadge = (rewarded?: boolean) => {
    const baseClasses =
      "inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium"
    return rewarded
      ? `${baseClasses} bg-green-900/30 text-green-300 border border-green-900`
      : `${baseClasses} hidden`
  }

  const SortIcon = ({ field }: { field: SortField }) => {
    if (sortField !== field) {
      return <ChevronDown className="w-4 h-4 opacity-50" />
    }
    return sortDirection === "asc" ? (
      <ChevronUp className="w-4 h-4" />
    ) : (
      <ChevronDown className="w-4 h-4" />
    )
  }

  // Filtering and sorting logic
  const filteredAndSortedData = useMemo(() => {
    let filtered = [...(data ?? [])]

    // Apply search filter
    if (searchValue) {
      filtered = filtered.filter((item) =>
        item.businessName.toLowerCase().includes(searchValue.toLowerCase()) ||
        item.email.toLowerCase().includes(searchValue.toLowerCase()) ||
        item.category.toLowerCase().includes(searchValue.toLowerCase())
      )
    }

    // Apply reward filter
    if (filterValue === "rewarded") {
      filtered = filtered.filter((item) => item.rewarded === true)
    } else if (filterValue === "pending") {
      filtered = filtered.filter((item) => item.rewarded !== true)
    }

    // Apply sorting
    if (sortField) {
      filtered.sort((a, b) => {
        let valA, valB
        if (sortField === "group") {
          valA = a.businessName.toLowerCase()
          valB = b.businessName.toLowerCase()
        } else if (sortField === "rewards") {
          valA = a.rewards
          valB = b.rewards
        }
        if (valA! < valB!) return sortDirection === "asc" ? -1 : 1
        if (valA! > valB!) return sortDirection === "asc" ? 1 : -1
        return 0
      })
    }

    return filtered
  }, [data, searchValue, filterValue, sortField, sortDirection])

  // Page numbers with ellipsis
  const getPageNumbers = (totalPages: number, currentPage: number) => {
    const pages: (number | string)[] = []

    if (totalPages <= 7) {
      for (let i = 1; i <= totalPages; i++) {
        pages.push(i)
      }
    } else {
      pages.push(1)

      if (currentPage > 3) {
        pages.push("...")
      }

      const start = Math.max(2, currentPage - 1)
      const end = Math.min(totalPages - 1, currentPage + 1)

      for (let i = start; i <= end; i++) {
        if (!pages.includes(i)) pages.push(i)
      }

      if (currentPage < totalPages - 2) {
        pages.push("...")
      }

      pages.push(totalPages)
    }

    return pages
  }

  // Pagination
  const totalPages = Math.ceil(filteredAndSortedData.length / ITEMS_PER_PAGE)
  const paginatedData = filteredAndSortedData.slice(
    (currentPage - 1) * ITEMS_PER_PAGE,
    currentPage * ITEMS_PER_PAGE
  )

  const allSelectedOnPage =
    paginatedData.length > 0 &&
    paginatedData.every((r) => selectedIds.has(r.id))
  const someSelectedOnPage =
    paginatedData.some((r) => selectedIds.has(r.id)) && !allSelectedOnPage

  const toggleSelectAllOnPage = () => {
    const next = new Set(selectedIds)
    if (allSelectedOnPage) {
      paginatedData.forEach((r) => next.delete(r.id))
    } else {
      paginatedData.forEach((r) => next.add(r.id))
    }
    setSelectedIds(next)
  }

  const toggleSelectOne = (id: string) => {
    const next = new Set(selectedIds)
    if (next.has(id)) next.delete(id)
    else next.add(id)
    setSelectedIds(next)
  }

  return (
    <div className="dark">
      <div className="">
        <div className="mx-auto">
          {/* Table Controls */}
          <TableControls
            searchValue={searchValue}
            onSearchChange={setSearchValue}
            filterValue={filterValue}
            onFilterChange={setFilterValue}
            sortValue={sortValue}
            onSortChange={handleSortChange}
            filterOptions={filterOptions}
            sortOptions={sortOptions}
          />

          {/* Table */}
          <div className="bg-brand-dark-900 rounded-lg border border-brand-dark-800 overflow-hidden">
            <Table>
              <TableHeader>
                {/* Full-width title row with fixed height 49px */}
                <TableRow className="border-brand-dark-800 bg-brand-dark-900 hover:bg-transparent">
                  <TableHead colSpan={6} className="h-[49px]">
                    <div className="flex items-center justify-between">
                      <h1 className="text-xl font-semibold text-brand-dark-100">{title}</h1>
                      <button className="p-2 hover:bg-brand-dark-800 rounded-lg transition-colors">
                        <MoreHorizontal className="w-5 h-5 text-brand-dark-400" />
                      </button>
                    </div>
                  </TableHead>
                </TableRow>
                <TableRow className="border-brand-dark-800 bg-brand-dark-900 hover:bg-transparent">
                  <TableHead className="w-12">
                    <input
                      type="checkbox"
                      aria-label="Select all"
                      checked={allSelectedOnPage}
                      onChange={toggleSelectAllOnPage}
                      ref={(el) => {
                        if (el) el.indeterminate = someSelectedOnPage
                      }}
                      className="h-4 w-4 rounded border border-brand-dark-600 bg-brand-dark-900 focus:ring-0 appearance-none grid place-content-center transition-colors checked:bg-brand-dark-700 checked:border-brand-dark-500 before:content-[''] before:w-2 before:h-2 before:rounded-[2px] before:bg-transparent checked:before:bg-white"
                    />
                  </TableHead>
                  <TableHead>
                    <button
                      className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                      onClick={() => handleSort("group")}
                    >
                      Group
                      <SortIcon field="group" />
                    </button>
                  </TableHead>
                  <TableHead className="text-brand-dark-300">Time</TableHead>
                  <TableHead className="text-brand-dark-300">Category</TableHead>
                  <TableHead>
                    <button
                      className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                      onClick={() => handleSort("rewards")}
                    >
                      Rewards
                      <SortIcon field="rewards" />
                    </button>
                  </TableHead>
                  <TableHead className="text-brand-dark-300">Action</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {paginatedData.map((visit) => (
                  <TableRow key={visit.id} className="border-brand-dark-800 hover:bg-brand-dark-800/50">
                    <TableCell>
                      <input
                        type="checkbox"
                        aria-label={`Select ${visit.businessName}`}
                        checked={selectedIds.has(visit.id)}
                        onChange={() => toggleSelectOne(visit.id)}
                      className="h-4 w-4 rounded border border-brand-dark-600 bg-brand-dark-800 focus:ring-0 appearance-none grid place-content-center transition-colors checked:bg-brand-dark-700 checked:border-brand-dark-500 before:content-[''] before:w-2 before:h-2 before:rounded-[2px] before:bg-transparent checked:before:bg-white"
                      />
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-3">
                        <div className="w-10 h-10 rounded-full bg-brand-dark-900 flex items-center justify-center">
                          <div className="w-6 h-6 text-white font-bold text-xs">S</div>
                        </div>
                        <div>
                          <div className="font-medium text-brand-dark-100">
                            {visit.businessName}
                          </div>
                          <div className="text-sm text-brand-dark-400">
                            {visit.email}
                          </div>
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex flex-col justify-center">
                        <div className="font-medium text-brand-dark-100">
                          {visit.time.date}
                        </div>
                        <div className="text-sm text-brand-dark-400">
                          {visit.time.clock}
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex flex-col justify-center">
                        <div className="font-medium text-brand-dark-100">
                          {visit.category}
                        </div>
                        <div className="text-sm text-brand-dark-400">
                          {visit.subcategory}
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-3">
                        {!visit.rewarded && (
                          <div className="font-semibold text-red-400">
                            {visit.rewards > 0
                              ? `+${visit.rewards}`
                              : `${visit.rewards}`}
                          </div>
                        )}
                        {visit.rewarded && (
                          <span className={getRewardBadge(true)}>
                            <span className="w-2 h-2 rounded-full bg-white mr-2"></span>
                            Rewarded
                          </span>
                        )}
                      </div>
                    </TableCell>
                    <TableCell>
                      <button
                        onClick={() => onViewDetails?.(visit)}
                        className="px-4 py-2 bg-[#ffffff] text-brand-dark-800 rounded-lg text-sm font-medium transition-colors border border-brand-dark-700"
                      >
                        View Details
                      </button>
                    </TableCell>
                  </TableRow>
                ))}
              </TableBody>
              {/* Full-width pagination row */}
              <TableRow className="border-brand-dark-800 bg-brand-dark-900 hover:bg-brand-dark-800/50">
                <TableCell colSpan={6} className="p-3">
                  <div className="flex items-center justify-center gap-2">
                    <button
                      className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                      disabled={currentPage === 1}
                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}
                    >
                      Prev
                    </button>

                    {getPageNumbers(totalPages, currentPage).map((page, index) =>
                      page === "..." ? (
                        <span key={`dots-${index}`} className="px-2 text-brand-dark-500">...</span>
                      ) : (
                        <button
                          key={`page-${page}`}
                          className={`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${
                            currentPage === page
                              ? "text-brand-dark-100"
                              : "text-brand-dark-400 hover:text-brand-dark-100"
                          }`}
                          onClick={() => setCurrentPage(Number(page))}
                        >
                          {page}
                        </button>
                      )
                    )}

                    <button
                      className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                      disabled={currentPage === totalPages}
                      onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}
                    >
                      Next
                    </button>
                  </div>
                </TableCell>
              </TableRow>
            </Table>
          </div>
        </div>
      </div>
    </div>
  )
}

export default BusinessProgressTable
</file>

<file path="components/landing/Navbar.tsx">
"use client";

import Image from "next/image";
import Link from "next/link";
import { useState } from "react";
import { motion } from "framer-motion";

export default function Navbar() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  return (
    <header className="relative z-50 bg-transparent pt-4 sm:pt-6 md:pt-8 lg:pt-32">
      <nav className="max-w-7xl mx-auto px-4 sm:px-6 md:px-12 lg:px-24 xl:px-40">
        <div className="flex items-center justify-between h-14 sm:h-16 md:h-20 gap-4 sm:gap-8">
          {/* Logo */}
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5 }}
          >
            <Link
              href="/"
              className="flex items-center space-x-2 flex-shrink-0 group"
            >
              <motion.div
                whileHover={{ scale: 1.1, rotate: 12 }}
                transition={{ type: "spring", stiffness: 400, damping: 10 }}
              >
                <Image
                  src="/logo.png"
                  alt="Hano"
                  width={40}
                  height={40}
                  className="w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-10 lg:h-10"
                />
              </motion.div>
              <motion.span
                className="text-lg sm:text-xl md:text-2xl lg:text-3xl font-medium"
                whileHover={{ color: "#a855f7" }}
                transition={{ duration: 0.2 }}
              >
                Hano
              </motion.span>
            </Link>
          </motion.div>

          {/* Desktop Navigation */}
          <motion.div
            className="hidden md:flex items-center space-x-4 lg:space-x-8 xl:space-x-10 flex-1 justify-center"
            initial={{ opacity: 0, y: -10 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            {["Home", "Our Products", "Resources", "Places"].map((item) => (
              <motion.div
                key={item}
                whileHover={{ scale: 1.1 }}
                whileTap={{ scale: 0.95 }}
              >
                <Link
                  href={`#${item.toLowerCase()}`}
                  className="text-white transition-all duration-300 text-sm lg:text-base font-semibold"
                >
                  {item}
                </Link>
              </motion.div>
            ))}
          </motion.div>

          {/* Auth Buttons */}
          <motion.div
            className="hidden md:flex items-center space-x-3 lg:space-x-5 flex-shrink-0"
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.2 }}
          >
            <Link href="/signup" className="text-sm lg:text-base text-[var(--landing-text-muted-soft)]">
              <motion.div
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
              >
                Sign Up
              </motion.div>
            </Link>
            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
              <Link
                href="/login"
                className="px-4 lg:px-6 py-2 lg:py-2.5 bg-white text-black rounded-lg hover:bg-gray-200 transition-all duration-300 text-sm lg:text-base font-medium"
              >
                Log in
              </Link>
            </motion.div>
          </motion.div>

          {/* Mobile Menu Button */}
          <motion.button
            className="md:hidden ml-2 p-2 hover:bg-white/10 rounded-lg transition-all duration-300"
            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
            whileHover={{ scale: 1.05 }}
            whileTap={{ scale: 0.95 }}
          >
            <svg
              className={`w-5 h-5 sm:w-6 sm:h-6 transition-transform duration-300 ${
                mobileMenuOpen ? "rotate-90" : ""
              }`}
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              {mobileMenuOpen ? (
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M6 18L18 6M6 6l12 12"
                />
              ) : (
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M4 6h16M4 12h16M4 18h16"
                />
              )}
            </svg>
          </motion.button>
        </div>
      </nav>

      {/* Mobile Menu */}
      {mobileMenuOpen && (
        <motion.div
          className="md:hidden absolute top-full left-0 right-0 bg-black/95 backdrop-blur-lg border-t border-white/10 z-50"
          initial={{ opacity: 0, y: -20 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: -20 }}
          transition={{ duration: 0.3 }}
        >
          <div className="px-4 sm:px-6 py-4 sm:py-6 space-y-3 sm:space-y-4">
            {["home", "products", "resources", "places"].map((item, index) => (
              <motion.div
                key={item}
                initial={{ opacity: 0, x: -20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ delay: index * 0.05 }}
              >
              <Link
                href={`#${item}`}
                className="block text-[var(--landing-text-muted-soft)] hover:text-white transition-colors text-sm sm:text-base py-2"
                  onClick={() => setMobileMenuOpen(false)}
                >
                  {item.charAt(0).toUpperCase() + item.slice(1)}
                </Link>
              </motion.div>
            ))}
            <div className="pt-3 sm:pt-4 border-t border-white/10 space-y-2 sm:space-y-3">
              <Link href="/signup" onClick={() => setMobileMenuOpen(false)}>
                <motion.div
                  whileHover={{ scale: 1.02 }}
                  className="block text-center text-[var(--landing-text-muted-soft)] hover:text-white transition-colors text-sm sm:text-base py-2"
                >
                  Sign Up
                </motion.div>
              </Link>
              <Link href="/login" onClick={() => setMobileMenuOpen(false)}>
                <motion.div
                  whileHover={{ scale: 1.02 }}
                  className="block text-center px-4 sm:px-6 py-2 sm:py-3 bg-white text-black rounded-lg hover:bg-gray-200 transition-all duration-300 text-sm sm:text-base font-medium"
                >
                  Log in
                </motion.div>
              </Link>
            </div>
          </div>
        </motion.div>
      )}
    </header>
  );
}
</file>

<file path="components/login-form.tsx">
"use client"

import type React from "react"
import { useState, useEffect } from "react"
import { useRouter } from "next/navigation"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import { Checkbox } from "@/components/ui/checkbox"
import Image from "next/image"
import { apiClient } from "@/lib/api-client"
import { setTokens } from "@/lib/auth"
import { useAuth } from "@/contexts/auth-context"

export function LoginForm() {
  const [email, setEmail] = useState("")
  const [password, setPassword] = useState("")
  const [rememberMe, setRememberMe] = useState(false)
  const [error, setError] = useState("")
  const [isLoading, setIsLoading] = useState(false)
  const router = useRouter()
  const { refreshProfile, isAuthenticated } = useAuth()

  // Redirect if already authenticated
  useEffect(() => {
    if (isAuthenticated) {
      router.push("/");
    }
  }, [isAuthenticated, router])

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    setError("")
    setIsLoading(true)

    // Clear any old/expired tokens before attempting new login
    // This prevents 401 errors from expired tokens being sent with the login request
    localStorage.removeItem("accessToken")
    localStorage.removeItem("refreshToken")

    try {
      const response = await apiClient.post("/auth/login", {
        email: email.trim(),
        password: password,
      })

      const { accessToken, refreshToken } = response.data

      if (accessToken && refreshToken) {
        setTokens(accessToken, refreshToken)
        // Refresh the profile to update the global auth context
        await refreshProfile()
        router.push("/")
      } else {
        setError("Invalid response from server. Please try again.")
      }
    } catch (err: any) {
      // Log detailed error information for debugging
      console.error("Login Error Details:", err.response?.data)

      // Extract the most specific error message available
      const errorMessage =
        err.response?.data?.error?.message ||
        err.response?.data?.message ||
        err.response?.data?.error ||
        "Invalid credentials. Please try logging in again or check your password."

      setError(errorMessage)
      console.error("Login error:", err)
    } finally {
      setIsLoading(false)
    }
  }

  return (
    <div
      className="flex flex-col items-center space-y-6 mx-auto"
      style={{
        width: "360px",
        fontFamily: "var(--font-montserrat), sans-serif"
      }}
    >
      {/* Logo */}
      <div className="flex justify-center">
        <div className="w-[50px] h-[56px] flex items-center justify-center">
          <Image src="./logo.png" alt="Hano Logo" width={32} height={32} className="w-[50px] h-[56px]" />
        </div>
      </div>

      {/* Header */}
      <div className="text-center space-y-2 w-full">
        <h2
          className="text-white font-medium"
          style={{
            width: "360px",
            height: "29px",
            fontFamily: "var(--font-montserrat), sans-serif",
            fontSize: "24px",
            fontWeight: 500,
            lineHeight: "29px"
          }}
        >
          Log in to your account
        </h2>
        <p
          className="text-brand-dark-400"
          style={{
            width: "360px",
            height: "17px",
            fontFamily: "var(--font-montserrat), sans-serif",
            fontSize: "16px",
            fontWeight: 400,
            lineHeight: "17px"
          }}
        >
          Welcome back! Please enter your details.
        </p>
      </div>

      {/* Form */}
      <form onSubmit={handleSubmit} className="space-y-4 w-full" style={{ width: "360px" }}>
        <div className="space-y-2 w-full">
          <Label
            htmlFor="email"
            className="text-white block"
            style={{
              width: "41px",
              height: "17px",
              fontFamily: "var(--font-montserrat), sans-serif",
              fontSize: "14px",
              fontWeight: 600,
              lineHeight: "17px"
            }}
          >
            Email
          </Label>
          <Input
            id="email"
            type="text"
            placeholder="Enter your email"
            value={email}
            onChange={(e) => {
              setEmail(e.target.value)
              setError("")
            }}
            className="text-white placeholder:text-brand-dark-400 focus:outline-none rounded-lg border border-brand-dark-600"
            style={{
              width: "360px",
              height: "55px",
              padding: "10px 14px",
              backgroundColor: "#1E1E1E99",
              fontFamily: "var(--font-montserrat), sans-serif"
            }}
            required
          />
        </div>

        <div className="space-y-2 w-full">
          <Label
            htmlFor="password"
            className="text-white block"
            style={{
              width: "41px",
              height: "17px",
              fontFamily: "var(--font-montserrat), sans-serif",
              fontSize: "14px",
              fontWeight: 600,
              lineHeight: "17px"
            }}
          >
            Password
          </Label>
          <Input
            id="password"
            type="password"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            value={password}
            onChange={(e) => {
              setPassword(e.target.value)
              setError("")
            }}
            className="text-white placeholder:text-brand-dark-400 focus:outline-none rounded-lg border border-brand-dark-600"
            style={{
              width: "360px",
              height: "55px",
              padding: "10px 14px",
              backgroundColor: "#1E1E1E99",
              fontFamily: "var(--font-montserrat), sans-serif"
            }}
            required
          />
        </div>

        {/* Error message */}
        {error && (
          <div className="bg-red-900/20 border border-red-900/50 rounded-lg p-3 w-full" style={{ width: "360px" }}>
            <p className="text-red-400 text-sm" style={{ fontFamily: "var(--font-montserrat), sans-serif" }}>{error}</p>
          </div>
        )}

        <div className="flex items-center justify-between w-full" style={{ width: "360px" }}>
          <div className="flex items-center space-x-2">
            <Checkbox
              id="remember"
              checked={rememberMe}
              onCheckedChange={(checked) => setRememberMe(checked as boolean)}
              className="border-brand-dark-600 data-[state=checked]:bg-tertiary-600 data-[state=checked]:border-tertiary-600"
            />
            <Label
              htmlFor="remember"
              className="text-sm text-brand-dark-400"
              style={{ fontFamily: "var(--font-montserrat), sans-serif" }}
            >
              Remember for 30 days
            </Label>
          </div>
          <button
            type="button"
            className="text-sm transition-colors"
            style={{
              color: "#D63D34",
              fontFamily: "var(--font-montserrat), sans-serif"
            }}
          >
            Forgot password
          </button>
        </div>

        <Button
          type="submit"
          className="w-full bg-white text-black hover:bg-brand-dark-100 transition-colors"
          style={{
            width: "360px",
            fontFamily: "var(--font-montserrat), sans-serif"
          }}
          disabled={isLoading}
        >
          {isLoading ? "Signing in..." : "Sign in"}
        </Button>
      </form>

      {/* Sign up link */}
      <div className="text-center w-full" style={{ width: "360px" }}>
        <span
          className="text-brand-dark-400 text-sm"
          style={{ fontFamily: "var(--font-montserrat), sans-serif" }}
        >
          Don't have an account?{" "}
        </span>
        <button
          className="text-sm font-medium transition-colors"
          style={{
            color: "#D63D34",
            fontFamily: "var(--font-montserrat), sans-serif"
          }}
        >
          Sign up
        </button>
      </div>
    </div>
  )
}
</file>

<file path="components/businesses/business-history-table.tsx">
"use client"

import React, { useState, useMemo } from "react"
import {
  ChevronDown,
  ChevronUp,
  MoreHorizontal,
} from "lucide-react"
import TableControls from "@/components/ui/table-controls"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"

export interface BusinessVisit {
  id: string
  businessName: string
  email: string
  avatar: string
  category: string
  subcategory: string
  clients: number
  coinsPerVisit: number
  currentPlan: "Free" | "Pending" | "Hotel" | "Rejected" | "Approved"
  time: {
    date: string
    clock: string
  }
}

interface BusinessHistoryTableProps {
  data: BusinessVisit[]
  title?: string
  onViewDetails?: (visit: BusinessVisit) => void
  onApprove?: (id: string) => void
  variant?: "default" | "pending"
}

type SortField = "group" | "currentPlan" | null
type SortDirection = "asc" | "desc"

const ITEMS_PER_PAGE = 5

const BusinessHistoryTable: React.FC<BusinessHistoryTableProps> = ({
  data,
  title = "Recent Business Registration Requests",
  onViewDetails,
  onApprove,
  variant = "default",
}) => {
  const [sortField, setSortField] = useState<SortField>(null)
  const [sortDirection, setSortDirection] = useState<SortDirection>("asc")
  const [currentPage, setCurrentPage] = useState(1)
  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())
  const [searchValue, setSearchValue] = useState("")
  const [filterValue, setFilterValue] = useState("all")
  const [sortValue, setSortValue] = useState("default")

  // Filter and sort options
  const filterOptions = [
    { value: "all", label: "All Plans" },
    { value: "Free", label: "Free" },
    { value: "Pending", label: "Pending" },
    { value: "Approved", label: "Approved" },
    { value: "Rejected", label: "Rejected" },
    { value: "Hotel", label: "Hotel" },
  ]

  const sortOptions = [
    { value: "default", label: "Default" },
    { value: "group-asc", label: "Name A-Z" },
    { value: "group-desc", label: "Name Z-A" },
    { value: "plan-asc", label: "Plan A-Z" },
    { value: "plan-desc", label: "Plan Z-A" },
  ]

  const handleSort = (field: SortField) => {
    if (sortField === field) {
      setSortDirection(sortDirection === "asc" ? "desc" : "asc")
    } else {
      setSortField(field)
      setSortDirection("asc")
    }
  }

  const handleSortChange = (value: string) => {
    setSortValue(value)
    if (value === "default") {
      setSortField(null)
      setSortDirection("asc")
    } else {
      const [field, direction] = value.split("-")
      setSortField(field as SortField)
      setSortDirection(direction as SortDirection)
    }
  }

  const getPlanBadge = (plan: string) => {
    const baseClasses = "inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"
    switch (plan) {
      case "Free":
        return `${baseClasses} bg-blue-900/30 text-blue-300 border border-blue-900`
      case "Pending":
        return `${baseClasses} bg-blue-900/30 text-blue-300 border border-blue-900`
      case "Hotel":
        return `${baseClasses} bg-green-900/30 text-green-300 border border-green-900`
      case "Rejected":
        return `${baseClasses} bg-red-900/30 text-red-300 border border-red-900`
      case "Approved":
        return `${baseClasses} bg-green-900/30 text-green-300 border border-green-900`
      default:
        return baseClasses
    }
  }

  const SortIcon = ({ field }: { field: SortField }) => {
    if (sortField !== field) {
      return <ChevronDown className="w-4 h-4 opacity-50" />
    }
    return sortDirection === "asc" ? (
      <ChevronUp className="w-4 h-4" />
    ) : (
      <ChevronDown className="w-4 h-4" />
    )
  }

  // Filtering and sorting logic
  const filteredAndSortedData = useMemo(() => {
    let filtered = [...(data ?? [])]

    // If pending variant, only show pending records
    if (variant === "pending") {
      filtered = filtered.filter((item) => item.currentPlan === "Pending")
    }

    // Apply search filter
    if (searchValue) {
      filtered = filtered.filter((item) =>
        item.businessName.toLowerCase().includes(searchValue.toLowerCase()) ||
        item.email.toLowerCase().includes(searchValue.toLowerCase()) ||
        item.category.toLowerCase().includes(searchValue.toLowerCase())
      )
    }

    // Apply plan filter
    if (filterValue && filterValue !== "all") {
      filtered = filtered.filter((item) => item.currentPlan === filterValue)
    }

    // Apply sorting
    if (sortField) {
      filtered.sort((a, b) => {
        let valA, valB
        if (sortField === "group") {
          valA = a.businessName.toLowerCase()
          valB = b.businessName.toLowerCase()
        } else if (sortField === "currentPlan") {
          valA = a.currentPlan
          valB = b.currentPlan
        }
        if (valA! < valB!) return sortDirection === "asc" ? -1 : 1
        if (valA! > valB!) return sortDirection === "asc" ? 1 : -1
        return 0
      })
    }

    return filtered
  }, [data, searchValue, filterValue, sortField, sortDirection])

  // Page numbers with ellipsis
  const getPageNumbers = (totalPages: number, currentPage: number) => {
    const pages: (number | string)[] = []

    if (totalPages <= 7) {
      for (let i = 1; i <= totalPages; i++) {
        pages.push(i)
      }
    } else {
      pages.push(1)

      if (currentPage > 3) {
        pages.push("...")
      }

      const start = Math.max(2, currentPage - 1)
      const end = Math.min(totalPages - 1, currentPage + 1)

      for (let i = start; i <= end; i++) {
        if (!pages.includes(i)) pages.push(i)
      }

      if (currentPage < totalPages - 2) {
        pages.push("...")
      }

      pages.push(totalPages)
    }

    return pages
  }

  // Pagination
  const totalPages = Math.ceil(filteredAndSortedData.length / ITEMS_PER_PAGE)
  const paginatedData = filteredAndSortedData.slice(
    (currentPage - 1) * ITEMS_PER_PAGE,
    currentPage * ITEMS_PER_PAGE
  )

  const allSelectedOnPage =
    paginatedData.length > 0 &&
    paginatedData.every((r) => selectedIds.has(r.id))
  const someSelectedOnPage =
    paginatedData.some((r) => selectedIds.has(r.id)) && !allSelectedOnPage

  const toggleSelectAllOnPage = () => {
    const next = new Set(selectedIds)
    if (allSelectedOnPage) {
      paginatedData.forEach((r) => next.delete(r.id))
    } else {
      paginatedData.forEach((r) => next.add(r.id))
    }
    setSelectedIds(next)
  }

  const toggleSelectOne = (id: string) => {
    const next = new Set(selectedIds)
    if (next.has(id)) next.delete(id)
    else next.add(id)
    setSelectedIds(next)
  }

  return (
    <div className="dark">
      <div className="">
        <div className="mx-auto">
          {/* Table Controls */}
          <TableControls
            searchValue={searchValue}
            onSearchChange={setSearchValue}
            filterValue={filterValue}
            onFilterChange={setFilterValue}
            sortValue={sortValue}
            onSortChange={handleSortChange}
            filterOptions={filterOptions}
            sortOptions={sortOptions}
          />

          {/* Table */}
          <div className="rounded-lg border border-brand-dark-800 overflow-hidden">
            <Table>
              <TableHeader>
                {/* Full-width title row with fixed height 49px */}
                <TableRow className="border-brand-dark-800 bg-brand-dark-900 hover:bg-transparent">
                  <TableHead colSpan={variant !== "pending" ? 7 : 6} className="h-[49px]">
                    <div className="flex items-center justify-between">
                      <h1 className="text-xl font-semibold text-brand-dark-100">{title}</h1>
                      <button className="p-2 hover:bg-brand-dark-800 rounded-lg transition-colors">
                        <MoreHorizontal className="w-5 h-5 text-brand-dark-400" />
                      </button>
                    </div>
                  </TableHead>
                </TableRow>
                <TableRow className="border-brand-dark-800 bg-brand-dark-900 hover:bg-transparent">
                  <TableHead className="w-12">
                    <input
                      type="checkbox"
                      aria-label="Select all"
                      checked={allSelectedOnPage}
                      onChange={toggleSelectAllOnPage}
                      ref={(el) => {
                        if (el) el.indeterminate = someSelectedOnPage
                      }}
                      className="h-4 w-4 rounded border border-brand-dark-600 bg-brand-dark-900 focus:ring-0 appearance-none grid place-content-center transition-colors checked:bg-brand-dark-700 checked:border-brand-dark-500 before:content-[''] before:w-2 before:h-2 before:rounded-[2px] before:bg-transparent checked:before:bg-white"
                    />
                  </TableHead>
                  <TableHead>
                    <button
                      className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                      onClick={() => handleSort("group")}
                    >
                      Group
                      <SortIcon field="group" />
                    </button>
                  </TableHead>
                  <TableHead className="text-brand-dark-300">Category</TableHead>
                  <TableHead className="text-brand-dark-300">Clients</TableHead>
                  <TableHead className="text-brand-dark-300">Coins Per Visit</TableHead>
                  {variant !== "pending" && (
                    <TableHead>
                      <button
                        className="flex items-center gap-2 text-left text-sm font-medium text-brand-dark-300 hover:text-brand-dark-100 transition-colors"
                        onClick={() => handleSort("currentPlan")}
                      >
                        Current Plan
                        <SortIcon field="currentPlan" />
                      </button>
                    </TableHead>
                  )}
                  <TableHead className="text-brand-dark-300">Action</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {paginatedData.map((visit) => (
                  <TableRow key={visit.id} className="border-brand-dark-800 bg-brand-dark-900 hover:bg-brand-dark-800/50">
                    <TableCell>
                      <input
                        type="checkbox"
                        aria-label={`Select ${visit.businessName}`}
                        checked={selectedIds.has(visit.id)}
                        onChange={() => toggleSelectOne(visit.id)}
                        className="h-4 w-4 rounded border border-brand-dark-600 bg-brand-dark-800 focus:ring-0 appearance-none grid place-content-center transition-colors checked:bg-brand-dark-700 checked:border-brand-dark-500 before:content-[''] before:w-2 before:h-2 before:rounded-[2px] before:bg-transparent checked:before:bg-white"
                      />
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-3">
                        <div className="w-10 h-10 rounded-full bg-brand-dark-900 flex items-center justify-center">
                          <div className="w-6 h-6 text-white font-bold text-xs">S</div>
                        </div>
                        <div>
                          <div className="font-medium text-brand-dark-100">
                            {visit.businessName}
                          </div>
                          <div className="text-sm text-brand-dark-400">
                            {visit.email}
                          </div>
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex flex-col justify-center">
                        <div className="font-medium text-brand-dark-100">
                          {visit.category}
                        </div>
                        <div className="text-sm text-brand-dark-400">
                          {visit.subcategory}
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2">
                        <div className="flex -space-x-2">
                          {Array.from({ length: 4 }, (_, i) => (
                            <div
                              key={i}
                              className="w-6 h-6 rounded-full bg-brand-dark-900 border-2 border-brand-dark-800"
                            />
                          ))}
                        </div>
                        <span className="text-sm text-brand-dark-400">+{visit.clients}</span>
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="font-semibold text-red-400">
                        +{visit.coinsPerVisit}
                      </div>
                    </TableCell>
                    {variant !== "pending" && (
                      <TableCell>
                        <span className={getPlanBadge(visit.currentPlan)}>
                          <span className="w-2 h-2 rounded-full bg-white mr-2"></span>
                          {visit.currentPlan}
                        </span>
                      </TableCell>
                    )}
                    <TableCell>
                      {variant === "pending" ? (
                        <div className="flex items-center gap-2">
                          <button
                            onClick={() => onViewDetails?.(visit)}
                            className="px-4 py-2 bg-brand-dark-800 text-brand-dark-200 rounded-lg text-sm font-medium transition-colors border border-brand-dark-700"
                          >
                            Details
                          </button>
                          <button
                            onClick={() => onApprove?.(visit.id)}
                            className="px-4 py-2 bg-[#ffffff] text-brand-dark-800 rounded-lg text-sm font-medium transition-colors border border-brand-dark-700"
                          >
                            Approve
                          </button>
                        </div>
                      ) : (
                        <button
                          onClick={() => onViewDetails?.(visit)}
                          className="px-4 py-2 bg-[#ffffff] text-brand-dark-800 rounded-lg text-sm font-medium transition-colors border border-brand-dark-700"
                        >
                          View Details
                        </button>
                      )}
                    </TableCell>
                  </TableRow>
                ))}
                {/* Full-width pagination row */}
                <TableRow className="border-brand-dark-800 bg-brand-dark-900 hover:bg-brand-dark-800/50">
                  <TableCell colSpan={variant !== "pending" ? 7 : 6} className="p-3">
                    <div className="flex items-center justify-center gap-2">
                      <button
                        className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                        disabled={currentPage === 1}
                        onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}
                      >
                        Prev
                      </button>

                      {getPageNumbers(totalPages, currentPage).map((page, index) =>
                        page === "..." ? (
                          <span key={`dots-${index}`} className="px-2 text-brand-dark-500">...</span>
                        ) : (
                          <button
                            key={`page-${page}`}
                            className={`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${currentPage === page
                              ? "text-brand-dark-100"
                              : "text-brand-dark-400 hover:text-brand-dark-100"
                              }`}
                            onClick={() => setCurrentPage(Number(page))}
                          >
                            {page}
                          </button>
                        )
                      )}

                      <button
                        className="px-3 py-2 text-sm text-brand-dark-400 hover:text-brand-dark-100 disabled:opacity-50"
                        disabled={currentPage === totalPages}
                        onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}
                      >
                        Next
                      </button>
                    </div>
                  </TableCell>
                </TableRow>
              </TableBody>
            </Table>
          </div>
        </div>
      </div>
    </div>
  )
}

export default BusinessHistoryTable
</file>

<file path="components/layout/page-header.tsx">
"use client"

import React from "react"
import { Calendar, Upload } from "lucide-react"
import {
  Breadcrumb,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbList,
  BreadcrumbPage,
  BreadcrumbSeparator,
} from "@/components/ui/breadcrumb"
import { Button } from "@/components/ui/button"
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select"

interface Crumb {
  label: string
  href?: string
}

interface PageHeaderProps {
  breadcrumbs: Crumb[]
  onExport?: () => void
  actions?: React.ReactNode
  hideDefaultActions?: boolean
}

export default function PageHeader({ breadcrumbs, onExport, actions, hideDefaultActions }: PageHeaderProps) {
  const last = breadcrumbs[breadcrumbs.length - 1]
  const rest = breadcrumbs.slice(0, -1)

  return (
    <div className="flex items-center justify-between py-2 mb-4">
      <Breadcrumb>
        <BreadcrumbList>
          {rest.map((c, idx) => (
            <React.Fragment key={`${c.label}-${idx}`}>
              <BreadcrumbItem>
                {c.href ? (
                  <BreadcrumbLink href={c.href} className="text-brand-dark-400">
                    {c.label}
                  </BreadcrumbLink>
                ) : (
                  <BreadcrumbLink className="text-brand-dark-400">{c.label}</BreadcrumbLink>
                )}
              </BreadcrumbItem>
              <BreadcrumbSeparator />
            </React.Fragment>
          ))}
          <BreadcrumbItem>
            <BreadcrumbPage className="text-brand-dark-50">{last?.label}</BreadcrumbPage>
          </BreadcrumbItem>
        </BreadcrumbList>
      </Breadcrumb>

      <div className="flex items-center gap-4">
        {actions}
        {!hideDefaultActions && (
          <>
            <Select defaultValue="range">
              <SelectTrigger className="min-w-[180px] h-14 px-5 bg-brand-dark-900 border-brand-dark-700 text-brand-dark-100 *:data-[slot=select-value]:text-brand-dark-100 rounded-xl">
                <Calendar className="w-5 h-5 text-brand-dark-300" />
                <SelectValue placeholder="Select Dates" />
              </SelectTrigger>
              <SelectContent className="text-brand-dark-100 bg-brand-dark-900 border-brand-dark-700">
                <SelectItem value="today">Today</SelectItem>
                <SelectItem value="7d">Last 7 days</SelectItem>
                <SelectItem value="30d">Last 30 days</SelectItem>
                <SelectItem value="range">Select dates</SelectItem>
              </SelectContent>
            </Select>

            <Button onClick={onExport} className="h-14 px-5 text-base bg-white text-brand-dark-900 hover:bg-gray-100 font-bold rounded-xl">
              <Upload className="w-5 h-5 mr-2" />
              Generate Report
            </Button>
          </>
        )}
      </div>
    </div>
  )
}
</file>

<file path="components/landing/FooterSection.tsx">
"use client";

import Image from "next/image";
import Link from "next/link";
import { useRef } from "react";
import { motion, useInView } from "framer-motion";

export default function FooterSection() {
  const containerRef = useRef(null);
  const isInView = useInView(containerRef, { once: false, amount: 0.3 });

  return (
    <motion.footer
      ref={containerRef}
      className="bg-black border-t border-[var(--landing-divider)]"
      initial={{ opacity: 0 }}
      animate={isInView ? { opacity: 1 } : { opacity: 0 }}
      transition={{ duration: 0.6 }}
    >
      <div className="container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 max-w-7xl py-10 sm:py-12 md:py-16 lg:py-20">
        <div className="text-center mb-10 md:mb-12">
          <motion.div
            className="inline-flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 rounded-2xl mb-4 md:mb-6"
            whileHover={{ scale: 1.1, rotate: 5 }}
          >
            <Image src="/logo.png" alt="Hano" width={32} height={32} />
          </motion.div>
          <motion.h3
            className="text-3xl font-bold mb-3 md:mb-4"
            initial={{ opacity: 0, y: 20 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
            transition={{ duration: 0.5 }}
          >
            Let's get started on something great
          </motion.h3>
          <motion.p
            className="text-[var(--landing-text-muted)] text-xl mb-6 md:mb-8"
            initial={{ opacity: 0, y: 20 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            Join over 4,000+ startups already growing with Hano.
          </motion.p>
          <motion.div
            className="flex flex-col sm:flex-row items-center justify-center gap-3 md:gap-4"
            initial={{ opacity: 0, y: 20 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
            transition={{ duration: 0.5, delay: 0.2 }}
          >
            {["View demo", "Get started"].map((btn, index) => (
              <motion.button
                key={btn}
                className={`px-5 md:px-6 py-2.5 md:py-3 rounded-lg text-base flex items-center justify-center gap-2 ${
                  index === 0 ? "bg-[var(--landing-surface)] text-[var(--landing-text-muted)]" : "bg-white text-black"
                } w-full sm:w-auto`}
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
              >
                {index === 0 && (
                  <span className="inline-flex items-center justify-center w-6 h-6 rounded-full border border-[var(--landing-text-muted)] text-[var(--landing-text-muted)]">
                    <svg className="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M8 5v14l11-7-11-7z" />
                    </svg>
                  </span>
                )}
                {btn}
              </motion.button>
            ))}
          </motion.div>
        </div>

        <div className="border-t-2 pt-6 md:pt-8" style={{ borderColor: "var(--landing-text-muted)" }}>
          <motion.div
            className="flex flex-col sm:flex-row justify-between items-center gap-4"
            initial={{ opacity: 0 }}
            animate={isInView ? { opacity: 1 } : { opacity: 0 }}
            transition={{ duration: 0.5, delay: 0.3 }}
          >
            <p className="text-[var(--landing-text-muted)] text-base">Â© {new Date().getFullYear()} Hano Places. All rights reserved.</p>
            <div className="flex space-x-4 md:space-x-6">
              {["Terms", "Privacy", "Cookies"].map((link) => (
                <Link key={link} href="#" className="text-[var(--landing-text-muted)] hover:text-white transition text-base">
                  {link}
                </Link>
              ))}
            </div>
          </motion.div>
        </div>
      </div>
    </motion.footer>
  );
}
</file>

<file path="components/landing/TeamSection.tsx">
"use client";

import { useRef } from "react";
import { motion, useInView } from "framer-motion";
import TeamCard from "@/components/TeamCard";

export default function TeamSection() {
  const team = [
    {
      name: "Ihirwe Patrick",
      role: "Founder & CEO",
      bio: "Visionary leader driving innovation and growth at Hano.",
      image: "/team/amelie.jpg",
    },
    {
      name: "Kwizera Olivier",
      role: "Mobile Developer",
      bio: "Crafting seamless mobile experiences for iOS and Android.",
      image: "/team/nikolas.jpg",
    },
    {
      name: "Kirezi Livia",
      role: "Marketing & Communications",
      bio: "Driving brand awareness and customer engagement strategies.",
      image: "/team/sienna.jpg",
    },
    {
      name: "Hatuma Charles",
      role: "Frontend Developer",
      bio: "Creating beautiful and intuitive user interfaces.",
      image: "/team/lily.jpg",
    },
    {
      name: "Irere",
      role: "Backend Developer",
      bio: "Building robust and scalable backend systems for Hano.",
      image: "/team/zahra.jpg",
    },
  ];

  const containerRef = useRef(null);
  const isInView = useInView(containerRef, { once: false, amount: 0.2 });

  return (
    <motion.section
      ref={containerRef}
      className="py-12 sm:py-16 md:py-24 lg:py-32 bg-black"
      initial={{ opacity: 0 }}
      animate={isInView ? { opacity: 1 } : { opacity: 0 }}
      transition={{ duration: 0.6 }}
    >
      <div className="container mx-auto max-w-7xl px-4 sm:px-6 md:px-12 lg:px-24 xl:px-40">
        <div className="text-center mb-10 md:mb-16">
          <motion.h2
            className="text-4xl font-bold mb-3 md:mb-4"
            initial={{ opacity: 0, y: 30 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 30 }}
            transition={{ duration: 0.6 }}
          >
            Meet our team
          </motion.h2>
          <motion.p
            className="text-[var(--landing-text-muted)] text-xl mx-auto mb-6 md:mb-8"
            initial={{ opacity: 0, y: 30 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 30 }}
            transition={{ duration: 0.6, delay: 0.1 }}
          >
            Our philosophy is simple â€” hire a team of diverse, passionate people and foster a culture that empowers you
            to do your best work.
          </motion.p>
          <motion.div
            className="flex flex-col sm:flex-row flex-wrap items-center justify-center gap-3 md:gap-4"
            initial={{ opacity: 0, y: 20 }}
            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
            transition={{ duration: 0.6, delay: 0.2 }}
          >
            {["About us", "Open positions"].map((btn, index) => (
              <motion.button
                key={btn}
                className={`px-5 md:px-6 py-2.5 md:py-3 rounded-lg text-sm md:text-base ${
                  index === 0
                    ? "border border-[var(--landing-divider)] text-[var(--landing-text-muted)] hover:bg-[var(--landing-surface)]"
                    : "bg-white text-black hover:bg-gray-200"
                } transition w-full sm:w-auto`}
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
              >
                {btn}
              </motion.button>
            ))}
          </motion.div>
        </div>

        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 md:gap-x-8 gap-y-8 md:gap-y-12 mx-auto mt-10 md:mt-16">
          {team.map((member, index) => (
            <motion.div
              key={index}
              initial={{ opacity: 0, y: 50 }}
              animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 50 }}
              transition={{ duration: 0.6, delay: index * 0.1 }}
              whileHover={{ y: -10 }}
            >
              <TeamCard name={member.name} role={member.role} bio={member.bio} image={member.image} bgColor={member.bgColor} />
            </motion.div>
          ))}
        </div>
      </div>
    </motion.section>
  );
}
</file>

<file path="components/landing/FeaturesSection.tsx">
"use client";

import NotificationCard from "@/components/NotificationCard";
import SectionBadge from "./SectionBadge";
import Image from "next/image";
import CheckListItem from "./CheckListItem";

export default function FeaturesSection() {
  return (
    <section className="pt-16 md:pt-24 lg:pt-32 bg-[var(--landing-bg-primary)] relative overflow-hidden">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
        {/* Header */}
        <div className="text-center mb-2 md:mb-3 lg:mb-4">
          <SectionBadge>Features</SectionBadge>
          <h2 className="text-4xl font-bold mb-6 md:mb-8 max-w-5xl mx-auto leading-tight px-4">
            Smart features for a seamless discovery experience
          </h2>
          <p className="text-xl text-[var(--landing-text-muted)] max-w-4xl mx-auto leading-relaxed px-4">
            Discover, book, and enjoy Rwanda's best restaurants, hotels, and
            cafÃ©s â€” all in one place.
          </p>
        </div>
      </div>

      {/* Phone Mockup with Background - Hidden on mobile */}
      <div className="relative mb-16 md:mb-20 lg:mb-24">
        {/* Background image - only visible on larger screens */}
        <div
          className="hidden lg:block w-full bg-cover bg-center bg-no-repeat relative min-h-[900px]"
          style={{ backgroundImage: "url('/landing/landing_features_bg.png')" }}
        >
          {/* Notification Cards - Desktop */}
          <div className="absolute left-[25%] bottom-[8%] z-20 space-y-5">
            <NotificationCard
              userName="Olivia Rhye"
              action="shared moments at"
              place="Kigali Lounge & Grill"
              placeColor="text-purple-400"
              avatarType="circle"
              avatarColor="bg-pink-400"
            />
            <NotificationCard
              userName="Candice Wu"
              action="redeemed a 10% reward at"
              place="Java House Kigali"
              placeColor="text-green-400"
              avatarType="circle"
              avatarColor="bg-blue-400"
            />
            <NotificationCard
              userName="Nyandungu Eco Park"
              action="raised rewards to"
              place="1.4k RWF"
              placeColor="text-orange-400"
              avatarType="square"
              avatarColor="bg-[var(--landing-icon-bg)]"
            />
            <NotificationCard
              userName="Lana Steiner"
              action="just launched"
              place="The 10k users challenge workbook"
              placeColor="text-blue-400"
              avatarType="circle"
              avatarColor="bg-teal-400"
            />
          </div>
        </div>

        {/* Mobile/Tablet view - Just notification cards without background */}
        <div className="lg:hidden container mx-auto px-4 sm:px-6 space-y-4 py-8">
          <NotificationCard
            userName="Olivia Rhye"
            action="shared moments at"
            place="Kigali Lounge & Grill"
            placeColor="text-purple-400"
            avatarType="circle"
            avatarColor="bg-pink-400"
          />
          <NotificationCard
            userName="Candice Wu"
            action="redeemed a 10% reward at"
            place="Java House Kigali"
            placeColor="text-green-400"
            avatarType="circle"
            avatarColor="bg-blue-400"
          />
          <NotificationCard
            userName="Nyandungu Eco Park"
            action="raised rewards to"
            place="1.4k RWF"
            placeColor="text-orange-400"
            avatarType="square"
              avatarColor="bg-[var(--landing-icon-bg)]"
          />
          <NotificationCard
            userName="Lana Steiner"
            action="just launched"
            place="The 10k users challenge workbook"
            placeColor="text-blue-400"
            avatarType="circle"
            avatarColor="bg-teal-400"
          />
        </div>
      </div>

      {/* Kigali Business Scene */}
      <div className="w-full bg-[var(--landing-bg-secondary)] py-8 md:py-10 lg:py-12 mb-12 md:mb-16 lg:mb-20">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
          <div className="grid sm:grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 lg:gap-10 items-center">
            <div>
              <div className="w-12 h-12 bg-[var(--landing-icon-bg)] rounded-full flex items-center justify-center mb-4">
                <svg
                  className="w-6 h-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth={2}
                    d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"
                  />
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth={2}
                    d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                </svg>
              </div>
              <h2 className="text-2xl sm:text-3xl md:text-4xl font-bold mb-3 md:mb-4">
                Discover Kigali's vibrant business scene
              </h2>
              <p className="text-[var(--landing-text-muted)] text-base sm:text-lg md:text-xl mb-4 md:mb-6">
                Explore Rwanda's finest places â€” from local favorites to new
                discoveries.
              </p>
              <ul className="space-y-3">
                <CheckListItem>
                  Track engagement from your visitors across Kigali
                </CheckListItem>
                <CheckListItem>
                  Promote your business to locals and travelers alike
                </CheckListItem>
                <CheckListItem>
                  Gain insights that help you grow and stand out in the city
                </CheckListItem>
              </ul>
            </div>

            <div className="relative">
              <div className="overflow-hidden">
                <Image
                  src="/landing/kigali_scene.png"
                  alt="Kigali Business Scene"
                  width={600}
                  height={400}
                  className="w-full h-auto"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Business Tools */}
      <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl mb-16 md:mb-24 lg:mb-32">
        <div className="text-center mb-12 md:mb-16 lg:mb-20">
          <SectionBadge>Features</SectionBadge>
          <h2 className="text-4xl font-bold mb-8 max-w-5xl mx-auto leading-tight">
            Smart tools to power your business Hano
          </h2>
          <p className="text-[var(--landing-text-muted)] text-xl max-w-4xl mx-auto leading-relaxed">
            Simple yet powerful features that help your place attract more visitors, increase visibility, and manage your activities effortlessly.
          </p>
        </div>

        {/* Business Features Grid */}
        <div className="grid sm:grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 lg:gap-10 mx-auto mb-16 md:mb-24 lg:mb-32">
          {/* Track Performance */}
          <div className="text-center group hover:transform hover:-translate-y-2 transition-all duration-300 animate-fade-in-up mb-8">
            <div className="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
              <svg
                className="w-8 h-8 text-white"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M13 10V3L4 14h7v7l9-11h-7z"
                />
              </svg>
            </div>
            <h3 className="text-xl font-semibold mb-3 group-hover:text-purple-400 transition-colors">
              Track your performance
            </h3>
            <p className="text-[var(--landing-text-muted)] text-base leading-relaxed">
              Get clear insights into visits, engagement, menu views, and promo usage. Filter and explore your data in seconds.
            </p>
          </div>

          {/* Engage with Customers */}
          <div className="text-center group hover:transform hover:-translate-y-2 transition-all duration-300 animate-fade-in-up animation-delay-200 mb-8">
            <div className="w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
              <svg
                className="w-8 h-8 text-white"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"
                />
              </svg>
            </div>
            <h3 className="text-xl font-semibold mb-3 group-hover:text-orange-400 transition-colors">
              Engage with customers
            </h3>
            <p className="text-[var(--landing-text-muted)] text-base leading-relaxed">
              Share updates, promotions, and moments in real time. Keep your audience informed and build stronger customer connections.
            </p>
          </div>

          {/* Integrate Effortlessly */}
          <div className="text-center group hover:transform hover:-translate-y-2 transition-all duration-300 animate-fade-in-up animation-delay-400 mb-8">
            <div className="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
              <svg
                className="w-8 h-8 text-white"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M4 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-3zM14 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1h-4a1 1 0 01-1-1v-3z"
                />
              </svg>
            </div>
            <h3 className="text-xl font-semibold mb-3 group-hover:text-blue-400 transition-colors">
              Integrate effortlessly
            </h3>
            <p className="text-[var(--landing-text-muted)] text-base leading-relaxed">
              Sync your location, menu, booking links, and social pages. Everything works smoothly so you can focus on serving your customers.
            </p>
          </div>

          {/* Support */}
          <div className="text-center group hover:transform hover:-translate-y-2 transition-all duration-300 animate-fade-in-up animation-delay-600 mb-8">
            <div className="w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
              <svg
                className="w-8 h-8 text-white"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"
                />
              </svg>
            </div>
            <h3 className="text-xl font-semibold mb-3 group-hover:text-green-400 transition-colors">
              We're here to support you
            </h3>
            <p className="text-[var(--landing-text-muted)] text-base leading-relaxed">
              Get help anytime from the Hano support team. We guide you as you grow your presence and attract more visitors.
            </p>
          </div>
        </div>
      </div>

      {/* Advanced Analytics */}
      <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl mb-20 md:mb-28 lg:mb-32">
        <div className="text-center mb-10 md:mb-14">
          <SectionBadge>Features</SectionBadge>
          <h2 className="text-4xl font-bold mt-6 mb-4 leading-tight">
            Cutting-edge features for advanced analytics
          </h2>
          <p className="text-xl text-[var(--landing-text-muted)] max-w-4xl mx-auto leading-relaxed">
            Powerful, self-serve product and growth analytics to help you convert, engage, and
            retain more users. Trusted by over 4,000 startups.
          </p>
        </div>
        <div className="rounded-3xl p-4 sm:p-6 md:p-10">
          <Image
            src="/landing/landing_features_electronics.png"
            alt="Advanced analytics preview"
            width={1600}
            height={900}
            className="w-full h-auto drop-shadow-2xl"
            priority
          />
        </div>
      </div>
    </section>
  );
}
</file>

<file path="app/page.tsx">
"use client";

import { useEffect } from "react";
import { useRouter } from "next/navigation";
import { useAuth } from "@/contexts/auth-context";
import AdminDashboardContent from "@/components/admin/AdminDashboardContent";
import { AuthGuard } from "@/components/auth-guard";

export default function RootPage() {
  const { user, isLoading, isAuthenticated } = useAuth();
  const router = useRouter();

  useEffect(() => {
    if (!isLoading && isAuthenticated) {
      // If NOT an admin (explicitly false), move them to the Business Dashboard
      if (user?.isSuperAdmin === false) {
        router.push("/dashboard");
      }
    } else if (!isLoading && !isAuthenticated) {
      router.push("/login");
    }
  }, [user, isLoading, isAuthenticated, router]);

  if (isLoading) {
    return (
      <div className="min-h-screen bg-[#0C0C0C] flex items-center justify-center font-montserrat">
        <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>
      </div>
    );
  }

  if (isAuthenticated && user?.isSuperAdmin) {
    return (
      <AuthGuard>
        <AdminDashboardContent />
      </AuthGuard>
    );
  }

  return null;
}
</file>

<file path="app/landing/page.tsx">
"use client";

import { useState, useEffect } from "react";
import HeroSection from "@/components/landing/HeroSection";
import FeaturesSection from "@/components/landing/FeaturesSection";
import TeamSection from "@/components/landing/TeamSection";
import FAQSection from "@/components/landing/FAQSection";
import FooterSection from "@/components/landing/FooterSection";
import ScrollToTop from "@/components/landing/ScrollToTop";

export default function LandingPage() {
  const [showScrollTop, setShowScrollTop] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setShowScrollTop(window.scrollY > 400);
    };
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  };

  return (
    <div className="min-h-screen bg-black text-white">
      <HeroSection />
      <FeaturesSection />
      <TeamSection />
      <FAQSection />
      <FooterSection />
      <ScrollToTop show={showScrollTop} onClick={scrollToTop} />
    </div>
  );
}
</file>

</files>
